  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/confirmable"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/validatable"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[36mSpree::Preference Load (1.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "adella.luettgen@streichsawayn.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "51235ed930bcf68eece8a406ac80b91f0e672e0cef119fb6810cbeafb47a0b803295e05475bae7e1a12a6616b2ad02f54a813bbbe78a4d4554afb77ac9972f11"], ["password_salt", "rUqWMDi-rGvqAQs7UCTa"], ["email", "adella.luettgen@streichsawayn.ca"], ["login", "adella.luettgen@streichsawayn.ca"], ["authentication_token", "xxxx15387514368001xxxxxxxxxxxxx"], ["created_at", "2018-10-05 14:57:16.305334"], ["updated_at", "2018-10-05 14:57:16.305334"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "bryanna@fahey.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "04cb04a8fbcd58585c071e585288af0482ceef748fc653fa921929733382c5d7011e2148da27cb6517451697f116fc4c04eb80087c3dcdcb7d8d0b625a52f3fe"], ["password_salt", "b6myx2NzsuAUsVXJY6Pe"], ["email", "bryanna@fahey.co.uk"], ["login", "bryanna@fahey.co.uk"], ["authentication_token", "xxxx15387529032981xxxxxxxxxxxxx"], ["created_at", "2018-10-05 15:21:43.213161"], ["updated_at", "2018-10-05 15:21:43.213161"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "alfonso.abernathy@glover.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "fae19ebd254e6ed767245e2c0774b163a454e7f0d12e430c13c9c331af3cea8a6aed76349dc023ac179c49f23149669f63822639a91a47a49601fcad91236dd1"], ["password_salt", "ntn34EJuJETyyEPi1h_T"], ["email", "alfonso.abernathy@glover.biz"], ["login", "alfonso.abernathy@glover.biz"], ["authentication_token", "xxxx15387529281851xxxxxxxxxxxxx"], ["created_at", "2018-10-05 15:22:08.253373"], ["updated_at", "2018-10-05 15:22:08.253373"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "crystle_marks@beattytrantow.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "fd49ae7b85080c1689acfae4547b05d059f17441d10d3ab7299219aedfbf11860791dd98afa2c1f0624d2c072d399757a74568fa8939a27ad2b832f0d4ef5c0e"], ["password_salt", "VvmCXy5LZ9xN-6_nxteu"], ["email", "crystle_marks@beattytrantow.biz"], ["login", "crystle_marks@beattytrantow.biz"], ["authentication_token", "xxxx15387531215401xxxxxxxxxxxxx"], ["created_at", "2018-10-05 15:25:21.128611"], ["updated_at", "2018-10-05 15:25:21.128611"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "wilbur@collier.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "1e896cfdcb40c115814b0becbdf937148896ac9dee9747d372183aab3cfc0eb0bcdfa26ced9859ce4528164fcb52233a152b1ff3ee5dbdee5903f568ea4528da"], ["password_salt", "QY6vQZq95EV1W1RBqLTU"], ["email", "wilbur@collier.us"], ["login", "wilbur@collier.us"], ["authentication_token", "xxxx15387531696711xxxxxxxxxxxxx"], ["created_at", "2018-10-05 15:26:09.775984"], ["updated_at", "2018-10-05 15:26:09.775984"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "danilo@ruecker.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "1e859982c0313707c4be56f70ff8ded875867395f732b35fa7b5b691058ad43bfcb9d7ab28bbd7ad0f9e1ec27f67df8add597a7a0e225fce0c474d6bc8f8caad"], ["password_salt", "YURRCv5PTz4GcCx4AN-E"], ["email", "danilo@ruecker.us"], ["login", "danilo@ruecker.us"], ["authentication_token", "xxxx15387532501421xxxxxxxxxxxxx"], ["created_at", "2018-10-05 15:27:30.259431"], ["updated_at", "2018-10-05 15:27:30.259431"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "blossom@oberbrunner.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "79ffd3c9bf81c5c809ed46d31b1e73b1884b5d4c19485cde9f5788617ed6461a1a0d0d39f3837429af90bfc499157c0c84a6ca01dd3163d94a9dd5f50962bbdb"], ["password_salt", "NdfHK25PH1Gz7exsx23y"], ["email", "blossom@oberbrunner.ca"], ["login", "blossom@oberbrunner.ca"], ["authentication_token", "xxxx15387532766211xxxxxxxxxxxxx"], ["created_at", "2018-10-05 15:27:56.277631"], ["updated_at", "2018-10-05 15:27:56.277631"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "dominga.waelchi@bergnaum.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "4c939e34b93e0e43d9eadf0216abb6199db76699cf8a57cd1d231c669c4ca6cee1a8228ac483a437cf5ff3b89fd6e40db9c34462a59323209aa75339a9ec0020"], ["password_salt", "rA2Mm8zX3fC_xisNjaG6"], ["email", "dominga.waelchi@bergnaum.ca"], ["login", "dominga.waelchi@bergnaum.ca"], ["authentication_token", "xxxx153875332521xxxxxxxxxxxxx"], ["created_at", "2018-10-05 15:28:45.412372"], ["updated_at", "2018-10-05 15:28:45.412372"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "velma@dare.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "0cb1a5b2697ca5340a42d2b02dacc60943e5affe445dd348e46d1e7aa8bd61bba16154a8c5d75caeecee27e9b324be4d9d97082449d8b991862d9a7aaed7400c"], ["password_salt", "KkNTpFDk-c2oPjskDzzx"], ["email", "velma@dare.com"], ["login", "velma@dare.com"], ["authentication_token", "xxxx15387533587931xxxxxxxxxxxxx"], ["created_at", "2018-10-05 15:29:18.906165"], ["updated_at", "2018-10-05 15:29:18.906165"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "larisa.block@oconner.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "6d2fe49cdbfe050874fc4c01b4dfc69145b531ddefbc63073b629563bd669c06b4399770ffb21e02feed6f4a0fd520f5bc4415083bec2caaeed6f1f795902224"], ["password_salt", "ykbuU_JwRaAGhJajyjxQ"], ["email", "larisa.block@oconner.name"], ["login", "larisa.block@oconner.name"], ["authentication_token", "xxxx15387533826351xxxxxxxxxxxxx"], ["created_at", "2018-10-05 15:29:42.139402"], ["updated_at", "2018-10-05 15:29:42.139402"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (9.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "orval@hahn.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "8ce14d80160d99cf73987a9faa2169fa554f1d76478d80b88f08d4aeaf4ff2d1dc300aa8c04cad3d00460b286fa3d89c87c2914dc8c05ab550db7a883ee4fe8b"], ["password_salt", "ZWEZaG5WDzZJi9enmFjQ"], ["email", "orval@hahn.ca"], ["login", "orval@hahn.ca"], ["authentication_token", "xxxx1538753592841xxxxxxxxxxxxx"], ["created_at", "2018-10-05 15:33:12.742543"], ["updated_at", "2018-10-05 15:33:12.742543"]]
  [1m[35mSQL (24.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 1], ["user_id", 31]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "tama.damore@will.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "bce45b1d7bc41dad067937a4535e9b31f0f5b15ed0bf8065bd0bcd61fdc93462adaf6ef41f53982a9b66aac185edeb2acf5ffcb7cbd73346f70621e302759cf3"], ["password_salt", "nV1JD8X9PRNyuCbt7LLo"], ["email", "tama.damore@will.com"], ["login", "tama.damore@will.com"], ["authentication_token", "xxxx15387536395971xxxxxxxxxxxxx"], ["created_at", "2018-10-05 15:33:59.128761"], ["updated_at", "2018-10-05 15:33:59.128761"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 2], ["user_id", 32]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "peter@rippin.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "9130836801f640e0c7ad39f298bc1336b8aa95c07abb91cfc9fbcca6ad41d23e5b1374ac27e32931f66e212cedc0456a6b1afd200a36bde95cc1cf8e748481f5"], ["password_salt", "sJ87oEiXoqpRPyzGphzs"], ["email", "peter@rippin.co.uk"], ["login", "peter@rippin.co.uk"], ["authentication_token", "xxxx15387536992961xxxxxxxxxxxxx"], ["created_at", "2018-10-05 15:34:59.811805"], ["updated_at", "2018-10-05 15:34:59.811805"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 3], ["user_id", 33]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/products" for 127.0.0.1 at 2018-10-05 17:34:59 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 15:34:59.833971"], ["last_sign_in_at", "2018-10-05 15:34:59.833971"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 15:34:59.834903"], ["id", 33]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "zTAQZ2s8cJz-RvlwxclEkA1538753700000"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.0ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%www.example.com%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.7ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" IS NULL LIMIT $3[0m  [["currency", "USD"], ["guest_token", "zTAQZ2s8cJz-RvlwxclEkA1538753700000"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."store_id" IS NULL AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 33], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/products_per_page"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_products_without_price"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering spree/products/index.html.erb within spree/layouts/spree_application
  [1m[36mSpree::Taxonomy Load (39.5ms)[0m  [1m[34mSELECT "spree_taxonomies".* FROM "spree_taxonomies" ORDER BY spree_taxonomies.position, spree_taxonomies.created_at[0m
  [1m[35m (84.5ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:35:00.072087') AND ("spree_products".available_on <= '2018-10-05 15:35:00.071969') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4) subquery_for_count[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[35mSQL (5.3ms)[0m  [1m[34mSELECT  DISTINCT "spree_products"."id" FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_product_promotion_rules" ON "spree_product_promotion_rules"."product_id" = "spree_products"."id" LEFT OUTER JOIN "spree_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" LEFT OUTER JOIN "spree_promotions" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2018-10-05 15:35:00.304202') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2018-10-05 15:35:00.304446') WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:35:00.072087') AND ("spree_products".available_on <= '2018-10-05 15:35:00.071969') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $3 LIMIT $4 OFFSET $5[0m  [["is_master", "t"], ["advertise", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" IS NULL LIMIT $3[0m  [["currency", "USD"], ["guest_token", "zTAQZ2s8cJz-RvlwxclEkA1538753700000"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."store_id" IS NULL AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 33], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (1.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:35:00.072087') AND ("spree_products".available_on <= '2018-10-05 15:35:00.071969') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2[0m  [["is_master", "t"], ["currency", "USD"]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:35:00.072087') AND ("spree_products".available_on <= '2018-10-05 15:35:00.071969') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (1.1ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:35:00.072087') AND ("spree_products".available_on <= '2018-10-05 15:35:00.071969') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  Rendered spree/shared/trackers/segment/_product_list_viewed.js.erb (2.7ms)
  Rendered spree/shared/_products.html.erb (17.1ms)
  Rendered spree/products/index.html.erb within spree/layouts/spree_application (242.5ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_core-3.4.5/app/views/spree/shared/_paths.html.erb (1.2ms)
  Rendered spree/shared/_translations.html.erb (0.7ms)
  Rendered spree/shared/_head.html.erb (17395.4ms)
  [1m[36mSpree::Tracker Load (50.3ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."engine" = $1 AND "spree_trackers"."active" = $2 ORDER BY "spree_trackers"."id" ASC LIMIT $3[0m  [["engine", 0], ["active", "t"], ["LIMIT", 1]]
  Rendered spree/shared/_google_analytics.js.erb (60.7ms)
  [1m[36mSpree::Tracker Load (0.6ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."engine" = $1 AND "spree_trackers"."active" = $2 ORDER BY "spree_trackers"."id" ASC LIMIT $3[0m  [["engine", 1], ["active", "t"], ["LIMIT", 1]]
  Rendered spree/shared/trackers/segment/_initializer.js.erb (3.7ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[36mSpree::Taxon Load (44.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft" ASC[0m
  Rendered spree/shared/_search.html.erb (55.2ms)
  Rendered spree/shared/_nav_bar.html.erb (58.5ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" IS NULL LIMIT $3[0m  [["currency", "USD"], ["guest_token", "zTAQZ2s8cJz-RvlwxclEkA1538753700000"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."store_id" IS NULL AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 33], ["LIMIT", 1]]
  Rendered spree/shared/_main_nav_bar.html.erb (51.2ms)
  Rendered spree/shared/_header.html.erb (129.6ms)
Completed 200 OK in 17938ms (Views: 17582.0ms | ActiveRecord: 287.8ms)
  [1m[36mSpree::Product Load (2.2ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:35:00.072087') AND ("spree_products".available_on <= '2018-10-05 15:35:00.071969') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (1.1ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:35:00.072087') AND ("spree_products".available_on <= '2018-10-05 15:35:00.071969') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 11], ["OFFSET", 0]]
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "dorothy_walter@wyman.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "aaa327e1ac5943338bfd8b308d71ce02a598be5cc9f9d55445b33635107f296eb6d615443d95c9906bf3a640c75c05b43dc7dca24ef9d0841c199f201be57697"], ["password_salt", "8sRWxD1dVqxTyJ5-AzPt"], ["email", "dorothy_walter@wyman.co.uk"], ["login", "dorothy_walter@wyman.co.uk"], ["authentication_token", "xxxx15387538103791xxxxxxxxxxxxx"], ["created_at", "2018-10-05 15:36:50.195909"], ["updated_at", "2018-10-05 15:36:50.195909"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 4], ["user_id", 34]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 17:36:50 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 15:36:50.219079"], ["last_sign_in_at", "2018-10-05 15:36:50.219079"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 15:36:50.220017"], ["id", 34]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "g-Q478JPhF0h3BfYhvFp9w1538753810351"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-05 15:36:50.364399"], ["spree_api_key", "7227a63833b0b3b168972250b64b9140fc0d9e7ef0a46bde"], ["id", 34]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_products_per_page"], ["LIMIT", 1]]
  Rendering /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:36:50.369087')[0m
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (23.4ms)
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:36:50.369087') LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (1.6ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin (60.6ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_core-3.4.5/app/views/spree/shared/_paths.html.erb (1.1ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_translations.html.erb (4.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_head.html.erb (400.6ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 0 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_account_nav.html.erb (2.5ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_header.html.erb (12.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.3ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.1ms)
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%www.example.com%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (29.8ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (62.1ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_main_menu.html.erb (131.7ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_version.html.erb (2.6ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_content_header.html.erb (0.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_table_filter.html.erb (1.1ms)
Completed 200 OK in 696ms (Views: 616.9ms | ActiveRecord: 60.7ms)
  [1m[36mSpree::Product Load (1.2ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:36:50.369087') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:36:50.369087') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "maisie.feil@goldner.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "adbe980058992dd7a7b0536f95616e9e532bdf38b70708a8fbc246c35e56f223cf6edad0f979621ccf81577f9d38f2f327d56ba4be268292e80ca51c9a173c9f"], ["password_salt", "zNssNy5fchm8r4vJ4VMw"], ["email", "maisie.feil@goldner.us"], ["login", "maisie.feil@goldner.us"], ["authentication_token", "xxxx15387545069151xxxxxxxxxxxxx"], ["created_at", "2018-10-05 15:48:27.043260"], ["updated_at", "2018-10-05 15:48:27.043260"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 5], ["user_id", 35]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 17:48:27 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 15:48:27.065359"], ["last_sign_in_at", "2018-10-05 15:48:27.065359"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 15:48:27.066257"], ["id", 35]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "sOQ2WdMgp0ANRm569givig1538754507221"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-05 15:48:27.235477"], ["spree_api_key", "22d7b55436d6c12d798284005b1007dbd5ff5d4fd736d22c"], ["id", 35]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158')[0m
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (33.8ms)
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (2.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin (62.4ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_core-3.4.5/app/views/spree/shared/_paths.html.erb (1.1ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_translations.html.erb (4.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_head.html.erb (458.0ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 0 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_account_nav.html.erb (2.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_header.html.erb (11.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_returns.html.erb (3.1ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_product.html.erb (28.6ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.2ms)
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%www.example.com%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (26.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_main_menu.html.erb (117.0ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_version.html.erb (1.0ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_content_header.html.erb (0.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_table_filter.html.erb (1.2ms)
Completed 200 OK in 738ms (Views: 694.1ms | ActiveRecord: 26.9ms)
  [1m[36mSpree::Product Load (1.2ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 15:48:27.240158') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "aurora@gibson.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "4e7e424d50358dcff64297b1433e779edfc973fe9eafb602b5ad9dfad8469636b26a075e7589f675773eaefe3b16316b5cd71ae97c4ab3308e15f2f41f4ec78b"], ["password_salt", "tys5hQ4xxzD9HwpBJy-_"], ["email", "aurora@gibson.com"], ["login", "aurora@gibson.com"], ["authentication_token", "xxxx15387553715691xxxxxxxxxxxxx"], ["created_at", "2018-10-05 16:02:51.587973"], ["updated_at", "2018-10-05 16:02:51.587973"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 6], ["user_id", 36]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 18:02:51 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 16:02:51.609541"], ["last_sign_in_at", "2018-10-05 16:02:51.609541"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 16:02:51.610537"], ["id", 36]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "S6icL-QQkOfg6BIcOLnq5w1538755371746"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-05 16:02:51.760103"], ["spree_api_key", "4e979e098032ef40f760d08b59954a737d1862a3609c14e9"], ["id", 36]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:02:51.764985')[0m
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (27.0ms)
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:02:51.764985') LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (1.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin (51.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_core-3.4.5/app/views/spree/shared/_paths.html.erb (1.2ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_translations.html.erb (4.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_head.html.erb (395.0ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 0 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_account_nav.html.erb (2.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_header.html.erb (11.6ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.2ms)
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%www.example.com%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (28.5ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_main_menu.html.erb (98.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_version.html.erb (1.0ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_content_header.html.erb (0.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_table_filter.html.erb (1.1ms)
Completed 200 OK in 663ms (Views: 621.1ms | ActiveRecord: 24.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "sanjuana@schmitt.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "0c4621023d427c399cd77ab42a62a94a87e32170b37d47e24fca3130e6256062eba6cbae469411cb562e1cfd45ebfa1f8581cb61acc059f93edaea9fe139cdcf"], ["password_salt", "8pjQfhuyMuSJKs3tfaLx"], ["email", "sanjuana@schmitt.biz"], ["login", "sanjuana@schmitt.biz"], ["authentication_token", "xxxx1538755516911xxxxxxxxxxxxx"], ["created_at", "2018-10-05 16:05:16.416102"], ["updated_at", "2018-10-05 16:05:16.416102"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 7], ["user_id", 37]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 18:05:16 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 16:05:16.438723"], ["last_sign_in_at", "2018-10-05 16:05:16.438723"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 16:05:16.439616"], ["id", 37]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "vViqBATFy3hiBuCt2np0jg1538755516597"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-05 16:05:16.611458"], ["spree_api_key", "672c7fe06df986553ec121e92c157a4101bb0bc534e41b41"], ["id", 37]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:05:16.616193')[0m
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (24.6ms)
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:05:16.616193') LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (2.3ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin (51.1ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_core-3.4.5/app/views/spree/shared/_paths.html.erb (1.2ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_translations.html.erb (4.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_head.html.erb (610.3ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 0 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_account_nav.html.erb (2.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_header.html.erb (11.6ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.6ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.2ms)
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%www.example.com%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (27.1ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_main_menu.html.erb (90.2ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_version.html.erb (1.0ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_content_header.html.erb (1.0ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_table_filter.html.erb (1.1ms)
Completed 200 OK in 850ms (Views: 807.5ms | ActiveRecord: 25.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "kelli@kuphalmcdermott.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "be8ecf53a4480417f7fb8283a860c8078d4cb526e6a8d7a7ab31be686e8547ff1bf0210d233bf9a774ac9dd9d889512eb21dedcc165d3b55f9fc9f060adb3f12"], ["password_salt", "6UaD17nHPg_-dvoX7mLz"], ["email", "kelli@kuphalmcdermott.co.uk"], ["login", "kelli@kuphalmcdermott.co.uk"], ["authentication_token", "xxxx15387555412051xxxxxxxxxxxxx"], ["created_at", "2018-10-05 16:05:41.579338"], ["updated_at", "2018-10-05 16:05:41.579338"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 8], ["user_id", 38]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 18:05:41 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 16:05:41.601170"], ["last_sign_in_at", "2018-10-05 16:05:41.601170"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 16:05:41.602283"], ["id", 38]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "kDhSgjzDNT-5u9MnINUmJg1538755541759"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-05 16:05:41.773922"], ["spree_api_key", "b6e40b156bbb196a3e1be07b7ac01f2b73a52569417abf14"], ["id", 38]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:05:41.778892')[0m
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (37.6ms)
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:05:41.778892') LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (3.0ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin (73.2ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_core-3.4.5/app/views/spree/shared/_paths.html.erb (1.2ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_translations.html.erb (5.4ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_head.html.erb (467.0ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 0 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_account_nav.html.erb (26.0ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_header.html.erb (35.2ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_returns.html.erb (3.1ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_product.html.erb (6.0ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.3ms)
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%www.example.com%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (28.1ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_main_menu.html.erb (96.2ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_version.html.erb (1.2ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_content_header.html.erb (1.0ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_table_filter.html.erb (1.2ms)
Completed 200 OK in 766ms (Views: 721.8ms | ActiveRecord: 25.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "lorean@bruen.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "33d225345cd9ba76de2e8aa5d626648a28c25445c0c4719521cf069379c9e514b10a90dc15664075c51fbe37279a4d6204b2e870e44ba01d8656cc5bbcf53989"], ["password_salt", "uk9KsZFnBwzTUqfv7GC6"], ["email", "lorean@bruen.us"], ["login", "lorean@bruen.us"], ["authentication_token", "xxxx15387562309011xxxxxxxxxxxxx"], ["created_at", "2018-10-05 16:17:10.298274"], ["updated_at", "2018-10-05 16:17:10.298274"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 9], ["user_id", 39]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 18:17:10 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 16:17:10.319336"], ["last_sign_in_at", "2018-10-05 16:17:10.319336"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 16:17:10.320216"], ["id", 39]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (4.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "7MNEYALUHDslseqcFbsH3A1538756230471"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-05 16:17:10.487563"], ["spree_api_key", "94fd11e8714972548336aaa9ea27a8aeca9042d4f6f5e7c9"], ["id", 39]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:17:10.492071')[0m
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (27.7ms)
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:17:10.492071') LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (1.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin (51.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_core-3.4.5/app/views/spree/shared/_paths.html.erb (1.2ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_translations.html.erb (4.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_head.html.erb (553.0ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 0 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_account_nav.html.erb (2.6ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_header.html.erb (11.4ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.3ms)
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%www.example.com%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (26.6ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_main_menu.html.erb (93.2ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_version.html.erb (2.3ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_content_header.html.erb (1.0ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_table_filter.html.erb (1.7ms)
Completed 200 OK in 806ms (Views: 762.3ms | ActiveRecord: 27.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "madeline@langosh.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "6cb0876c84109a2abd73821bc364499abd557fc2aeea6c8d75752d67b92776220226c7415f0c3c92c056ba471442121593732dd512f33f40fbb37356c948220c"], ["password_salt", "yVtJUnoTFsyQmAazQaD2"], ["email", "madeline@langosh.co.uk"], ["login", "madeline@langosh.co.uk"], ["authentication_token", "xxxx15387564532521xxxxxxxxxxxxx"], ["created_at", "2018-10-05 16:20:53.836878"], ["updated_at", "2018-10-05 16:20:53.836878"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 10], ["user_id", 40]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 18:20:53 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 16:20:53.860621"], ["last_sign_in_at", "2018-10-05 16:20:53.860621"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 16:20:53.861614"], ["id", 40]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "BZa8rYYd2UDHNGwDG15joQ1538756453995"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-05 16:20:54.008736"], ["spree_api_key", "8d6fe2444d7a89e5ef23e56f828236a34fdc040e5b681143"], ["id", 40]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:20:54.013079')[0m
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (25.2ms)
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:20:54.013079') LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (1.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin (49.2ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_core-3.4.5/app/views/spree/shared/_paths.html.erb (1.3ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_translations.html.erb (5.4ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_head.html.erb (573.8ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 0 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_account_nav.html.erb (3.1ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_header.html.erb (14.0ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_returns.html.erb (3.3ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_product.html.erb (8.4ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.4ms)
  [1m[36mSpree::Store Load (0.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%www.example.com%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (27.1ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_main_menu.html.erb (98.0ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_version.html.erb (1.1ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_content_header.html.erb (1.0ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_table_filter.html.erb (1.3ms)
Completed 200 OK in 823ms (Views: 782.3ms | ActiveRecord: 24.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 11], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "leola_hamill@schmittwehner.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "f98df36b0f26ebba1f60c5d4b5b7ae1cd5b0868672c9463b2f14c2cd6212086ebc8adb7b8821fa2da25a7164e5f044e7a7eaba99fbadc76b74666c155f89d49d"], ["password_salt", "ziq9gjvY8QbTc4DXwuLZ"], ["email", "leola_hamill@schmittwehner.name"], ["login", "leola_hamill@schmittwehner.name"], ["authentication_token", "xxxx15387571571121xxxxxxxxxxxxx"], ["created_at", "2018-10-05 16:32:37.943884"], ["updated_at", "2018-10-05 16:32:37.943884"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 11], ["user_id", 41]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 18:32:37 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 16:32:37.966175"], ["last_sign_in_at", "2018-10-05 16:32:37.966175"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 16:32:37.967137"], ["id", 41]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "0CpLm1V7m1o6804zU18-Qg1538757158124"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-05 16:32:38.139445"], ["spree_api_key", "e65517ca24829539a7e27a0a947175109c0235ca325fdfeb"], ["id", 41]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:32:38.144872')[0m
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (25.6ms)
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:32:38.144872') LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (1.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin (52.5ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_core-3.4.5/app/views/spree/shared/_paths.html.erb (1.2ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_translations.html.erb (4.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_head.html.erb (678.8ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 0 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_account_nav.html.erb (2.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_header.html.erb (11.6ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.6ms)
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%www.example.com%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (27.3ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_main_menu.html.erb (92.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_version.html.erb (1.2ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_content_header.html.erb (0.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_table_filter.html.erb (1.1ms)
Completed 200 OK in 927ms (Views: 881.6ms | ActiveRecord: 25.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 12], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "leslie@jerde.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "5db292eab5147e8c1708eefb0199a1f79d3a236682c5bd808f80dea8e47cc45c61a6f1145c5b32c6b413c08d42241119618caf14679bf65487f860280fc37952"], ["password_salt", "KrhkS1K72THriMYEuyXY"], ["email", "leslie@jerde.co.uk"], ["login", "leslie@jerde.co.uk"], ["authentication_token", "xxxx15387571721431xxxxxxxxxxxxx"], ["created_at", "2018-10-05 16:32:52.929138"], ["updated_at", "2018-10-05 16:32:52.929138"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 12], ["user_id", 42]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 18:32:52 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 16:32:52.951489"], ["last_sign_in_at", "2018-10-05 16:32:52.951489"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 16:32:52.952456"], ["id", 42]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "GzyJvNgXV6eft5BNi_yaZg1538757173100"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-05 16:32:53.114613"], ["spree_api_key", "b025048899e7caf54e13b50f7c88cbe4805f9d48b8c49c29"], ["id", 42]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:32:53.119167')[0m
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (25.1ms)
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:32:53.119167') LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (1.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin (49.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_core-3.4.5/app/views/spree/shared/_paths.html.erb (1.2ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_translations.html.erb (5.0ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_head.html.erb (406.0ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 0 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_account_nav.html.erb (2.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_header.html.erb (11.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.2ms)
  [1m[36mSpree::Store Load (0.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%www.example.com%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.8ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (27.4ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_main_menu.html.erb (91.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_version.html.erb (1.0ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_content_header.html.erb (0.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_table_filter.html.erb (1.1ms)
Completed 200 OK in 645ms (Views: 602.8ms | ActiveRecord: 24.9ms)
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 18:32:53 +0200
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "z_faaxgeStowjX6ZihEhkw1538757173751"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin/login
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 13], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "christin.leannon@berge.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "51876bd0558cdf47e8184d911bfd4ad4614645dc24ba7b933041785aa26ea9e4a6900415e09d4957d4b307721edfba3f3b0159fe198bd6a6e143e08b19083b20"], ["password_salt", "qfg-grS_A7p9HzTM9G-R"], ["email", "christin.leannon@berge.biz"], ["login", "christin.leannon@berge.biz"], ["authentication_token", "xxxx15387571955821xxxxxxxxxxxxx"], ["created_at", "2018-10-05 16:33:15.632142"], ["updated_at", "2018-10-05 16:33:15.632142"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 13], ["user_id", 43]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 18:33:15 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 16:33:15.654057"], ["last_sign_in_at", "2018-10-05 16:33:15.654057"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 16:33:15.655048"], ["id", 43]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "sCSiKxPcNudvO_QkQQxOwQ1538757195797"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-05 16:33:15.810712"], ["spree_api_key", "dff1de086a587df02b51ae63e24293dbad22e0786f87727b"], ["id", 43]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:33:15.815280')[0m
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (24.5ms)
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:33:15.815280') LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (1.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin (49.1ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_core-3.4.5/app/views/spree/shared/_paths.html.erb (1.3ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_translations.html.erb (4.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_head.html.erb (552.4ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 0 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_account_nav.html.erb (2.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_header.html.erb (11.6ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.5ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.3ms)
  [1m[36mSpree::Store Load (0.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%www.example.com%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.8ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (29.1ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_main_menu.html.erb (92.4ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_version.html.erb (1.1ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_content_header.html.erb (0.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_table_filter.html.erb (1.2ms)
Completed 200 OK in 793ms (Views: 749.9ms | ActiveRecord: 25.4ms)
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 18:33:16 +0200
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "IBgUCQ_M1v7R-EcCdpsY3w1538757196595"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin/login
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 14], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "elvin@keeblerschmidt.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "6528579a87b7d236422e1388e28b1893c3885d1ffb67c1632bfafe77ad5fca20af43c4c71aee72f3c8ebf05d2fb9b9f9f3f36324fc32c9d6007805e1f6689a95"], ["password_salt", "uWpaZyGhz-xSAyxkaLXz"], ["email", "elvin@keeblerschmidt.ca"], ["login", "elvin@keeblerschmidt.ca"], ["authentication_token", "xxxx15387580972281xxxxxxxxxxxxx"], ["created_at", "2018-10-05 16:48:17.471392"], ["updated_at", "2018-10-05 16:48:17.471392"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 14], ["user_id", 44]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 18:48:17 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 16:48:17.492548"], ["last_sign_in_at", "2018-10-05 16:48:17.492548"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 16:48:17.493441"], ["id", 44]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "YHAOpi2vWyFXIulVQrY7gQ1538758097636"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-05 16:48:17.654981"], ["spree_api_key", "77f7a64fb9a48350de59a0691dafd804b8a82f479c208805"], ["id", 44]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:48:17.659092')[0m
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (23.2ms)
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:48:17.659092') LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (1.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin (46.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_core-3.4.5/app/views/spree/shared/_paths.html.erb (1.2ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_translations.html.erb (4.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_head.html.erb (399.6ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 0 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_account_nav.html.erb (2.6ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_header.html.erb (11.2ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.6ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.2ms)
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%www.example.com%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (27.3ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_main_menu.html.erb (90.4ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_version.html.erb (1.0ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_content_header.html.erb (0.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_table_filter.html.erb (1.1ms)
Completed 200 OK in 637ms (Views: 591.8ms | ActiveRecord: 26.9ms)
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 18:48:18 +0200
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "pwe8paQLRmIqBVZfzcTzzA1538758098278"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin/login
Completed 302 Found in 32ms (ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 15], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "josephina.ullrich@kilback.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "212892a7039e9f6b577a3444b627fb87122e8d239818db7722727ea56ba3c3d3cb3ab2eaa16a43254edd4d2ccf9e044240d65d6b1a85eaa5a01914a8f0b28163"], ["password_salt", "hjveNukyGRup9SFL7JT2"], ["email", "josephina.ullrich@kilback.ca"], ["login", "josephina.ullrich@kilback.ca"], ["authentication_token", "xxxx1538758125921xxxxxxxxxxxxx"], ["created_at", "2018-10-05 16:48:45.208415"], ["updated_at", "2018-10-05 16:48:45.208415"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 15], ["user_id", 45]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 18:48:45 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 16:48:45.229274"], ["last_sign_in_at", "2018-10-05 16:48:45.229274"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 16:48:45.230227"], ["id", 45]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "5uBKNHqK7R6qDsY6W59ndQ1538758125378"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-05 16:48:45.397650"], ["spree_api_key", "eb6d8855554e2d075754a69ffd38b11d6e9a1e8628e4c0cd"], ["id", 45]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:48:45.402315')[0m
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (23.4ms)
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:48:45.402315') LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (1.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin (46.6ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_core-3.4.5/app/views/spree/shared/_paths.html.erb (1.4ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_translations.html.erb (5.0ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_head.html.erb (405.7ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 0 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_account_nav.html.erb (2.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_header.html.erb (11.6ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.1ms)
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%www.example.com%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (29.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_main_menu.html.erb (93.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_version.html.erb (1.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_content_header.html.erb (1.1ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_table_filter.html.erb (1.4ms)
Completed 200 OK in 657ms (Views: 608.2ms | ActiveRecord: 28.8ms)
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 18:48:46 +0200
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "iIs8stxU4MlBNYBXEl5MXg1538758126040"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin/login
Completed 302 Found in 9ms (ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 16], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "maura_rowe@greenholtgleichner.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "f6026c6ffa82d283106a45bb767ffe59925e7a7a783e9294ee31217d465f8e6a2826b24d7fa22d754c0d3f51bc0ecaf2aaf5887610f36391452753137bf50da5"], ["password_salt", "X63WB3L6UEpTtyWsUs84"], ["email", "maura_rowe@greenholtgleichner.us"], ["login", "maura_rowe@greenholtgleichner.us"], ["authentication_token", "xxxx15387583112381xxxxxxxxxxxxx"], ["created_at", "2018-10-05 16:51:51.344811"], ["updated_at", "2018-10-05 16:51:51.344811"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 16], ["user_id", 46]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 18:51:51 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 16:51:51.366792"], ["last_sign_in_at", "2018-10-05 16:51:51.366792"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 16:51:51.368027"], ["id", 46]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "crw1wXzbQwLWpbux3ULdew1538758311516"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-05 16:51:51.535194"], ["spree_api_key", "6c6b651c6b401716677b515521de848db45d00070ce92f47"], ["id", 46]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:51:51.540127')[0m
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (23.7ms)
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2018-10-05 16:51:51.540127') LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_index_table_options.html.erb (1.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/products/index.html.erb within spree/layouts/admin (47.4ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_core-3.4.5/app/views/spree/shared/_paths.html.erb (1.2ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_translations.html.erb (4.8ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_head.html.erb (399.9ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 0 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_account_nav.html.erb (2.7ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_header.html.erb (12.3ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_returns.html.erb (3.1ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.5ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.3ms)
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%www.example.com%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.8ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (29.5ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_main_menu.html.erb (94.4ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_version.html.erb (1.1ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_content_header.html.erb (0.9ms)
  Rendered /home/tmszrbn/.rvm/gems/ruby-2.5.1/gems/spree_backend-3.4.5/app/views/spree/admin/shared/_table_filter.html.erb (1.2ms)
Completed 200 OK in 670ms (Views: 622.4ms | ActiveRecord: 27.5ms)
Started GET "/admin/products" for 127.0.0.1 at 2018-10-05 18:51:52 +0200
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Order Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "App35sqnjWVILAhIkt9noQ1538758312191"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin/login
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 17], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "rodolfo.haley@armstrong.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "77a55f21fb2a149f02149c79fe2c24b1b4220024062e7d6b0c58f60fb08ca176e95b17ba225c1d9571522ee5fa5c5b4640cd085a2ff9f1e5007524b63eafc34d"], ["password_salt", "9F2zGWN5g5ubnf344J1s"], ["email", "rodolfo.haley@armstrong.com"], ["login", "rodolfo.haley@armstrong.com"], ["authentication_token", "xxxx15387599897011xxxxxxxxxxxxx"], ["created_at", "2018-10-05 17:19:49.924987"], ["updated_at", "2018-10-05 17:19:49.924987"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 17], ["user_id", 47]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 18], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "willia_koch@volkmanferry.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "c7ec02cc9c71a316ab06841842b9410d8e5c22f4a4e20e43bae4d6b445b2270bf1363aee2b1e579530f8208310740f24854f66da545cfe7e69610f50747ddc89"], ["password_salt", "HcEH5XHh3gyNmkaauAQs"], ["email", "willia_koch@volkmanferry.com"], ["login", "willia_koch@volkmanferry.com"], ["authentication_token", "xxxx15387600313301xxxxxxxxxxxxx"], ["created_at", "2018-10-05 17:20:31.897522"], ["updated_at", "2018-10-05 17:20:31.897522"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 18], ["user_id", 48]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "twyla.kuhlman@jakubowski.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "597824037cbcf6975fce1efc3ffd9c32048e6f6d27620818da9ee8bab3642a081578084359c47270a37c4122dbfc20043519920340e3f032ed224e1f64c8be51"], ["password_salt", "8yAXheyFQPjRZU2J-zA2"], ["email", "twyla.kuhlman@jakubowski.co.uk"], ["login", "twyla.kuhlman@jakubowski.co.uk"], ["authentication_token", "xxxx15387603121531xxxxxxxxxxxxx"], ["created_at", "2018-10-05 17:25:12.111076"], ["updated_at", "2018-10-05 17:25:12.111076"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 19], ["user_id", 49]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 20], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "afton_grimes@aufderhar.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "ad6519c8c6a176779c4be283ed947eb0b6493f4cf1d1ec59b12ebe1e2d9b79612824ec6ac44ad2b59fe93db62e475193da0770b89616a7ac971de202d5b088d2"], ["password_salt", "9Zc-Mrz1z3i-9fVTWLhS"], ["email", "afton_grimes@aufderhar.name"], ["login", "afton_grimes@aufderhar.name"], ["authentication_token", "xxxx15387603572511xxxxxxxxxxxxx"], ["created_at", "2018-10-05 17:25:57.301978"], ["updated_at", "2018-10-05 17:25:57.301978"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 20], ["user_id", 50]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-05 19:25:57 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 17:25:57.328583"], ["last_sign_in_at", "2018-10-05 17:25:57.328583"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 17:25:57.329460"], ["id", 50]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 21], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "astrid_kemmer@gaylord.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "5e90d4c8b7b2efe15c1f0d2a24ce240d3efb0c94bceb0cc3f2b440cabdae82c20bb04e5ec159942d1e0aba58a915ef8bf9102ea011381156a00b1a646e30f918"], ["password_salt", "HrogGELG9zuviDMfoPAp"], ["email", "astrid_kemmer@gaylord.co.uk"], ["login", "astrid_kemmer@gaylord.co.uk"], ["authentication_token", "xxxx15387604876151xxxxxxxxxxxxx"], ["created_at", "2018-10-05 17:28:07.616755"], ["updated_at", "2018-10-05 17:28:07.616755"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 21], ["user_id", 51]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-05 19:28:07 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 17:28:07.643343"], ["last_sign_in_at", "2018-10-05 17:28:07.643343"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 17:28:07.644209"], ["id", 51]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 22], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "moshe.greenfelder@schultz.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "04fb224e206eea6a9b0e131fb445f58efab9d0a38b77511d27fb4ccc13b71edbd15a345b3a45c00a028c64574cf1b491462b15d4af16270d007bc9c19241768a"], ["password_salt", "QqUiqufqbT57MfTo-j4P"], ["email", "moshe.greenfelder@schultz.info"], ["login", "moshe.greenfelder@schultz.info"], ["authentication_token", "xxxx15387605151821xxxxxxxxxxxxx"], ["created_at", "2018-10-05 17:28:35.917219"], ["updated_at", "2018-10-05 17:28:35.917219"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 22], ["user_id", 52]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-05 19:28:35 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 17:28:35.944361"], ["last_sign_in_at", "2018-10-05 17:28:35.944361"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 17:28:35.945324"], ["id", 52]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "7J8iQtQPQdqqYEffVRmsOQ1538760516086"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-05 17:28:36.106425"], ["spree_api_key", "67bec55be3f3cb372f3455493596ac964d124d2e5ca37954"], ["id", 52]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 500ms (ActiveRecord: 8.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 23], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "rod.bosco@rosenbaum.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "40db42996aa4a0822735c9ecefafd9a729586a5cddb0f0a4e8b88617388742f8ab975f07004385a828027f898328b7cd32ddd80e222509e8be0441b1b469d4b9"], ["password_salt", "VnyV1e3nTAjVBmWg_BqH"], ["email", "rod.bosco@rosenbaum.info"], ["login", "rod.bosco@rosenbaum.info"], ["authentication_token", "xxxx15387605346551xxxxxxxxxxxxx"], ["created_at", "2018-10-05 17:28:54.793024"], ["updated_at", "2018-10-05 17:28:54.793024"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 23], ["user_id", 53]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-05 19:28:54 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-05 17:28:54.820018"], ["last_sign_in_at", "2018-10-05 17:28:54.820018"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-05 17:28:54.820961"], ["id", 53]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "6HkyC_cK84bbED-Kn58lpg1538760534966"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-05 17:28:54.986110"], ["spree_api_key", "6a9858916c087ff9ec5a0fc805fd5a7d8f418c63aba781d6"], ["id", 53]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 8518ms (ActiveRecord: 7.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (81.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (54.3ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (42.4ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 24], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (40.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "margo@aufderhar.biz"], ["LIMIT", 1]]
  [1m[35mSQL (54.9ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "2e45081a911c619394679f1cdee41c5e9d6e7f5e46b3d989801e9c2559b1fe32e906a71b0b0d61173e129c88133d7a94131466e5633a45f9ba73c01bb9397c7d"], ["password_salt", "PF6ZXwySxdG93KsYsZ2d"], ["email", "margo@aufderhar.biz"], ["login", "margo@aufderhar.biz"], ["authentication_token", "xxxx15387998105401xxxxxxxxxxxxx"], ["created_at", "2018-10-06 04:23:31.265387"], ["updated_at", "2018-10-06 04:23:31.265387"]]
  [1m[35mSQL (44.3ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 24], ["user_id", 54]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 06:23:31 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 04:23:31.480272"], ["last_sign_in_at", "2018-10-06 04:23:31.480272"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 04:23:31.481138"], ["id", 54]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  [1m[36mSpree::Order Exists (42.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "EYKputNXkytPF0XqEmHQ3Q1538799811623"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.2ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 04:23:31.826198"], ["spree_api_key", "7e6d6ba16ed899fb76a5d04ff54dd49ab80314495d188124"], ["id", 54]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 224ms (ActiveRecord: 102.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 25], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "danuta@waters.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "92453fbda678e55de06823e2f42d6ef9ee7b5a1e6221bec3dcf16a5f49d9fb8ea67fb0a6336219a5514d49427cfbf52d80fcd29eca14c6944edab456990560a5"], ["password_salt", "9xRJxtzgaifp-ZG2kNx8"], ["email", "danuta@waters.ca"], ["login", "danuta@waters.ca"], ["authentication_token", "xxxx1538799961431xxxxxxxxxxxxx"], ["created_at", "2018-10-06 04:26:01.253984"], ["updated_at", "2018-10-06 04:26:01.253984"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 25], ["user_id", 55]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 06:26:01 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 04:26:01.280732"], ["last_sign_in_at", "2018-10-06 04:26:01.280732"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 04:26:01.281602"], ["id", 55]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "AW24yXXQI7aLxpaDBYOaHQ1538799961420"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 04:26:01.439267"], ["spree_api_key", "16bbfc11983771a8934018859e11b14489a1b0bff1edd32e"], ["id", 55]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 31ms (ActiveRecord: 12.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.3ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 26], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "sharron_bogan@koss.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "6066118e7292824308a43acf837ba8758718e550907ca6493bc1a068aa492c9e382eb9fc1c0bb6e94f7363a1b02e33387f7e14877ff40d9e74afdcf9cb720473"], ["password_salt", "MDvtpYaKdxnGFsU2o7CE"], ["email", "sharron_bogan@koss.biz"], ["login", "sharron_bogan@koss.biz"], ["authentication_token", "xxxx15387999615722xxxxxxxxxxxxx"], ["created_at", "2018-10-06 04:26:01.488975"], ["updated_at", "2018-10-06 04:26:01.488975"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 26], ["user_id", 56]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 06:26:01 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 04:26:01.493949"], ["last_sign_in_at", "2018-10-06 04:26:01.493949"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 04:26:01.494753"], ["id", 56]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  [1m[36mSpree::Order Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "HkJGZx7uR8perTvt6fzOvA1538799961498"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 04:26:01.503125"], ["spree_api_key", "4bea94e351954a0e1048e9ccf0b0895b759ba474756b1d79"], ["id", 56]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 539ms (ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (38.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (44.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (45.1ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 27], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (27.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "jina@hickle.biz"], ["LIMIT", 1]]
  [1m[35mSQL (31.8ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "54feabb73b8ad53af4d69de418b41a60dd06b09c276b9e04cf49a35e1037d2f8001d5686697d93f566eeb90dffaec0c922d867a9d18f78cd32b01ce5a2ee8a06"], ["password_salt", "d3qSbSCtLGfbyMu98CxV"], ["email", "jina@hickle.biz"], ["login", "jina@hickle.biz"], ["authentication_token", "xxxx15388396484571xxxxxxxxxxxxx"], ["created_at", "2018-10-06 15:27:28.657953"], ["updated_at", "2018-10-06 15:27:28.657953"]]
  [1m[35mSQL (30.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 27], ["user_id", 57]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 17:27:28 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 15:27:28.825902"], ["last_sign_in_at", "2018-10-06 15:27:28.825902"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 15:27:28.826798"], ["id", 57]]
  [1m[35m (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  [1m[36mSpree::Order Exists (11.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "Qsy7LtaQtGfkq3CvebjzBQ1538839648977"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 15:27:29.085769"], ["spree_api_key", "22ac587d69e460011c6bd246ce2d0ddcce6bd2adc8458418"], ["id", 57]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 122ms (ActiveRecord: 38.4ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 28], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "ilse.nitzsche@halvorson.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "34944d2632386d8a43a1d2c36e1ca8c7311d65541c4dde94fe1542ce1880048ca60134191701ca5082f9baf1e73b30b7a8656234b10fe159934e0d6d794ad2c0"], ["password_salt", "-FvSsugW2_XvfN11Ajxa"], ["email", "ilse.nitzsche@halvorson.name"], ["login", "ilse.nitzsche@halvorson.name"], ["authentication_token", "xxxx15388397462201xxxxxxxxxxxxx"], ["created_at", "2018-10-06 15:29:06.608647"], ["updated_at", "2018-10-06 15:29:06.608647"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 28], ["user_id", 58]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 17:29:06 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 15:29:06.635164"], ["last_sign_in_at", "2018-10-06 15:29:06.635164"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 15:29:06.635990"], ["id", 58]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  [1m[36mSpree::Order Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "djVeeoBRv37QjXyn0yZsvg1538839746769"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 15:29:06.791052"], ["spree_api_key", "2667c80488dd1188b2dcb82a02c74880b79aa95a0367a2d6"], ["id", 58]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 41ms (ActiveRecord: 20.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.3ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 29], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "amber_marvin@hoppe.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "cb521f7741c985b00ff94cb2a3fc5007bbe9a3df7dd36b24ba4e6ee96fb1686806760537a422846a3974bfb58c1263708b5b8a9378bd76b061273b2c4f072435"], ["password_salt", "CNg1fWq3FRrkkoRByzoe"], ["email", "amber_marvin@hoppe.ca"], ["login", "amber_marvin@hoppe.ca"], ["authentication_token", "xxxx15388397468072xxxxxxxxxxxxx"], ["created_at", "2018-10-06 15:29:06.908212"], ["updated_at", "2018-10-06 15:29:06.908212"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 29], ["user_id", 59]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 17:29:06 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 15:29:06.914280"], ["last_sign_in_at", "2018-10-06 15:29:06.914280"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 15:29:06.915006"], ["id", 59]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  [1m[36mSpree::Order Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "7ZvumTV98AsFOzgYYfo3ug1538839746918"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 15:29:06.923594"], ["spree_api_key", "f5a627c71c881b290333ba7c6161b45a27629e43f33d2cd3"], ["id", 59]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 30], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "santos@klocko.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "e05bab1a4f58cdf9c13438709643d3eb0e063dce4db52da6d8c62cf1903fd75fb13d0c8a79b78f3a01e00de67d7f4b294cb12ba9e77290837fc20de01687117a"], ["password_salt", "V5MzhzBSSDEZFSkKdwf-"], ["email", "santos@klocko.info"], ["login", "santos@klocko.info"], ["authentication_token", "xxxx15388398497201xxxxxxxxxxxxx"], ["created_at", "2018-10-06 15:30:50.036833"], ["updated_at", "2018-10-06 15:30:50.036833"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 30], ["user_id", 60]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 17:30:50 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 15:30:50.072255"], ["last_sign_in_at", "2018-10-06 15:30:50.072255"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 15:30:50.073212"], ["id", 60]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "5v_2caX5PKIEuLi5I_0Ktg1538839850225"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 15:30:50.252128"], ["spree_api_key", "1e31205c6fd3c5311de319e23e0d1ecdaa35240f245b2397"], ["id", 60]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 43ms (ActiveRecord: 13.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 31], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "evelynn_balistreri@wiza.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "78240c90d5cdd0341aefdba5e1e7df12c1e7ddb75fa4d636ad57017b081545db69a62ac03a48f497b9338d58c4fe6230d4879fb21bed44f7c871f372129d5153"], ["password_salt", "BBx5B1x2qgjyxN5M-YCs"], ["email", "evelynn_balistreri@wiza.biz"], ["login", "evelynn_balistreri@wiza.biz"], ["authentication_token", "xxxx15388398886801xxxxxxxxxxxxx"], ["created_at", "2018-10-06 15:31:28.751593"], ["updated_at", "2018-10-06 15:31:28.751593"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 31], ["user_id", 61]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 17:31:28 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 15:31:28.786184"], ["last_sign_in_at", "2018-10-06 15:31:28.786184"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 15:31:28.787059"], ["id", 61]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "JisgG1Jw35IcJGqAESayWA1538839888924"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 15:31:28.947220"], ["spree_api_key", "5e1429ab8b26d9e0c3fcba08d52081167b1db475a197bf77"], ["id", 61]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 593ms (ActiveRecord: 6.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 32], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "roxane@mitchell.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "9353c44488a75e72b898729a70e8b06170198a261c54f07c993bcac577fc16f09cbf029744b6ef9bcc2ce91f6bd37fe459406daa20b6aae72caa8141c5a37394"], ["password_salt", "BTb5y4pJGypbXDnxKgpL"], ["email", "roxane@mitchell.biz"], ["login", "roxane@mitchell.biz"], ["authentication_token", "xxxx15388399886581xxxxxxxxxxxxx"], ["created_at", "2018-10-06 15:33:08.745923"], ["updated_at", "2018-10-06 15:33:08.745923"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 32], ["user_id", 62]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 17:33:08 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 15:33:08.780033"], ["last_sign_in_at", "2018-10-06 15:33:08.780033"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 15:33:08.780954"], ["id", 62]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "px0K1nMTTBhBebBHUnptlg1538839988906"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 15:33:08.925769"], ["spree_api_key", "3893f781cafbf00b9ee0c12829a65294a524efcf94f64d31"], ["id", 62]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 101ms (ActiveRecord: 7.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 33], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "mariella@raulabadie.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "f741084b4fac35222fe6ba4fbd384f68dfa87c07f1828fbad035a716ff1861cee7289abefeb03e0f24667ac5e2b3548c223d0cb964ac344049d9ab5f2cc89cec"], ["password_salt", "xES-ZJ1WuxAZkkpyjeuL"], ["email", "mariella@raulabadie.info"], ["login", "mariella@raulabadie.info"], ["authentication_token", "xxxx1538840042931xxxxxxxxxxxxx"], ["created_at", "2018-10-06 15:34:03.051341"], ["updated_at", "2018-10-06 15:34:03.051341"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 33], ["user_id", 63]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 17:34:03 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 15:34:03.086754"], ["last_sign_in_at", "2018-10-06 15:34:03.086754"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 15:34:03.087686"], ["id", 63]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "E31ucrR3uBEWdXujQ7n7pw1538840043212"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 15:34:03.230791"], ["spree_api_key", "8bcbafaf2bf12d5cfad0709ee0a6ee76e79760f5c4dcf762"], ["id", 63]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 507ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 34], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "eleanore@dicki.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "7e469534c6d0f289e96c60e8b5292b10fdd2e082f62e33587b5ad6d60f32bfa3dd6819eec9cda8bf027a04056b723e4d95f5079e1503e9a31126d24a4ce2e37d"], ["password_salt", "jmJSJftCzryPhs-L4XrA"], ["email", "eleanore@dicki.co.uk"], ["login", "eleanore@dicki.co.uk"], ["authentication_token", "xxxx15388411456871xxxxxxxxxxxxx"], ["created_at", "2018-10-06 15:52:25.846512"], ["updated_at", "2018-10-06 15:52:25.846512"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 34], ["user_id", 64]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 17:52:25 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 15:52:25.894092"], ["last_sign_in_at", "2018-10-06 15:52:25.894092"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 15:52:25.895000"], ["id", 64]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "fg_gutm6A1WrULQ5dzzPMQ1538841146021"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 15:52:26.039271"], ["spree_api_key", "9aa774a90df9127b826ab76830439fa596e555594de01c18"], ["id", 64]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 494ms (ActiveRecord: 6.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 35], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "joshua@mills.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "8962d8a2b3c0f7e60ed54aa8340cedc29b63e5bde316c1861804f4d34e9b0172b256b05ec003ec76de0eccace417c8ca993962df77d3ea16eec2f95ea734104f"], ["password_salt", "wHCxhYodASf2U6vsYLGx"], ["email", "joshua@mills.ca"], ["login", "joshua@mills.ca"], ["authentication_token", "xxxx15388411699601xxxxxxxxxxxxx"], ["created_at", "2018-10-06 15:52:49.206803"], ["updated_at", "2018-10-06 15:52:49.206803"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 35], ["user_id", 65]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 17:52:49 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 15:52:49.253957"], ["last_sign_in_at", "2018-10-06 15:52:49.253957"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 15:52:49.254870"], ["id", 65]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "bjz-8dRLGmBDT4AaJdiw5Q1538841169384"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 15:52:49.403029"], ["spree_api_key", "9e2d0eab84c8902eea922aec78398f0d38e4a98323dbb856"], ["id", 65]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 481ms (ActiveRecord: 6.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 36], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "marcene@rogahnjohnson.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "ecb9cb7dac0defb26e9e65722055b86f63b888f03f93fca4fa0f4abf0266952657ad8e2ea77a60c59bbc50ea928c0f8dfa13e2733f73052b33fc4d7e4196f69d"], ["password_salt", "ttUqSqYB3TLaZnE_yGJo"], ["email", "marcene@rogahnjohnson.co.uk"], ["login", "marcene@rogahnjohnson.co.uk"], ["authentication_token", "xxxx15388411914631xxxxxxxxxxxxx"], ["created_at", "2018-10-06 15:53:11.417278"], ["updated_at", "2018-10-06 15:53:11.417278"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 36], ["user_id", 66]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 17:53:11 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 15:53:11.452482"], ["last_sign_in_at", "2018-10-06 15:53:11.452482"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 15:53:11.453484"], ["id", 66]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "MwrYr0CMR2iFKj0kyWCwMg1538841191582"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 15:53:11.601385"], ["spree_api_key", "f01be0fd65c4474105fcb893feabb38c7f9b5cccf95c2524"], ["id", 66]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 486ms (ActiveRecord: 7.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 37], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "lyman_fisher@hudsonflatley.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "44e36d02f8ac93387cb1a8e3854498ce65e1f95df8ebfae3e8ddb9470434183dca33a113f49b7cb16fb02c4ec4cb34511ed367e5e3c366024d0e6a3b775677ba"], ["password_salt", "HmZ6AFNpxiHU3xvn3c8r"], ["email", "lyman_fisher@hudsonflatley.name"], ["login", "lyman_fisher@hudsonflatley.name"], ["authentication_token", "xxxx15388412113331xxxxxxxxxxxxx"], ["created_at", "2018-10-06 15:53:31.976771"], ["updated_at", "2018-10-06 15:53:31.976771"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 37], ["user_id", 67]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 17:53:32 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 15:53:32.025472"], ["last_sign_in_at", "2018-10-06 15:53:32.025472"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 15:53:32.026350"], ["id", 67]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "ga7VtUVON3S_q__ehfECYA1538841212151"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 15:53:32.169317"], ["spree_api_key", "bb44fd1ab8ea37ff6e0d65dcb276c7f312c8aa35ea91e40f"], ["id", 67]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 483ms (ActiveRecord: 6.7ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 38], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "alphonso@hodkiewicz.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "eaae2c7dd5a44058fc835ce4f1fd32b1b921a4670c32ccfc3b6acbd21aa47062ceee7f089f67cd6596372c8f3ccd5d31d2ac92e2307204ebbf5d5b8f296516f1"], ["password_salt", "hFV7idvG_WYepqzEyKKF"], ["email", "alphonso@hodkiewicz.ca"], ["login", "alphonso@hodkiewicz.ca"], ["authentication_token", "xxxx15388412438511xxxxxxxxxxxxx"], ["created_at", "2018-10-06 15:54:03.267310"], ["updated_at", "2018-10-06 15:54:03.267310"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 38], ["user_id", 68]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 17:54:03 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 15:54:03.295287"], ["last_sign_in_at", "2018-10-06 15:54:03.295287"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 15:54:03.296212"], ["id", 68]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "N5lP9c0nXOKKoFFSk4-sNA1538841243422"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 15:54:03.441602"], ["spree_api_key", "8370059f6093cc6fc73c88d575498d712714f002f69cdc9c"], ["id", 68]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 490ms (ActiveRecord: 7.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 39], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "rolanda@watsica.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "01b8ecfa6335f071310febda2bf376ab7b2cc6dbf050556b190df25bd42e82e3bee924bed3a641d7a35883ac8a72bd254e16f61c6d389a9dea03ab17d4721141"], ["password_salt", "cuJ2VZyfpu9gUGKH3Uex"], ["email", "rolanda@watsica.co.uk"], ["login", "rolanda@watsica.co.uk"], ["authentication_token", "xxxx1538841255261xxxxxxxxxxxxx"], ["created_at", "2018-10-06 15:54:15.150290"], ["updated_at", "2018-10-06 15:54:15.150290"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 39], ["user_id", 69]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 17:54:15 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 15:54:15.176920"], ["last_sign_in_at", "2018-10-06 15:54:15.176920"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 15:54:15.177810"], ["id", 69]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "y02X7e-WJ8UxOKyLq8JrlA1538841255303"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 15:54:15.322461"], ["spree_api_key", "790a24e43715f74873d489092e6bdad30ac50ccbc67dcb57"], ["id", 69]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 484ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 40], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "zenaida.simonis@schimmel.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "6387c3c00805923bf5ac9cb3922d192b39768aa9392349cca0af6ece2f8add2ea83119393eefcafdf5efa0dab2c1114bdb1d2743558750747f714a320cf36fe1"], ["password_salt", "yVvr4VCAWWa7XqF6mMz4"], ["email", "zenaida.simonis@schimmel.ca"], ["login", "zenaida.simonis@schimmel.ca"], ["authentication_token", "xxxx15388413745111xxxxxxxxxxxxx"], ["created_at", "2018-10-06 15:56:14.238545"], ["updated_at", "2018-10-06 15:56:14.238545"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 40], ["user_id", 70]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 17:56:14 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 15:56:14.269410"], ["last_sign_in_at", "2018-10-06 15:56:14.269410"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 15:56:14.270299"], ["id", 70]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "1ZQML1x7Sk6VUpwtq-hREg1538841374413"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 15:56:14.434700"], ["spree_api_key", "f894b8ea2fa114da1df2ff5ea23ecd37ecc72adee35c1035"], ["id", 70]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 492ms (ActiveRecord: 6.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 41], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "dacia@konopelski.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "8f8664517dcc60834bf5eaf473831015fa1578f6f01210350746c7017159db2df25ade5b6d0b6a070fc66459954c49f2cac9d93d3c307a6095b37d0d33d887a9"], ["password_salt", "mzd44yKc_oYS9drT2M4N"], ["email", "dacia@konopelski.us"], ["login", "dacia@konopelski.us"], ["authentication_token", "xxxx15388414033741xxxxxxxxxxxxx"], ["created_at", "2018-10-06 15:56:44.035177"], ["updated_at", "2018-10-06 15:56:44.035177"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 41], ["user_id", 71]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 17:56:44 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 15:56:44.074450"], ["last_sign_in_at", "2018-10-06 15:56:44.074450"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 15:56:44.075342"], ["id", 71]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "7RiZzjtQcFkg_LNP4PcxPg1538841404200"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 15:56:44.218551"], ["spree_api_key", "8c371a1e42cda0518c8b2932dbb7c0f0e3992367e437fee2"], ["id", 71]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 482ms (ActiveRecord: 6.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 42], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "felipa.keebler@schaefer.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "e3942715090e7631e28e378da0bdd1403d7cdea8025716446703e63a5d5f7d7105730a97f51a3e51daeeeb20e90d696da2b9039a3717f779648fd16f9f243345"], ["password_salt", "BymhQHF1z-xKm2d1epxF"], ["email", "felipa.keebler@schaefer.ca"], ["login", "felipa.keebler@schaefer.ca"], ["authentication_token", "xxxx15388416724411xxxxxxxxxxxxx"], ["created_at", "2018-10-06 16:01:12.131746"], ["updated_at", "2018-10-06 16:01:12.131746"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 42], ["user_id", 72]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 18:01:12 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 16:01:12.159083"], ["last_sign_in_at", "2018-10-06 16:01:12.159083"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 16:01:12.159982"], ["id", 72]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "AjbTaSO5MXtdQT3E4MnlKA1538841672285"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 16:01:12.305275"], ["spree_api_key", "ab3d99e4b488e971b1fe69a5a690f4474cf88e1a46abea04"], ["id", 72]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 484ms (ActiveRecord: 7.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 43], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "gilberto@brekke.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "28fe10572ee2407d1217b734769fa27016aff01ec6b59c7c63134cb32139bc8cbf62a1fb079812a448a09771ad08b85842ab5ab9d93ee0ef28e7e8d42a5bf5fe"], ["password_salt", "gRyXLyzso-W1Y_pAbH8f"], ["email", "gilberto@brekke.com"], ["login", "gilberto@brekke.com"], ["authentication_token", "xxxx15388417088141xxxxxxxxxxxxx"], ["created_at", "2018-10-06 16:01:48.082879"], ["updated_at", "2018-10-06 16:01:48.082879"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 43], ["user_id", 73]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-06 18:01:48 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-06 16:01:48.109727"], ["last_sign_in_at", "2018-10-06 16:01:48.109727"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-06 16:01:48.110606"], ["id", 73]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "27hkzdr2Xi1dOtcew-PL5Q1538841708233"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-06 16:01:48.251446"], ["spree_api_key", "d437a8f1d0e8a2a3dba7bee4595edada5f462dd192f5fc93"], ["id", 73]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 492ms (ActiveRecord: 6.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (81.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (59.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (31.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 44], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (30.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "bernita@flatley.ca"], ["LIMIT", 1]]
  [1m[35mSQL (26.0ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "3486efeeaedf6043b12688ba60bde4754ae10f4cfde7f520551a6dce488b2b6512b67e147946078bbeb625d812bbd262a520e2bf8e8eb895ae92d6de2e835743"], ["password_salt", "U-6yqNYF-CH5-1dJZxof"], ["email", "bernita@flatley.ca"], ["login", "bernita@flatley.ca"], ["authentication_token", "xxxx15388884933301xxxxxxxxxxxxx"], ["created_at", "2018-10-07 05:01:34.046599"], ["updated_at", "2018-10-07 05:01:34.046599"]]
  [1m[35mSQL (37.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 44], ["user_id", 74]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 07:01:34 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 05:01:34.220449"], ["last_sign_in_at", "2018-10-07 05:01:34.220449"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 05:01:34.221355"], ["id", 74]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (42.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "t7spG1QmkVobOx7iawFzqw1538888494346"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (6.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 05:01:34.573706"], ["spree_api_key", "a4f9939fadf99185e6f127ef167f3ebb6c3c55a99b677b37"], ["id", 74]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 871ms (ActiveRecord: 122.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 45], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "twila@zulauf.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "0dfcaea5363bf57cae93557ae11119b2462ab1b43455332719de2375f3328610dbeba2408beabe6c2d36338e3d77c2cf0de8580f1d67145194c3be00d5088f57"], ["password_salt", "oyozDJW2E5dS-f6yxbgM"], ["email", "twila@zulauf.co.uk"], ["login", "twila@zulauf.co.uk"], ["authentication_token", "xxxx15388885164731xxxxxxxxxxxxx"], ["created_at", "2018-10-07 05:01:56.344959"], ["updated_at", "2018-10-07 05:01:56.344959"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 45], ["user_id", 75]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 07:01:56 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 05:01:56.372632"], ["last_sign_in_at", "2018-10-07 05:01:56.372632"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 05:01:56.373551"], ["id", 75]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "Sk6FgcQ1NfBPdcXDD8tZ_A1538888516501"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 05:01:56.521385"], ["spree_api_key", "e882d58720231cc3b86ff0b0c977f5d5cbfc1066e4b149f4"], ["id", 75]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 512ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 46], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "sara@hegmann.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "26b862aba5962b7ce7f3ba2ae83b9c59ae7751e25006106dd7cfa43a60434d82bb83f61c9fc0a4e88847207388cf3925c4de553edc7317c0bc66a33949330fb8"], ["password_salt", "bdsMdx5unZCDTfqZwJN1"], ["email", "sara@hegmann.info"], ["login", "sara@hegmann.info"], ["authentication_token", "xxxx15388885424861xxxxxxxxxxxxx"], ["created_at", "2018-10-07 05:02:22.129113"], ["updated_at", "2018-10-07 05:02:22.129113"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 46], ["user_id", 76]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 07:02:22 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 05:02:22.157061"], ["last_sign_in_at", "2018-10-07 05:02:22.157061"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 05:02:22.158025"], ["id", 76]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "6tEAXBNLJLHcnXYghW1lRA1538888542284"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 05:02:22.308423"], ["spree_api_key", "995a14451cb180ad3f0cb5a852c738a769ec3a6f7a94d7dc"], ["id", 76]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 496ms (ActiveRecord: 10.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 47], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "maurine_marvin@kessleryost.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "0f573dabe516ee73cfe36368e398d0384279cdac8df9692ac7d28606c0ca77a3fb8108188ce276ba0f8c986071f8bce3b5e51b06376ccf1560626daaed065d98"], ["password_salt", "gm61Girp_mHG4Q7TGesZ"], ["email", "maurine_marvin@kessleryost.com"], ["login", "maurine_marvin@kessleryost.com"], ["authentication_token", "xxxx15388890941451xxxxxxxxxxxxx"], ["created_at", "2018-10-07 05:11:34.161213"], ["updated_at", "2018-10-07 05:11:34.161213"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 47], ["user_id", 77]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 07:11:34 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 05:11:34.189557"], ["last_sign_in_at", "2018-10-07 05:11:34.189557"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 05:11:34.190497"], ["id", 77]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "o9aXsXD6LgA-fTd2yBweCA1538889094320"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 05:11:34.339852"], ["spree_api_key", "555d89f5eb469a8a68965be1560e53a5e4febb0fb8e7662c"], ["id", 77]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 484ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 48], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "dung.barton@robelrenner.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "ee241944d174102b9d2f59ae7b11fbad1bffa0ae9d41c6b99a6019b51a2637459bb6d88c2b7297976841ce5ede39b0d47607d8b688703263881f6a8f52cfcd80"], ["password_salt", "bxTbyzDwhC-zZ5TeXRyh"], ["email", "dung.barton@robelrenner.com"], ["login", "dung.barton@robelrenner.com"], ["authentication_token", "xxxx15388891664381xxxxxxxxxxxxx"], ["created_at", "2018-10-07 05:12:46.162759"], ["updated_at", "2018-10-07 05:12:46.162759"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 48], ["user_id", 78]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 07:12:46 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 05:12:46.190385"], ["last_sign_in_at", "2018-10-07 05:12:46.190385"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 05:12:46.191337"], ["id", 78]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "khRBgU-Nyh7uLBfM5axLyw1538889166317"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 05:12:46.336411"], ["spree_api_key", "ba18cb5261bdb84b4e7aaac56f5d7eef4118f161bba5d8a2"], ["id", 78]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 484ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 49], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "danilo@ullrich.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "21ac215c0571b60da9d448914d59cea4bacc031bc744930fb64c350b19e1b1205f06b90ad73c4772a99eb6fed75a7c23a67505d01c7726400fb3c8b901f7ccb4"], ["password_salt", "_Bsg3u68F6y7tc_8p2zE"], ["email", "danilo@ullrich.ca"], ["login", "danilo@ullrich.ca"], ["authentication_token", "xxxx15388892435471xxxxxxxxxxxxx"], ["created_at", "2018-10-07 05:14:03.616541"], ["updated_at", "2018-10-07 05:14:03.616541"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 49], ["user_id", 79]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 07:14:03 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 05:14:03.644056"], ["last_sign_in_at", "2018-10-07 05:14:03.644056"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 05:14:03.645027"], ["id", 79]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "rgS9ZJ-hOJMeLCIcFyqmGw1538889243771"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 05:14:03.790644"], ["spree_api_key", "2727c78a3f7e142729da9ca0565f3c566db8df6d775e2ff3"], ["id", 79]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 486ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 50], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "alexia@leffler.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "c6bf5e47c7272fd50e43c8c5877cb356140d67fcaa950b19000c0603df4ee888cf2c13304f10c522ee271b993b7be71b7101c42ec8e0e97744ab363d1c23f4eb"], ["password_salt", "1UKRRPrjPxeGw526yWHP"], ["email", "alexia@leffler.biz"], ["login", "alexia@leffler.biz"], ["authentication_token", "xxxx15388895592871xxxxxxxxxxxxx"], ["created_at", "2018-10-07 05:19:19.391442"], ["updated_at", "2018-10-07 05:19:19.391442"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 50], ["user_id", 80]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 07:19:19 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 05:19:19.419580"], ["last_sign_in_at", "2018-10-07 05:19:19.419580"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 05:19:19.420592"], ["id", 80]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "H_RQ3cnjX5nhfD_ECgEDTw1538889559589"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 05:19:19.615338"], ["spree_api_key", "e73dbc6e5835684e6dfe95969472a8e8b1f75a587803c1b6"], ["id", 80]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 509ms (ActiveRecord: 7.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 51], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "angel.cruickshank@kerluke.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "f7561f9b5235c8f3e978b2df58ba8798845cd817e5d444447aa73d76b193f0f5f7f7c8c2c47842f20fe3d7ed8044773caaf12f4284c01d81e9d3c7fb2cdf2ac6"], ["password_salt", "Nz9mcZL1RRQ13W8fq_gD"], ["email", "angel.cruickshank@kerluke.info"], ["login", "angel.cruickshank@kerluke.info"], ["authentication_token", "xxxx15388896064041xxxxxxxxxxxxx"], ["created_at", "2018-10-07 05:20:06.661715"], ["updated_at", "2018-10-07 05:20:06.661715"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 51], ["user_id", 81]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 07:20:06 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 05:20:06.692358"], ["last_sign_in_at", "2018-10-07 05:20:06.692358"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 05:20:06.693321"], ["id", 81]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "p0gnMe0Exj_2izTwgecPpw1538889606819"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 05:20:06.837947"], ["spree_api_key", "9a0bf0f0beccab17e316fb50c2a5d83ea9aa436ba6c2f698"], ["id", 81]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 506ms (ActiveRecord: 7.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 52], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "barbera@steuberkutch.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "0a6b9f5c94aad4279566601fcb83c3fe6cf2d3d4bc60ad7d66cf12ceb88a80473c7a3f5deea70193fc211ffc1926d7f0b4f9238b055ee04ba71074ae0846918b"], ["password_salt", "aEraxKVx2n1a7YbGrbmz"], ["email", "barbera@steuberkutch.ca"], ["login", "barbera@steuberkutch.ca"], ["authentication_token", "xxxx15388897921661xxxxxxxxxxxxx"], ["created_at", "2018-10-07 05:23:12.395701"], ["updated_at", "2018-10-07 05:23:12.395701"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 52], ["user_id", 82]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 07:23:12 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 05:23:12.423386"], ["last_sign_in_at", "2018-10-07 05:23:12.423386"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 05:23:12.424350"], ["id", 82]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "GS8Z7Y25RNpz-9g_O83Cqw1538889792551"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 05:23:12.570234"], ["spree_api_key", "3d008b5fb8686a30c0af0b22fc9f343457eec71b2338391d"], ["id", 82]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 483ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 53], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "stephen@jerdealtenwerth.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "db893216d09bf951aeaaf4721fb5cddd85a638cc376e9f9dbfe738a082d4f7aaebbc1dd272f800a3f02e20c0bf729906a1005f59b607e4ca4ff6f361dcef7084"], ["password_salt", "DNr3A8Rb_g9fANCqAsfS"], ["email", "stephen@jerdealtenwerth.us"], ["login", "stephen@jerdealtenwerth.us"], ["authentication_token", "xxxx15388898662311xxxxxxxxxxxxx"], ["created_at", "2018-10-07 05:24:26.723673"], ["updated_at", "2018-10-07 05:24:26.723673"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 53], ["user_id", 83]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 07:24:26 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 05:24:26.752478"], ["last_sign_in_at", "2018-10-07 05:24:26.752478"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 05:24:26.753430"], ["id", 83]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "GJMjlp56G6ltvlYxyxB8Uw1538889866879"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 05:24:26.897561"], ["spree_api_key", "f09fdfabd84b7634f3d13cad73c3a3c1513548e73ebeee44"], ["id", 83]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 488ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 54], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "johnna@upton.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "57b498678dc26b3ba5b7be120cc2df75a9822fba33fcb24e6df405bc6b0ed7ecd17ac05650f79ee30bd1a9507bc88d46fea6451b1ff02fda18e2a09b0576cadf"], ["password_salt", "Yu2CLqWbsEP4Gv-xVrtS"], ["email", "johnna@upton.com"], ["login", "johnna@upton.com"], ["authentication_token", "xxxx1538889933721xxxxxxxxxxxxx"], ["created_at", "2018-10-07 05:25:33.173529"], ["updated_at", "2018-10-07 05:25:33.173529"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 54], ["user_id", 84]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 07:25:33 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 05:25:33.210736"], ["last_sign_in_at", "2018-10-07 05:25:33.210736"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 05:25:33.212725"], ["id", 84]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "-lQ_F61xIPyirXLz2Hi5Zg1538889933391"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 05:25:33.409980"], ["spree_api_key", "858d0537c393a6609caeba8fb7045d5bc37779317d168c18"], ["id", 84]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 493ms (ActiveRecord: 6.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 55], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "ariane@larkin.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "57a0b14a032f033d5490b4f63eab6b88183d75df974ede43c764a6007147cb2824f709abad57a03821f781194ae3e2ae2fc3e48805a49aff8770e73860e20097"], ["password_salt", "yUcqAb1cwH3nDmVxfpZP"], ["email", "ariane@larkin.us"], ["login", "ariane@larkin.us"], ["authentication_token", "xxxx15388899781751xxxxxxxxxxxxx"], ["created_at", "2018-10-07 05:26:18.619146"], ["updated_at", "2018-10-07 05:26:18.619146"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 55], ["user_id", 85]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 07:26:18 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 05:26:18.648175"], ["last_sign_in_at", "2018-10-07 05:26:18.648175"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 05:26:18.649124"], ["id", 85]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "UDlAN6Uv8k2tacH1GjlLYw1538889978788"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 05:26:18.806785"], ["spree_api_key", "4557a3dbe35269eb3e3af767232513d98b8bfb6393097f45"], ["id", 85]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 481ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 56], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "jerry_casper@rodriguez.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "74ea5abd6f75dcadfc70245c937f1ca5aaa53816d52565076e6c1af24a8f3364cecafa073a7e879a08fa46f55ad16b8a1f4290243ba6757787d7534380f4145b"], ["password_salt", "1KLJs6snvCGAjqZQtYtQ"], ["email", "jerry_casper@rodriguez.com"], ["login", "jerry_casper@rodriguez.com"], ["authentication_token", "xxxx15388900157371xxxxxxxxxxxxx"], ["created_at", "2018-10-07 05:26:55.613218"], ["updated_at", "2018-10-07 05:26:55.613218"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 56], ["user_id", 86]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 07:26:55 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 05:26:55.640921"], ["last_sign_in_at", "2018-10-07 05:26:55.640921"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 05:26:55.641917"], ["id", 86]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "odvYcABZ7WKcuhfH9m5bMA1538890015769"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 05:26:55.788935"], ["spree_api_key", "e7c305358c15c60d9fabaaf7ffc3609a82bf491572f3034a"], ["id", 86]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 486ms (ActiveRecord: 7.0ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (17.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (10.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (15.5ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 57], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "sammie@cummerataboyer.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "1bf979ab922ec9abe8008e9139f2b930f4a82e4d6c6919e316e8213c406953dfc797735deecc2d01eac0ed828d40368c7d1baaa2ff9e014282cf47705f8d030b"], ["password_salt", "ykA9D5AVD1zTpyBXDTjU"], ["email", "sammie@cummerataboyer.info"], ["login", "sammie@cummerataboyer.info"], ["authentication_token", "xxxx15388900726061xxxxxxxxxxxxx"], ["created_at", "2018-10-07 05:27:52.512676"], ["updated_at", "2018-10-07 05:27:52.512676"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 57], ["user_id", 87]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 07:27:52 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 05:27:52.541022"], ["last_sign_in_at", "2018-10-07 05:27:52.541022"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 05:27:52.541973"], ["id", 87]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "ZwDivf7MOMouj7U5xYLm4A1538890072669"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 05:27:52.683066"], ["spree_api_key", "c8402e4df315483e1a92ad3a0ffe4b04ce8316faef3587e7"], ["id", 87]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 477ms (ActiveRecord: 5.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 58], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "lewis@wolff.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "1d905a76d950cc421c18d4da2eab2a7bd244c1963911f04bc90b64b4f2adde9599d278f2c92d651d0cee519c58e8035d27b284f481eb37dd142ad121e28463f7"], ["password_salt", "RhTnk35JGv5MRd8uabod"], ["email", "lewis@wolff.us"], ["login", "lewis@wolff.us"], ["authentication_token", "xxxx15388901244051xxxxxxxxxxxxx"], ["created_at", "2018-10-07 05:28:44.310332"], ["updated_at", "2018-10-07 05:28:44.310332"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 58], ["user_id", 88]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 07:28:44 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 05:28:44.337998"], ["last_sign_in_at", "2018-10-07 05:28:44.337998"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 05:28:44.338982"], ["id", 88]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "SbgEVlHOBXpi7rnYFnyFBQ1538890124466"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 05:28:44.486506"], ["spree_api_key", "1e834063d22987ac938ac81f7e5a39af86444402eea113d3"], ["id", 88]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 488ms (ActiveRecord: 7.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (3.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (13.3ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 05:29:58.830579"], ["updated_at", "2018-10-07 05:29:58.830579"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Product Create Many Without Validations Or Callbacks (12.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("id","name","description","available_on","deleted_at","slug","meta_description","meta_keywords","tax_category_id","shipping_category_id","created_at","updated_at","promotionable","meta_title","discontinue_on") VALUES (nextval('public.spree_products_id_seq'),'abc',NULL,NULL,NULL,'abc',NULL,NULL,NULL,1,'2018-10-07 05:29:59.001639','2018-10-07 05:29:59.001639','t',NULL,NULL),(nextval('public.spree_products_id_seq'),'abc',NULL,NULL,NULL,'abc',NULL,NULL,NULL,1,'2018-10-07 05:29:59.001639','2018-10-07 05:29:59.001639','t',NULL,NULL) RETURNING "id"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 59], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "delsie.leffler@vonrueden.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "bff2f8ca60e659cdbe2fe7af4cd0517744bcfcf0389e41b796a455116f7ed6fca63d5637982989b20745bbf62db0acc28980e6a01b17f3df8c145b03639e705d"], ["password_salt", "8eiA8_AR1DkFt6_UVFff"], ["email", "delsie.leffler@vonrueden.ca"], ["login", "delsie.leffler@vonrueden.ca"], ["authentication_token", "xxxx15388901998641xxxxxxxxxxxxx"], ["created_at", "2018-10-07 05:29:59.168245"], ["updated_at", "2018-10-07 05:29:59.168245"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 59], ["user_id", 89]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 07:29:59 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 05:29:59.195676"], ["last_sign_in_at", "2018-10-07 05:29:59.195676"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 05:29:59.196642"], ["id", 89]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "WCkh1EioPYUEgiJiyr0ePg1538890199329"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 05:29:59.348531"], ["spree_api_key", "9f5ae4c457eb7876c595a386fbf0b33aa9338f35ef2c7086"], ["id", 89]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 486ms (ActiveRecord: 7.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 06:49:43.871770"], ["updated_at", "2018-10-07 06:49:43.871770"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 60], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "maximina@renner.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "eae141a5c63ce1945aa7074c2f2abf03db031df4b4eefae01b71f4dd5c4e997cad41fe5fabedc860e678436040dd23a9cc10ca75871b2d260cd3cd2abd7f9493"], ["password_salt", "z7GvkcysBaXVweErMYkQ"], ["email", "maximina@renner.com"], ["login", "maximina@renner.com"], ["authentication_token", "xxxx15388949841721xxxxxxxxxxxxx"], ["created_at", "2018-10-07 06:49:44.112759"], ["updated_at", "2018-10-07 06:49:44.112759"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 60], ["user_id", 90]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 08:49:44 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 06:49:44.141278"], ["last_sign_in_at", "2018-10-07 06:49:44.141278"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 06:49:44.142307"], ["id", 90]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "0Jn5DMaS4euLPIgjMXHfuA1538894984303"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 06:49:44.352989"], ["spree_api_key", "c09018e557a56afbc02cc3cb2a1011e1a3d83830c04af324"], ["id", 90]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 533ms (ActiveRecord: 7.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (48.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (24.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (18.9ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:36:41.357503"], ["updated_at", "2018-10-07 10:36:41.357503"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Load (148.0ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL ORDER BY "spree_products"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (59.9ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (13.0ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 61], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (25.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "sarita@fadel.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (26.5ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "89a7375eae2e6ab7c78a073ecdc45dcc78eecef96cfd603c74ff5e3213c9c22867f2f8824e0f74cede1ce0baa58bd0fd0657a43f6746776770a8204690af9da3"], ["password_salt", "RKnsHLZh_97DraptakF9"], ["email", "sarita@fadel.co.uk"], ["login", "sarita@fadel.co.uk"], ["authentication_token", "xxxx15389086019261xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:36:42.079531"], ["updated_at", "2018-10-07 10:36:42.079531"]]
  [1m[35mSQL (61.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 61], ["user_id", 91]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:36:42 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:36:42.246162"], ["last_sign_in_at", "2018-10-07 10:36:42.246162"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:36:42.247162"], ["id", 91]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (29.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "lWB0nwoNA2E8XHEU8rrzOw1538908602375"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:36:42.641418"], ["spree_api_key", "e1ce1b88ebbcf52ad4604ca67953093f3fdbda0d22ccb809"], ["id", 91]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 871ms (ActiveRecord: 142.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:37:44.505535"], ["updated_at", "2018-10-07 10:37:44.505535"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 62], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "carolann@kossschowalter.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "0f061aad109d71fa7f7cbd584d9899fc73a391b9e38bad7af8636766d1bbf64e3733b10d26d6909f7f81041c2974e34776e2eb7fb16ac4bd838c4b974d2d8eba"], ["password_salt", "nq8zKWtQ6Wsn8inahNWN"], ["email", "carolann@kossschowalter.ca"], ["login", "carolann@kossschowalter.ca"], ["authentication_token", "xxxx15389086642091xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:37:44.730120"], ["updated_at", "2018-10-07 10:37:44.730120"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 62], ["user_id", 92]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:37:44 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:37:44.774216"], ["last_sign_in_at", "2018-10-07 10:37:44.774216"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:37:44.775097"], ["id", 92]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "z8WMQKwkNGhg9t-72oW70w1538908664906"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:37:44.925228"], ["spree_api_key", "6e74e1689ccc4894afe9c3d0a80ce3f24f7331a74abb84f0"], ["id", 92]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 487ms (ActiveRecord: 6.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:39:04.285418"], ["updated_at", "2018-10-07 10:39:04.285418"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 63], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "quyen@klein.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "524bb67bde7ee033103859c34f9fb872151739dbc3844cabe1d13a64ee648b8cf5c9987580f9071de723043d8f0bc237a1e6b0a6515b1f16064eba28a8f84f74"], ["password_salt", "x_JwMycpQNwHLbABHWMx"], ["email", "quyen@klein.biz"], ["login", "quyen@klein.biz"], ["authentication_token", "xxxx1538908744331xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:39:04.446804"], ["updated_at", "2018-10-07 10:39:04.446804"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 63], ["user_id", 93]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:39:04 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:39:04.476324"], ["last_sign_in_at", "2018-10-07 10:39:04.476324"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:39:04.477297"], ["id", 93]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "kwqr1Pu0vTTdh54Fqrfp7w1538908744611"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:39:04.631078"], ["spree_api_key", "d20d25173950f782a9d437295865e485803aae74f986bacd"], ["id", 93]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 491ms (ActiveRecord: 7.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:39:25.354497"], ["updated_at", "2018-10-07 10:39:25.354497"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 64], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "tandy@russeldavis.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "52553b45bc7889832a6db67b4378bd3f805a47ee5dca51f58217ff3fad0788bcb88d7e51166c142d96132b8951cf865f3d76cf39cffaeda974f05a9aba2c41b1"], ["password_salt", "kjNEPLadt9AV7WsV1K3e"], ["email", "tandy@russeldavis.biz"], ["login", "tandy@russeldavis.biz"], ["authentication_token", "xxxx15389087655741xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:39:25.514241"], ["updated_at", "2018-10-07 10:39:25.514241"]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 64], ["user_id", 94]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:39:25 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:39:25.546187"], ["last_sign_in_at", "2018-10-07 10:39:25.546187"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:39:25.547055"], ["id", 94]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "yazUjJOdeumGa4t87XVuHA1538908765675"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:39:25.697713"], ["spree_api_key", "7c158acdd5dfc4db682f0ac0d5ef2acb539a8eccf42325ee"], ["id", 94]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 491ms (ActiveRecord: 8.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:41:27.034760"], ["updated_at", "2018-10-07 10:41:27.034760"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 10:41:27.050376"], ["updated_at", "2018-10-07 10:41:27.050376"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (17.0ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL ORDER BY "spree_tax_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::TaxCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_tax_categories" WHERE LOWER("spree_tax_categories"."name") = LOWER($1) AND "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."deleted_at" IS NULL LIMIT $2[0m  [["name", "TaxCategory - 284574"], ["LIMIT", 1]]
  [1m[35mSQL (10.9ms)[0m  [1m[32mINSERT INTO "spree_tax_categories" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "TaxCategory - 284574"], ["description", "Repellendus doloribus consequatur commodi laboriosam."], ["created_at", "2018-10-07 10:41:27.265787"], ["updated_at", "2018-10-07 10:41:27.265787"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (51.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (10.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (7.7ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 10:41:27.428809"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (1.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (6.0ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 1], ["updated_at", "2018-10-07 10:41:27.466512"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.7ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 10:41:27.478600"], ["updated_at", "2018-10-07 10:41:27.478600"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 1], ["country_id", 1], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (13.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-2577"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (11.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-2577') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-2577"], ["LIMIT", 1]]
  [1m[35mSQL (11.2ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Product #1 - 2577"], ["description", "In dolores animi vel aut. Nobis doloremque quo sed quia. Asperiores illum placeat neque vero ut nostrum maxime non. Sit quisquam perspiciatis ea consectetur ipsum repudiandae unde."], ["available_on", "2017-10-07 10:41:27.196161"], ["slug", "product-1-2577"], ["tax_category_id", 1], ["shipping_category_id", 8], ["created_at", "2018-10-07 10:41:27.595383"], ["updated_at", "2018-10-07 10:41:27.595383"]]
  [1m[36mSpree::Variant Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (13.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 3], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 10:41:27.611359"], ["created_at", "2018-10-07 10:41:27.611359"]]
  [1m[35mSQL (21.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 1], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (14.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 1], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (7.9ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 1], ["created_at", "2018-10-07 10:41:27.709479"], ["updated_at", "2018-10-07 10:41:27.709479"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (3.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 10:41:27.727366"], ["id", 1]]
  [1m[36mActsAsTaggableOn::Tagging Load (12.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 3], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 3], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 3], ["sluggable_type", "Spree::Product"], ["slug", "product-1-2577"]]
  [1m[35mSQL (11.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-2577"], ["sluggable_id", 3], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 10:41:27.766981"]]
  [1m[36mSpree::Taxon Load (58.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:41:27.865673' WHERE 1=0[0m
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:41:27.869426' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 10:41:27.731817"], ["id", 3]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:41:27.876891' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:41:27.878120' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 65], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "adelle.cronin@labadieeffertz.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "c1f72cc9c96c9700ec718a21830c081d1cf61ec409a5a51983eed02b299a341a93c5e64d890ce83fe58120b81c7d488f36751417f52bc1e3c1b387bdb84d1f53"], ["password_salt", "AyK6LZA3P2JFvMopbsK5"], ["email", "adelle.cronin@labadieeffertz.ca"], ["login", "adelle.cronin@labadieeffertz.ca"], ["authentication_token", "xxxx15389088877081xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:41:27.996704"], ["updated_at", "2018-10-07 10:41:27.996704"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 65], ["user_id", 95]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:41:28 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:41:28.036841"], ["last_sign_in_at", "2018-10-07 10:41:28.036841"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:41:28.037764"], ["id", 95]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "Jrlko5e1q1l2qtS5z2tNqA1538908888210"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:41:28.224360"], ["spree_api_key", "09b286020bc8f14132b4a4797c67342fa7cf0cc3abd84e25"], ["id", 95]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 528ms (ActiveRecord: 5.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:44:30.583143"], ["updated_at", "2018-10-07 10:44:30.583143"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 10:44:30.624099"], ["updated_at", "2018-10-07 10:44:30.624099"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.7ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL ORDER BY "spree_tax_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::TaxCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_tax_categories" WHERE LOWER("spree_tax_categories"."name") = LOWER($1) AND "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."deleted_at" IS NULL LIMIT $2[0m  [["name", "TaxCategory - 374664"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_tax_categories" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "TaxCategory - 374664"], ["description", "Numquam consequatur aut rerum quia odit eligendi illum omnis."], ["created_at", "2018-10-07 10:44:30.726616"], ["updated_at", "2018-10-07 10:44:30.726616"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 10:44:30.795749"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (3.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 2], ["updated_at", "2018-10-07 10:44:30.824526"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 10:44:30.829731"], ["updated_at", "2018-10-07 10:44:30.829731"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 2], ["country_id", 2], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-4901"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-4901') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-4901"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Product #1 - 4901"], ["description", "Error ipsum rerum quia et ut labore. Quam est aliquid nulla ullam officia itaque atque tenetur. Nulla quisquam facere aliquid ut rerum enim eius rem. Et nisi quia id rerum. Quas dolorum ut autem quo enim et ut doloribus.\nAliquam molestiae blanditiis qui est aut illo repellat quibusdam. Dolorum maxime quis vero ut debitis omnis vitae. Qui maxime est rem et dicta. Nisi perferendis accusamus odit unde beatae. Eum exercitationem maiores est sint odio aut iusto."], ["available_on", "2017-10-07 10:44:30.696396"], ["slug", "product-1-4901"], ["tax_category_id", 2], ["shipping_category_id", 10], ["created_at", "2018-10-07 10:44:30.855074"], ["updated_at", "2018-10-07 10:44:30.855074"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 4], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 10:44:30.859980"], ["created_at", "2018-10-07 10:44:30.859980"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 2], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 2], ["stock_location_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 2], ["variant_id", 2], ["created_at", "2018-10-07 10:44:30.901618"], ["updated_at", "2018-10-07 10:44:30.901618"], ["backorderable", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 10:44:30.903908"], ["id", 2]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 4], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 4], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 4], ["sluggable_type", "Spree::Product"], ["slug", "product-1-4901"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-4901"], ["sluggable_id", 4], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 10:44:30.932560"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 4]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:44:30.961125' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:44:30.965004' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 10:44:30.905515"], ["id", 4]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:44:30.972155' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:44:30.973956' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 66], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "lorina@grimes.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "626c0f776ff668d35ca800e030c678a9d8f29a679be6ea8b66d6bf76fa01ba53e2a339cc5ed864c4b45df88c67f7f1348644559f77eec71f86c0257b38b50df1"], ["password_salt", "2WykkHFtbGeBP5yoWi7Y"], ["email", "lorina@grimes.us"], ["login", "lorina@grimes.us"], ["authentication_token", "xxxx15389090716421xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:44:31.069468"], ["updated_at", "2018-10-07 10:44:31.069468"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 66], ["user_id", 96]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:44:31 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:44:31.097241"], ["last_sign_in_at", "2018-10-07 10:44:31.097241"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:44:31.098161"], ["id", 96]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "E1oGlbYfeHQm6gQAySslHw1538909071234"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:44:31.254005"], ["spree_api_key", "36781ca998bd0a30abfdf14c737da7d5ee6768a216cb217f"], ["id", 96]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 490ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:46:15.982796"], ["updated_at", "2018-10-07 10:46:15.982796"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 10:46:16.024353"], ["updated_at", "2018-10-07 10:46:16.024353"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.6ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL ORDER BY "spree_tax_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::TaxCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_tax_categories" WHERE LOWER("spree_tax_categories"."name") = LOWER($1) AND "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."deleted_at" IS NULL LIMIT $2[0m  [["name", "TaxCategory - 667751"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_tax_categories" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "TaxCategory - 667751"], ["description", "Et assumenda facilis odio est deleniti voluptate."], ["created_at", "2018-10-07 10:46:16.125377"], ["updated_at", "2018-10-07 10:46:16.125377"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 10:46:16.203470"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 3], ["updated_at", "2018-10-07 10:46:16.230602"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 10:46:16.235361"], ["updated_at", "2018-10-07 10:46:16.235361"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 3], ["country_id", 3], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-9679"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-9679') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-9679"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Product #1 - 9679"], ["description", "Sunt quia est quos eius alias laudantium cupiditate perspiciatis. Amet at et minima optio quas nihil deleniti. Omnis autem nisi ut labore debitis dolor esse delectus. Autem sit odio error rem perferendis odit suscipit est. Saepe eos rem ut ex aperiam illum totam.\nQui inventore nemo enim molestiae illum consequuntur. Cumque facere quo sint quasi aut est quia. Pariatur sit eos aspernatur voluptatem accusantium sit.\nNon dicta enim unde harum et. Porro omnis natus dolorum laboriosam molestiae. Maiores itaque suscipit quod et pariatur molestiae. Est molestiae sunt blanditiis vero aliquam aut animi distinctio."], ["available_on", "2017-10-07 10:46:16.095274"], ["slug", "product-1-9679"], ["tax_category_id", 3], ["shipping_category_id", 12], ["created_at", "2018-10-07 10:46:16.259519"], ["updated_at", "2018-10-07 10:46:16.259519"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 5], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 10:46:16.264228"], ["created_at", "2018-10-07 10:46:16.264228"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 3], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 3], ["stock_location_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 3], ["variant_id", 3], ["created_at", "2018-10-07 10:46:16.308570"], ["updated_at", "2018-10-07 10:46:16.308570"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 10:46:16.311339"], ["id", 3]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 5], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 5], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 5], ["sluggable_type", "Spree::Product"], ["slug", "product-1-9679"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-9679"], ["sluggable_id", 5], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 10:46:16.339360"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 5]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:46:16.365618' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:46:16.371227' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 10:46:16.312911"], ["id", 5]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:46:16.379599' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:46:16.381160' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 67], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "easter.green@bergnaum.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "e6e5cc1718bcaf3a4e3084db3d294b35ed9364f1d4f0b0f33b2fbaf0d1013cb2731adf33a3242485e9258edb705a877cd5987ba74a1fc3081446b9b3231c9c23"], ["password_salt", "s2GYKPPZuF51agWFxsss"], ["email", "easter.green@bergnaum.info"], ["login", "easter.green@bergnaum.info"], ["authentication_token", "xxxx15389091761981xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:46:16.477646"], ["updated_at", "2018-10-07 10:46:16.477646"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 67], ["user_id", 97]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:46:16 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:46:16.505877"], ["last_sign_in_at", "2018-10-07 10:46:16.505877"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:46:16.506871"], ["id", 97]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "o8D7BJqWBcy23DvLhEWnGA1538909176637"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:46:16.656993"], ["spree_api_key", "f5b991fe7667f30d5d5479e2bab709ede59430fbeec6dcee"], ["id", 97]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 495ms (ActiveRecord: 7.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:46:55.105709"], ["updated_at", "2018-10-07 10:46:55.105709"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 10:46:55.149381"], ["updated_at", "2018-10-07 10:46:55.149381"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.6ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL ORDER BY "spree_tax_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::TaxCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_tax_categories" WHERE LOWER("spree_tax_categories"."name") = LOWER($1) AND "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."deleted_at" IS NULL LIMIT $2[0m  [["name", "TaxCategory - 837123"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_tax_categories" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "TaxCategory - 837123"], ["description", "Odit mollitia est non omnis possimus velit."], ["created_at", "2018-10-07 10:46:55.248543"], ["updated_at", "2018-10-07 10:46:55.248543"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 10:46:55.306067"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 4], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 4], ["updated_at", "2018-10-07 10:46:55.341957"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 10:46:55.346462"], ["updated_at", "2018-10-07 10:46:55.346462"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 4], ["country_id", 4], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-4900"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-4900') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-4900"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Product #1 - 4900"], ["description", "Minima cum nisi minus aliquam explicabo aut voluptatem natus. Ut voluptates amet enim maiores possimus maxime. Enim est eligendi nesciunt voluptatem sint.\nSunt eum ut laudantium quaerat molestiae quis a. Ut et et iste sit ut fuga earum. Iure aut totam molestiae magni. Possimus quia ut iure eligendi ipsum odit.\nQuod fuga unde sint nemo sapiente at nulla. Qui in quo odio voluptatum et velit qui quia. Sunt qui esse facilis inventore numquam hic."], ["available_on", "2017-10-07 10:46:55.222606"], ["slug", "product-1-4900"], ["tax_category_id", 4], ["shipping_category_id", 14], ["created_at", "2018-10-07 10:46:55.372173"], ["updated_at", "2018-10-07 10:46:55.372173"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 6], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 10:46:55.376784"], ["created_at", "2018-10-07 10:46:55.376784"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 4], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 4], ["stock_location_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 4], ["variant_id", 4], ["created_at", "2018-10-07 10:46:55.420400"], ["updated_at", "2018-10-07 10:46:55.420400"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 10:46:55.422835"], ["id", 4]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.9ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 6], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 6], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 6], ["sluggable_type", "Spree::Product"], ["slug", "product-1-4900"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-4900"], ["sluggable_id", 6], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 10:46:55.453390"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 6]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:46:55.482257' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:46:55.487739' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 10:46:55.424434"], ["id", 6]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:46:55.496374' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:46:55.498025' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.9ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 68], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "merrill@carroll.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "5a663885d520d8172366cb209901bfb9105e66534b6afc03bc117a50d96c1e4f15880f477431ec01a781c344c550c1980d283c89626f301652c2cea2854b0ff1"], ["password_salt", "xqqzX-L69ufs5stnssoN"], ["email", "merrill@carroll.com"], ["login", "merrill@carroll.com"], ["authentication_token", "xxxx15389092157531xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:46:55.642834"], ["updated_at", "2018-10-07 10:46:55.642834"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 68], ["user_id", 98]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:46:55 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:46:55.673941"], ["last_sign_in_at", "2018-10-07 10:46:55.673941"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:46:55.675577"], ["id", 98]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "tWM-Ivk4fDRU6-m2R-0KTQ1538909215841"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:46:55.861050"], ["spree_api_key", "194fa31dd48f9d8f01db7040d510051c1b7978225a83ff72"], ["id", 98]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 498ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:48:41.310342"], ["updated_at", "2018-10-07 10:48:41.310342"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 10:48:41.347893"], ["updated_at", "2018-10-07 10:48:41.347893"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.6ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL ORDER BY "spree_tax_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::TaxCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_tax_categories" WHERE LOWER("spree_tax_categories"."name") = LOWER($1) AND "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."deleted_at" IS NULL LIMIT $2[0m  [["name", "TaxCategory - 219631"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_tax_categories" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "TaxCategory - 219631"], ["description", "Eligendi vel quos doloremque dolorem dolorem."], ["created_at", "2018-10-07 10:48:41.444049"], ["updated_at", "2018-10-07 10:48:41.444049"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 10:48:41.508811"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 5], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 5], ["updated_at", "2018-10-07 10:48:41.535135"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 10:48:41.539542"], ["updated_at", "2018-10-07 10:48:41.539542"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 5], ["country_id", 5], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-4010"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-4010') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-4010"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Product #1 - 4010"], ["description", "Est dolorum eos quo voluptatibus impedit rerum quia et. Cumque odio dolore est vero deleniti molestiae. In qui soluta expedita explicabo.\nIn dolores qui ea consequatur ad beatae alias. Excepturi eum voluptatem velit dolorum dolore libero accusamus non. Voluptas facere veniam debitis quis. Molestias provident et corrupti consequatur."], ["available_on", "2017-10-07 10:48:41.416668"], ["slug", "product-1-4010"], ["tax_category_id", 5], ["shipping_category_id", 16], ["created_at", "2018-10-07 10:48:41.562490"], ["updated_at", "2018-10-07 10:48:41.562490"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 7], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 10:48:41.566764"], ["created_at", "2018-10-07 10:48:41.566764"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 5], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 5], ["stock_location_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 5], ["variant_id", 5], ["created_at", "2018-10-07 10:48:41.607964"], ["updated_at", "2018-10-07 10:48:41.607964"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 10:48:41.610266"], ["id", 5]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.6ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 7], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 7], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 7], ["sluggable_type", "Spree::Product"], ["slug", "product-1-4010"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-4010"], ["sluggable_id", 7], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 10:48:41.636273"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 7]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:48:41.663276' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:48:41.667081' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 10:48:41.611661"], ["id", 7]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:48:41.675452' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:48:41.676941' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.9ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 69], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "cleopatra_monahan@jaskolskispinka.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "e703a179d27f79c8113a84e60faf603fc21af583f6b7d7359e224c87d839ac452d283fe681806d6942f62b69d1127a3b8c9d6232007e819e971cd932e6f528bb"], ["password_salt", "6Hvt74tZt7egxxs4jzUa"], ["email", "cleopatra_monahan@jaskolskispinka.us"], ["login", "cleopatra_monahan@jaskolskispinka.us"], ["authentication_token", "xxxx15389093212001xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:48:41.770971"], ["updated_at", "2018-10-07 10:48:41.770971"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 69], ["user_id", 99]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:48:41 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:48:41.799145"], ["last_sign_in_at", "2018-10-07 10:48:41.799145"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:48:41.800081"], ["id", 99]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "gulsf058rzUBROz9D92q0g1538909321929"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:48:41.948741"], ["spree_api_key", "357b12e93433b4d5f3639605c4ce434d20a4a75874e16ca2"], ["id", 99]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 492ms (ActiveRecord: 7.1ms)
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:49:11.659439"], ["updated_at", "2018-10-07 10:49:11.659439"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 10:49:11.698007"], ["updated_at", "2018-10-07 10:49:11.698007"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.7ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL ORDER BY "spree_tax_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::TaxCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_tax_categories" WHERE LOWER("spree_tax_categories"."name") = LOWER($1) AND "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."deleted_at" IS NULL LIMIT $2[0m  [["name", "TaxCategory - 611585"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_tax_categories" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "TaxCategory - 611585"], ["description", "Et quae et omnis et."], ["created_at", "2018-10-07 10:49:11.798574"], ["updated_at", "2018-10-07 10:49:11.798574"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 10:49:11.866671"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 6], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 6], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 6], ["updated_at", "2018-10-07 10:49:11.893404"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 10:49:11.898511"], ["updated_at", "2018-10-07 10:49:11.898511"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 6], ["country_id", 6], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-5827"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-5827') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-5827"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Product #1 - 5827"], ["description", "Nemo illo aut eum nam nihil asperiores. Tempora commodi officiis quo ut magni inventore. Rerum sit dolorem blanditiis molestias necessitatibus deserunt similique enim. Atque est sint quod fuga rerum libero dignissimos. Quaerat sint nihil aperiam aut sit odio consequatur.\nQui et ut velit quos ut mollitia molestiae suscipit. Magnam non eos atque nam aliquid sit omnis temporibus. Impedit recusandae sapiente voluptatum aut assumenda laboriosam dolor soluta."], ["available_on", "2017-10-07 10:49:11.769456"], ["slug", "product-1-5827"], ["tax_category_id", 6], ["shipping_category_id", 18], ["created_at", "2018-10-07 10:49:11.924433"], ["updated_at", "2018-10-07 10:49:11.924433"]]
  [1m[36mSpree::Variant Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 8], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 10:49:11.930363"], ["created_at", "2018-10-07 10:49:11.930363"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 6], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 6], ["stock_location_id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 6], ["variant_id", 6], ["created_at", "2018-10-07 10:49:11.972790"], ["updated_at", "2018-10-07 10:49:11.972790"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 10:49:11.975112"], ["id", 6]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 8], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 8], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 8], ["sluggable_type", "Spree::Product"], ["slug", "product-1-5827"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-5827"], ["sluggable_id", 8], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 10:49:12.003885"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 8]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:49:12.032414' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:49:12.036902' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 10:49:11.976694"], ["id", 8]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:49:12.045095' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:49:12.046663' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 70], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "apolonia_lebsack@hanewolf.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "be4d5b3421a83b77deb1ecc5e223a5dafa13d38d3a186106a0d35bbc2583837155eb961167fef6f3748285d7e6b783c9cedeff504570fcc55b7001aab65c8d7e"], ["password_salt", "Lmz1okvjbVpPonQCU4jT"], ["email", "apolonia_lebsack@hanewolf.com"], ["login", "apolonia_lebsack@hanewolf.com"], ["authentication_token", "xxxx15389093529081xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:49:12.150580"], ["updated_at", "2018-10-07 10:49:12.150580"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 70], ["user_id", 100]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:49:12 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:49:12.183046"], ["last_sign_in_at", "2018-10-07 10:49:12.183046"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:49:12.184003"], ["id", 100]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "C84s6LQj6GfuMVv31CcePQ1538909352312"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:49:12.333107"], ["spree_api_key", "96f883b7840e5c009dfd7f8dfe7c6ab702801ff4357e683f"], ["id", 100]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 494ms (ActiveRecord: 7.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:49:37.426157"], ["updated_at", "2018-10-07 10:49:37.426157"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Load (1.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL ORDER BY "spree_products"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 10:51:51.443018"], ["updated_at", "2018-10-07 10:51:51.443018"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL ORDER BY "spree_tax_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::TaxCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_tax_categories" WHERE LOWER("spree_tax_categories"."name") = LOWER($1) AND "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."deleted_at" IS NULL LIMIT $2[0m  [["name", "TaxCategory - 595742"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_tax_categories" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "TaxCategory - 595742"], ["description", "Vel vero est velit culpa."], ["created_at", "2018-10-07 10:51:51.479712"], ["updated_at", "2018-10-07 10:51:51.479712"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 10:51:51.537470"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 7], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 7], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 7], ["updated_at", "2018-10-07 10:51:51.564004"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 10:51:51.568578"], ["updated_at", "2018-10-07 10:51:51.568578"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 7], ["country_id", 7], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-956"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-956') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-956"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Product #1 - 956"], ["description", "Itaque voluptates consequatur sed assumenda eos. Consequatur qui sunt nihil sed modi minima maiores. Tempore numquam ullam placeat nam illo officia.\nIncidunt sequi odit vitae consequatur libero rerum. Vel accusamus et et nulla nobis sapiente. Illum molestias quae cupiditate at voluptas aut saepe et. Quis ratione nobis iusto minima eveniet."], ["available_on", "2017-10-07 10:51:51.453148"], ["slug", "product-1-956"], ["tax_category_id", 7], ["shipping_category_id", 20], ["created_at", "2018-10-07 10:51:51.585145"], ["updated_at", "2018-10-07 10:51:51.585145"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 9], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 10:51:51.589729"], ["created_at", "2018-10-07 10:51:51.589729"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 7], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 7], ["stock_location_id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 7], ["variant_id", 7], ["created_at", "2018-10-07 10:51:51.631187"], ["updated_at", "2018-10-07 10:51:51.631187"], ["backorderable", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 10:51:51.633578"], ["id", 7]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 9], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 9], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 9], ["sluggable_type", "Spree::Product"], ["slug", "product-1-956"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-956"], ["sluggable_id", 9], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 10:51:51.661165"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 9]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:51:51.686782' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:51:51.690369' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 10:51:51.635402"], ["id", 9]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:51:51.697237' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:51:51.698447' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.8ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 71], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "fermin@mccullough.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "ad7c96586935d35fe2079e471235ece992186b5077d2bbf1b1fd8c94a1c75c692d3d5f937c7cd4be1a9a2e837cd5cd0490d0fe98f88ceb11f2444bf2096cd1af"], ["password_salt", "ymfNx1SPMHFq9x5xHyy_"], ["email", "fermin@mccullough.co.uk"], ["login", "fermin@mccullough.co.uk"], ["authentication_token", "xxxx15389095116451xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:51:51.813239"], ["updated_at", "2018-10-07 10:51:51.813239"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 71], ["user_id", 101]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:51:51 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:51:51.841749"], ["last_sign_in_at", "2018-10-07 10:51:51.841749"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:51:51.842681"], ["id", 101]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "J8x84E__L2Rh7Ssvu_xKZg1538909511976"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:51:51.996526"], ["spree_api_key", "1f585ea4cf616adce72cfea234fb6c93400d35d7ba0dd1c0"], ["id", 101]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 498ms (ActiveRecord: 7.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:51:59.304894"], ["updated_at", "2018-10-07 10:51:59.304894"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 10:51:59.314539"], ["updated_at", "2018-10-07 10:51:59.314539"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 72], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "percy.wyman@conn.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "72895c7904f689398906a9f640585bdd9453ebb81cfd7e0fb34e172ce7a18eb99a3543c52e44989e522941488596dd4aa76c0584198f558ee99df46b6eb5dc9a"], ["password_salt", "voj2nLUephKEeizZgBxp"], ["email", "percy.wyman@conn.us"], ["login", "percy.wyman@conn.us"], ["authentication_token", "xxxx15389095196391xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:51:59.423715"], ["updated_at", "2018-10-07 10:51:59.423715"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 72], ["user_id", 102]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:51:59 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:51:59.472004"], ["last_sign_in_at", "2018-10-07 10:51:59.472004"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:51:59.472874"], ["id", 102]]
  [1m[35m (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "fAPPa5cANoiTNU9xsRC0xA1538909519603"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:51:59.622944"], ["spree_api_key", "99304f2770fc3ab6fe1dd697909ecf079115cd3505fb2090"], ["id", 102]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 486ms (ActiveRecord: 6.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:52:30.793788"], ["updated_at", "2018-10-07 10:52:30.793788"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 10:52:35.616157"], ["updated_at", "2018-10-07 10:52:35.616157"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL ORDER BY "spree_tax_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::TaxCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_tax_categories" WHERE LOWER("spree_tax_categories"."name") = LOWER($1) AND "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."deleted_at" IS NULL LIMIT $2[0m  [["name", "TaxCategory - 141849"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_tax_categories" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "TaxCategory - 141849"], ["description", "Sint totam recusandae iure aut rerum suscipit."], ["created_at", "2018-10-07 10:52:35.716668"], ["updated_at", "2018-10-07 10:52:35.716668"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 10:52:35.772068"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 8], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 8], ["updated_at", "2018-10-07 10:52:35.798472"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 10:52:35.804040"], ["updated_at", "2018-10-07 10:52:35.804040"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 8], ["country_id", 8], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-884"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-884') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-884"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Product #1 - 884"], ["description", "Et dolor quae illum cumque eos non qui. Voluptas nobis totam suscipit ea id deleniti. Et omnis ipsa sint possimus."], ["available_on", "2017-10-07 10:52:35.690043"], ["slug", "product-1-884"], ["tax_category_id", 8], ["shipping_category_id", 24], ["created_at", "2018-10-07 10:52:35.827413"], ["updated_at", "2018-10-07 10:52:35.827413"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 10], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 10:52:35.831827"], ["created_at", "2018-10-07 10:52:35.831827"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 8], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 8], ["stock_location_id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 8], ["variant_id", 8], ["created_at", "2018-10-07 10:52:35.874569"], ["updated_at", "2018-10-07 10:52:35.874569"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 10:52:35.876987"], ["id", 8]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.6ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 10], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 10], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 10], ["sluggable_type", "Spree::Product"], ["slug", "product-1-884"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-884"], ["sluggable_id", 10], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 10:52:35.905046"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 10]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:52:35.932199' WHERE 1=0[0m
  [1m[35mSQL (5.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:52:35.937692' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 10:52:35.878576"], ["id", 10]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:52:35.951945' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:52:35.953492' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 73], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "delores_lemke@bruenkuhn.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "85a4cbeeced57bbd972f3cb362709c3d99344bf0818145b70e3c60b24dec2b768323439eeac398508b036cc71e891139f40021efe799bc9545b00f3d3f2e904c"], ["password_salt", "6oK4g67Y6hs18P6xxNTu"], ["email", "delores_lemke@bruenkuhn.us"], ["login", "delores_lemke@bruenkuhn.us"], ["authentication_token", "xxxx15389095561781xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:52:36.048266"], ["updated_at", "2018-10-07 10:52:36.048266"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 73], ["user_id", 103]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:52:36 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:52:36.075531"], ["last_sign_in_at", "2018-10-07 10:52:36.075531"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:52:36.076554"], ["id", 103]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "-lNjiNvb_f0bWc3E_MJAUg1538909556245"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:52:36.265551"], ["spree_api_key", "7e1972b2282d634cefaccc18f07761d77af147c153de5931"], ["id", 103]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 497ms (ActiveRecord: 7.2ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:53:10.241937"], ["updated_at", "2018-10-07 10:53:10.241937"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 10:55:45.398314"], ["updated_at", "2018-10-07 10:55:45.398314"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.6ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL ORDER BY "spree_tax_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::TaxCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_tax_categories" WHERE LOWER("spree_tax_categories"."name") = LOWER($1) AND "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."deleted_at" IS NULL LIMIT $2[0m  [["name", "TaxCategory - 516435"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_tax_categories" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "TaxCategory - 516435"], ["description", "Accusamus quam non explicabo at voluptatem."], ["created_at", "2018-10-07 10:55:45.505388"], ["updated_at", "2018-10-07 10:55:45.505388"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 10:55:45.564151"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 9], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 9], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 9], ["updated_at", "2018-10-07 10:55:45.589849"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 10:55:45.594992"], ["updated_at", "2018-10-07 10:55:45.594992"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 9], ["country_id", 9], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-1829"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-1829') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-1829"], ["LIMIT", 1]]
  [1m[35mSQL (34.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Product #1 - 1829"], ["description", "Aut exercitationem ratione voluptas quaerat sunt. Reiciendis id perspiciatis ex alias ratione numquam. Autem fugit corporis libero officia cupiditate ullam. Libero officiis et perspiciatis commodi sit fugiat unde ipsam. Delectus praesentium atque saepe magni qui.\nReprehenderit est est et quod qui perspiciatis et. Vitae rerum in blanditiis autem. Quo sequi eos ad in aut sit. Temporibus accusamus facere hic eligendi debitis fugiat minima. Minus sed consequuntur vitae a magnam fuga amet."], ["available_on", "2017-10-07 10:55:45.476846"], ["slug", "product-1-1829"], ["tax_category_id", 9], ["shipping_category_id", 26], ["created_at", "2018-10-07 10:55:45.618887"], ["updated_at", "2018-10-07 10:55:45.618887"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 11], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 10:55:45.657373"], ["created_at", "2018-10-07 10:55:45.657373"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 9], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 9], ["stock_location_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 9], ["variant_id", 9], ["created_at", "2018-10-07 10:55:45.701188"], ["updated_at", "2018-10-07 10:55:45.701188"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 10:55:45.704331"], ["id", 9]]
  [1m[36mActsAsTaggableOn::Tagging Load (1.0ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 11], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 11], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 11], ["sluggable_type", "Spree::Product"], ["slug", "product-1-1829"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-1829"], ["sluggable_id", 11], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 10:55:45.735878"]]
  [1m[36mSpree::Taxon Load (1.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 11]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:55:45.764424' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:55:45.769891' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 10:55:45.706057"], ["id", 11]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:55:45.778324' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:55:45.779747' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (54.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 74], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "blake@ortizmaggio.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "48cdf6d3e61c6530f176092c56b5808dab6f7d1f3febf1b895039812f28ab9d54559bb2c79c9d5d15ddf471825bec4db6e1a04b509de8a8bbdaa259ef9240432"], ["password_salt", "5eKT_Drs_F8qTvoRymEU"], ["email", "blake@ortizmaggio.co.uk"], ["login", "blake@ortizmaggio.co.uk"], ["authentication_token", "xxxx15389097453011xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:55:45.928808"], ["updated_at", "2018-10-07 10:55:45.928808"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 74], ["user_id", 104]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:55:45 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:55:45.956098"], ["last_sign_in_at", "2018-10-07 10:55:45.956098"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:55:45.957115"], ["id", 104]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "eiuNPbrrZCTt2YLqDIt-BA1538909746113"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:55:46.132987"], ["spree_api_key", "97dc8da3121792ebd5c8061c094322e9cd56e59a47efdb2d"], ["id", 104]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 507ms (ActiveRecord: 8.0ms)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:56:03.633512"], ["updated_at", "2018-10-07 10:56:03.633512"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 10:56:06.590341"], ["updated_at", "2018-10-07 10:56:06.590341"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 75], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "liana@marksjohnson.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "229f9355541772bfbf1e32bd1c6d23d0c00a369ac3cc9ff9f6d2f7698da93a7c7bbd28e4e1f173295571fe00001be8af4ec1d1e133f6ef733bd3efb7a1cf5603"], ["password_salt", "bCG4sVnncWEe6V9onv9a"], ["email", "liana@marksjohnson.us"], ["login", "liana@marksjohnson.us"], ["authentication_token", "xxxx15389097667491xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:56:06.761420"], ["updated_at", "2018-10-07 10:56:06.761420"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 75], ["user_id", 105]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:56:06 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:56:06.797649"], ["last_sign_in_at", "2018-10-07 10:56:06.797649"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:56:06.798623"], ["id", 105]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "y6QThUCj_qbb036hYee_3g1538909766986"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:56:07.021443"], ["spree_api_key", "4eecfd37a57497132c282bc40f3ec8c190c79fd0d071edb5"], ["id", 105]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 565ms (ActiveRecord: 7.0ms)
  [1m[35m (3.9ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:56:16.639484"], ["updated_at", "2018-10-07 10:56:16.639484"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 10:57:18.682046"], ["updated_at", "2018-10-07 10:57:18.682046"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 76], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "kelsey@metz.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "1b5613fa90c68b2d5cefaf669bd0cbcc0fd731b1daa97b75bcb6ee818482a007258f185043fdaa3aa19a864b393d3f34bbb1fe0e8ac47919cf6d90fcbcd64b17"], ["password_salt", "EYsL4eA9vkZHxXT1tyMj"], ["email", "kelsey@metz.co.uk"], ["login", "kelsey@metz.co.uk"], ["authentication_token", "xxxx15389098387471xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:57:18.808844"], ["updated_at", "2018-10-07 10:57:18.808844"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 76], ["user_id", 106]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:57:18 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:57:18.838405"], ["last_sign_in_at", "2018-10-07 10:57:18.838405"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:57:18.839301"], ["id", 106]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "sG5XHxBxbxXDH7RRN6Gh6Q1538909838964"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:57:18.983814"], ["spree_api_key", "c1f799422337ca0da586d93cd5993325de3440952bc40981"], ["id", 106]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 491ms (ActiveRecord: 7.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:57:39.705238"], ["updated_at", "2018-10-07 10:57:39.705238"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 10:57:47.093448"], ["updated_at", "2018-10-07 10:57:47.093448"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 10:57:47.215687"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 10], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 10], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 10], ["updated_at", "2018-10-07 10:57:47.241162"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 10:57:47.246035"], ["updated_at", "2018-10-07 10:57:47.246035"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 10], ["country_id", 10], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-2977"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-2977') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-2977"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 2977"], ["description", "Laboriosam labore minima et esse. Et rem exercitationem minus quis. Voluptas dolores vitae maiores culpa nihil laboriosam quae."], ["available_on", "2017-10-07 10:57:47.164634"], ["slug", "product-1-2977"], ["shipping_category_id", 32], ["created_at", "2018-10-07 10:57:47.269575"], ["updated_at", "2018-10-07 10:57:47.269575"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 12], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 10:57:47.274111"], ["created_at", "2018-10-07 10:57:47.274111"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 10], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 10], ["stock_location_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 10], ["variant_id", 10], ["created_at", "2018-10-07 10:57:47.315368"], ["updated_at", "2018-10-07 10:57:47.315368"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 10:57:47.317679"], ["id", 10]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 12], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 12], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 12], ["sluggable_type", "Spree::Product"], ["slug", "product-1-2977"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-2977"], ["sluggable_id", 12], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 10:57:47.343933"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 12]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:57:47.371534' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:57:47.376099' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 10:57:47.319261"], ["id", 12]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:57:47.384833' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:57:47.386347' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.0ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 77], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "joline@willms.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "ab8a96e073fbaf7e7b554aeda2b10ae683bd2a07e1962bd892e13311fd28d12d0328ba900684cb4895e4513d4ae380a2db13b11b23bc2980130594c769e2e279"], ["password_salt", "DBZ76DxaCjbpHNyzNFZH"], ["email", "joline@willms.biz"], ["login", "joline@willms.biz"], ["authentication_token", "xxxx15389098675661xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:57:47.483420"], ["updated_at", "2018-10-07 10:57:47.483420"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 77], ["user_id", 107]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:57:47 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:57:47.511873"], ["last_sign_in_at", "2018-10-07 10:57:47.511873"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:57:47.512925"], ["id", 107]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "rjxoRV36FDBpTgnPJvkFvA1538909867666"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:57:47.686541"], ["spree_api_key", "49ef256261b00dc1eba27504127d833bb6d62d971962ab76"], ["id", 107]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 495ms (ActiveRecord: 7.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:58:58.748241"], ["updated_at", "2018-10-07 10:58:58.748241"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 10:59:01.201136"], ["updated_at", "2018-10-07 10:59:01.201136"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 10:59:01.330059"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 11], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 11], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 11], ["updated_at", "2018-10-07 10:59:01.354990"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 10:59:01.359624"], ["updated_at", "2018-10-07 10:59:01.359624"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 11], ["country_id", 11], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-2244"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-2244') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-2244"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 2244"], ["description", "Ratione maiores soluta tempore pariatur voluptates. Sit explicabo voluptates autem tenetur sapiente. Odio voluptatibus suscipit nostrum quibusdam omnis corporis. Odit eius culpa et commodi.\nUllam quae dolores dolorem magnam qui esse dolores temporibus. In et rem fuga reiciendis aperiam vel quo vero. Provident totam debitis vel consequuntur quia corporis ut quos. Quia nulla molestias minus dolorem. Eum veniam doloremque excepturi repellendus maiores in numquam laboriosam.\nMolestiae voluptas ut dolor labore distinctio inventore. Reprehenderit provident deleniti et ut. Iure ut repellendus dolorum in repudiandae fugiat dolores distinctio. Et eos dolore quam et aut rerum aut.\nEt iste corporis sunt nisi recusandae. Ut sed ad dolorem quos dolor in. Deserunt laboriosam sed et sit. Dolores fuga ipsa sed sint id sed est.\nMolestiae sint ipsum ratione facilis totam quaerat nam. Facere ut est temporibus soluta voluptate. Delectus eum tenetur omnis voluptatum explicabo eius. Unde et aliquid ea magnam."], ["available_on", "2017-10-07 10:59:01.273100"], ["slug", "product-1-2244"], ["shipping_category_id", 34], ["created_at", "2018-10-07 10:59:01.384297"], ["updated_at", "2018-10-07 10:59:01.384297"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 13], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 10:59:01.388923"], ["created_at", "2018-10-07 10:59:01.388923"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 11], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 11], ["stock_location_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 11], ["variant_id", 11], ["created_at", "2018-10-07 10:59:01.431329"], ["updated_at", "2018-10-07 10:59:01.431329"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 10:59:01.433668"], ["id", 11]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 13], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 13], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 13], ["sluggable_type", "Spree::Product"], ["slug", "product-1-2244"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-2244"], ["sluggable_id", 13], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 10:59:01.460193"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 13]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:59:01.487878' WHERE 1=0[0m
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:59:01.492208' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 10:59:01.435179"], ["id", 13]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:59:01.501301' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:59:01.502909' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 78], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "kristi@nicolas.info"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "09cbbcce6f7d4800907b693598495d3449b48571fba70e359a9b8fd8dc7514737e4c8e8b0fb6d856e4836a8c8fb16f070f06bbf198588a43e42718212ff6223a"], ["password_salt", "ohjxFEVE6JnH4CZxAE9C"], ["email", "kristi@nicolas.info"], ["login", "kristi@nicolas.info"], ["authentication_token", "xxxx15389099415511xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:59:01.596968"], ["updated_at", "2018-10-07 10:59:01.596968"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 78], ["user_id", 108]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:59:01 +0200
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:59:01.635025"], ["last_sign_in_at", "2018-10-07 10:59:01.635025"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:59:01.636531"], ["id", 108]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "tLR_wl__fbkceZF63XV8gA1538909941796"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:59:01.819441"], ["spree_api_key", "0ca91fbc5e4c05b276a73e2afe811bc7df8c3e09f7c07dd9"], ["id", 108]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 525ms (ActiveRecord: 8.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 10:59:17.295894"], ["updated_at", "2018-10-07 10:59:17.295894"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 35], ["created_at", "2018-10-07 10:59:17.417216"], ["updated_at", "2018-10-07 10:59:17.417216"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 14], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 14], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 10:59:17.420755"], ["created_at", "2018-10-07 10:59:17.420755"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 12], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.9ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 14], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 14], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 14], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 14], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 10:59:17.482924"]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 14]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:59:17.510112' WHERE 1=0[0m
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:59:17.514858' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 10:59:17.426298"], ["id", 14]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:59:17.524907' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:59:17.526756' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.9ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 14], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 10:59:20.285685"], ["updated_at", "2018-10-07 10:59:20.285685"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 10:59:20.352033"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 12], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 12], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 12], ["updated_at", "2018-10-07 10:59:20.377651"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 10:59:20.382643"], ["updated_at", "2018-10-07 10:59:20.382643"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 12], ["country_id", 12], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-8206"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-8206') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-8206"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 8206"], ["description", "Et ab voluptas ut velit veritatis omnis. Ut maxime voluptatibus in quas eos libero nihil. Cumque esse delectus adipisci aut ut aut earum. Officia a rem asperiores nobis laborum. Cumque provident tempore dolorem animi vitae distinctio similique doloribus.\nQuia laudantium minus et deserunt ut ullam suscipit vitae. Architecto vitae quia qui tempora aut et voluptas. Laborum aut rerum velit odit est quisquam et. Hic vero magnam est nihil dolores earum vel. Assumenda nisi maiores voluptatem aut ratione eligendi voluptas sed.\nQuos temporibus error nemo saepe ad quia. Eius ducimus optio voluptatem maxime. Veritatis sunt aut voluptas labore aut inventore. Voluptates provident ratione asperiores non ea."], ["available_on", "2017-10-07 10:59:20.297230"], ["slug", "product-1-8206"], ["shipping_category_id", 36], ["created_at", "2018-10-07 10:59:20.403318"], ["updated_at", "2018-10-07 10:59:20.403318"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 15], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 10:59:20.408551"], ["created_at", "2018-10-07 10:59:20.408551"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 13], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.9ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 13], ["stock_location_id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 12], ["variant_id", 13], ["created_at", "2018-10-07 10:59:20.473711"], ["updated_at", "2018-10-07 10:59:20.473711"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 10:59:20.476546"], ["id", 13]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 15], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 15], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 15], ["sluggable_type", "Spree::Product"], ["slug", "product-1-8206"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-8206"], ["sluggable_id", 15], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 10:59:20.486432"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 15]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:59:20.490693' WHERE 1=0[0m
  [1m[35mSQL (3.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:59:20.492023' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 10:59:20.478193"], ["id", 15]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 10:59:20.498669' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 10:59:20.499964' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.8ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 15], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 79], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "fumiko_ratke@jacobson.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "00ea5e7f42602452e1fca5e1e719513cca91075bf28fa17c818db50a45fa5f012702896aadd43dee08301511fe0ff8c7efd3fc6c2377782563c132a1bc5d7032"], ["password_salt", "AeTJkqTwL9Gn9b7sa1P_"], ["email", "fumiko_ratke@jacobson.name"], ["login", "fumiko_ratke@jacobson.name"], ["authentication_token", "xxxx1538909960321xxxxxxxxxxxxx"], ["created_at", "2018-10-07 10:59:20.599038"], ["updated_at", "2018-10-07 10:59:20.599038"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 79], ["user_id", 109]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 12:59:20 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 10:59:20.626645"], ["last_sign_in_at", "2018-10-07 10:59:20.626645"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 10:59:20.627567"], ["id", 109]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "LsgUb2eHJN4Wn_E9qAfctA1538909960785"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 10:59:20.806685"], ["spree_api_key", "e584379b279f875578c4b42092fdce74ffb8ebf9f3818405"], ["id", 109]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 500ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:00:05.783028"], ["updated_at", "2018-10-07 11:00:05.783028"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 37], ["created_at", "2018-10-07 11:00:05.903088"], ["updated_at", "2018-10-07 11:00:05.903088"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 16], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 16], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:00:05.906603"], ["created_at", "2018-10-07 11:00:05.906603"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 14], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 16], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 16], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 16], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 16], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:00:05.969077"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 16]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:00:05.999275' WHERE 1=0[0m
  [1m[35mSQL (4.4ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:00:06.004005' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:00:05.911359"], ["id", 16]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:00:06.016025' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:00:06.017604' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.1ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 16], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:00:06.036694"], ["updated_at", "2018-10-07 11:00:06.036694"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:00:06.096619"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 13], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 13], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 13], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 13], ["updated_at", "2018-10-07 11:00:06.123733"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:00:06.128403"], ["updated_at", "2018-10-07 11:00:06.128403"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 13], ["country_id", 13], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-7425"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-7425') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-7425"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 7425"], ["description", "Quam impedit laborum aliquam corporis est aut odio dolores. Qui quidem omnis et aliquid exercitationem sapiente architecto. Quas pariatur itaque illo ut nulla quis ea aliquid. Amet laborum non fugiat adipisci maiores et. Accusamus sed ad soluta sunt et voluptatum.\nEt nemo illo totam sit cum quam nisi. Doloremque aut enim enim libero. Voluptatibus non sapiente quasi deleniti cupiditate. Magni ad iste in blanditiis error."], ["available_on", "2017-10-07 11:00:06.047513"], ["slug", "product-1-7425"], ["shipping_category_id", 38], ["created_at", "2018-10-07 11:00:06.147273"], ["updated_at", "2018-10-07 11:00:06.147273"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 17], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 17], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:00:06.151153"], ["created_at", "2018-10-07 11:00:06.151153"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 15], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (2.7ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 15], ["stock_location_id", 13], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 13], ["variant_id", 15], ["created_at", "2018-10-07 11:00:06.189568"], ["updated_at", "2018-10-07 11:00:06.189568"], ["backorderable", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:00:06.192896"], ["id", 15]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 17], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 17], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 17], ["sluggable_type", "Spree::Product"], ["slug", "product-1-7425"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-7425"], ["sluggable_id", 17], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:00:06.202780"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 17]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:00:06.206904' WHERE 1=0[0m
  [1m[35mSQL (3.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:00:06.208262' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:00:06.194888"], ["id", 17]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:00:06.214375' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:00:06.215613' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 17], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 80], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "theron@ortiz.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "190dda32d152e040c84efe0557b2531d30db56884c4ccdb39b561fb75319a130d96cf59f35beaa4541047469539d998fc66d5672f3d40d8e4e2e1399cbf14422"], ["password_salt", "wNzjB3saz5ff-edv9Sjb"], ["email", "theron@ortiz.ca"], ["login", "theron@ortiz.ca"], ["authentication_token", "xxxx1538910006711xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:00:06.313953"], ["updated_at", "2018-10-07 11:00:06.313953"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 80], ["user_id", 110]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:00:06 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:00:06.342956"], ["last_sign_in_at", "2018-10-07 11:00:06.342956"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:00:06.343890"], ["id", 110]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "ZI-nSMFF2X9mRhEzOwSBow1538910006473"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (3.9ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (3.4ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:00:06.504518"], ["spree_api_key", "1fab6ce2337d29943bc6ed5ef92585809edbec9a386ab5e6"], ["id", 110]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 541ms (ActiveRecord: 15.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:00:39.509974"], ["updated_at", "2018-10-07 11:00:39.509974"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 39], ["created_at", "2018-10-07 11:00:39.630440"], ["updated_at", "2018-10-07 11:00:39.630440"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 18], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 18], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:00:39.633469"], ["created_at", "2018-10-07 11:00:39.633469"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 16], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 18], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 18], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 18], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 18], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:00:39.697970"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 18]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:00:39.733536' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:00:39.737334' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:00:39.638730"], ["id", 18]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:00:39.745065' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:00:39.746426' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.0ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 18], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:00:39.762440"], ["updated_at", "2018-10-07 11:00:39.762440"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:00:39.823781"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 14], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 14], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 14], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 14], ["updated_at", "2018-10-07 11:00:39.847910"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:00:39.852845"], ["updated_at", "2018-10-07 11:00:39.852845"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 14], ["country_id", 14], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-6048"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-6048') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-6048"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 6048"], ["description", "Facilis ipsa beatae assumenda autem perspiciatis excepturi quo incidunt. Id tenetur est dignissimos officia itaque autem ut facere. Distinctio incidunt repellendus unde in praesentium voluptas occaecati id.\nExercitationem odit natus eveniet quod at et. Vitae qui eum suscipit pariatur est. Est maxime libero voluptas minus vel molestiae accusamus non. Dignissimos inventore consequatur harum doloremque error rerum similique.\nOmnis qui et dolorem dolores nemo inventore quae. Explicabo qui non fuga odit animi voluptate consequuntur. Non ratione nobis quod qui in. Quia odit ipsum qui saepe veniam quia molestias. Et porro doloremque minima maiores corrupti facere a dolorem."], ["available_on", "2017-10-07 11:00:39.773474"], ["slug", "product-1-6048"], ["shipping_category_id", 40], ["created_at", "2018-10-07 11:00:39.870868"], ["updated_at", "2018-10-07 11:00:39.870868"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 19], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:00:39.874872"], ["created_at", "2018-10-07 11:00:39.874872"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 17], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 17], ["stock_location_id", 14], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 14], ["variant_id", 17], ["created_at", "2018-10-07 11:00:39.906879"], ["updated_at", "2018-10-07 11:00:39.906879"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:00:39.909326"], ["id", 17]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 19], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 19], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 19], ["sluggable_type", "Spree::Product"], ["slug", "product-1-6048"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-6048"], ["sluggable_id", 19], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:00:39.919021"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 19]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:00:39.923285' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:00:39.924680' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:00:39.910855"], ["id", 19]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:00:39.928861' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:00:39.930519' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.2ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 19], ["LIMIT", 11]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 40], ["created_at", "2018-10-07 11:00:50.323068"], ["updated_at", "2018-10-07 11:00:50.323068"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 20], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:00:50.325420"], ["created_at", "2018-10-07 11:00:50.325420"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 18], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 18], ["stock_location_id", 14], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 14], ["variant_id", 18], ["created_at", "2018-10-07 11:00:50.340175"], ["updated_at", "2018-10-07 11:00:50.340175"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:00:50.342351"], ["id", 18]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 20], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 20], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 20], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 20], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:00:50.351789"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 20]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:00:50.355901' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:00:50.357179' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:00:50.343837"], ["id", 20]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:00:50.360216' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:00:50.361521' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 81], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "liz.jerde@feeneyvon.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "37c913d9ac5f61eeba19aa46a4783b171d8ec08f81757f2b1e8875a5a10fea43cdd028c234baa85df3c4a21aa6af0bf17a9fde3998a0b721dda148bb30c8a95f"], ["password_salt", "m94nE1iMHnzp1p-ue_Fm"], ["email", "liz.jerde@feeneyvon.ca"], ["login", "liz.jerde@feeneyvon.ca"], ["authentication_token", "xxxx15389100505751xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:00:50.478670"], ["updated_at", "2018-10-07 11:00:50.478670"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 81], ["user_id", 111]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:00:50 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:00:50.508096"], ["last_sign_in_at", "2018-10-07 11:00:50.508096"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:00:50.509243"], ["id", 111]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "2QWBIlBr7xiQ22eN2EANJQ1538910050647"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:00:50.666922"], ["spree_api_key", "1994a6ba0f887c5b1644e38cba4d651d9dbaea570156285c"], ["id", 111]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 507ms (ActiveRecord: 7.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:01:31.212212"], ["updated_at", "2018-10-07 11:01:31.212212"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 41], ["created_at", "2018-10-07 11:01:31.376782"], ["updated_at", "2018-10-07 11:01:31.376782"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 21], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:01:31.379841"], ["created_at", "2018-10-07 11:01:31.379841"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 19], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 21], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 21], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 21], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 21], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:01:31.444551"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 21]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:01:31.473638' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:01:31.478023' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:01:31.385469"], ["id", 21]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:01:31.486010' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:01:31.487371' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.9ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:01:31.504344"], ["updated_at", "2018-10-07 11:01:31.504344"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:01:31.568943"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 15], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 15], ["updated_at", "2018-10-07 11:01:31.601614"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:01:31.607523"], ["updated_at", "2018-10-07 11:01:31.607523"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 15], ["country_id", 15], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-1339"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-1339') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-1339"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 1339"], ["description", "Earum quasi non consequatur a. Ipsum maxime eum ratione enim aliquid. Vel qui natus excepturi in nesciunt et numquam iure. Beatae aut soluta earum a mollitia ut. Sed eius nihil commodi nisi sint eaque porro.\nMolestias ipsam nihil doloribus facilis maiores laborum assumenda. Quibusdam error vel id modi. Voluptatem nobis et qui consequatur. Corporis qui veritatis tempora rerum sed aliquam aut quod.\nIure facere quod officia quis unde. Doloremque aut quis provident amet aspernatur unde. Quas qui ab qui harum saepe perspiciatis. Asperiores et occaecati tempore nulla deleniti mollitia et.\nReprehenderit sed veniam repudiandae deserunt inventore quibusdam quis beatae. Sit neque expedita enim nesciunt. Ab aut et qui voluptatibus ut. Et nostrum eius cum officiis non quibusdam."], ["available_on", "2017-10-07 11:01:31.516331"], ["slug", "product-1-1339"], ["shipping_category_id", 42], ["created_at", "2018-10-07 11:01:31.625614"], ["updated_at", "2018-10-07 11:01:31.625614"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 22], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:01:31.630200"], ["created_at", "2018-10-07 11:01:31.630200"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 20], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 20], ["stock_location_id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 15], ["variant_id", 20], ["created_at", "2018-10-07 11:01:31.665731"], ["updated_at", "2018-10-07 11:01:31.665731"], ["backorderable", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:01:31.668112"], ["id", 20]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 22], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 22], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 22], ["sluggable_type", "Spree::Product"], ["slug", "product-1-1339"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-1339"], ["sluggable_id", 22], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:01:31.678719"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 22]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:01:31.682808' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:01:31.684161' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:01:31.670017"], ["id", 22]]
  [1m[35mSQL (2.1ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:01:31.688110' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:01:31.697670' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 42], ["created_at", "2018-10-07 11:01:33.090745"], ["updated_at", "2018-10-07 11:01:33.090745"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 23], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:01:33.093215"], ["created_at", "2018-10-07 11:01:33.093215"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 21], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 21], ["stock_location_id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 15], ["variant_id", 21], ["created_at", "2018-10-07 11:01:33.108255"], ["updated_at", "2018-10-07 11:01:33.108255"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:01:33.110256"], ["id", 21]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 23], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 23], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 23], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 23], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:01:33.119477"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 23]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:01:33.123926' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:01:33.125256' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:01:33.111723"], ["id", 23]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:01:33.128282' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:01:33.129579' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 82], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "jade@cronin.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "2628ebae19273cec5d868f3e52149ae96d6044bc58f642cbf9033af13bffc495612664fbf374ff7804b789cd8bf4a13e2be7bbf97dbaa5c7f1d2268c247723f9"], ["password_salt", "Tw2mQ2Am_LP1dMjy9D-j"], ["email", "jade@cronin.ca"], ["login", "jade@cronin.ca"], ["authentication_token", "xxxx15389100932161xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:01:33.247771"], ["updated_at", "2018-10-07 11:01:33.247771"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 82], ["user_id", 112]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:01:33 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:01:33.276237"], ["last_sign_in_at", "2018-10-07 11:01:33.276237"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:01:33.277282"], ["id", 112]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "3owcOF7ZkfY97LgCeDYRpw1538910093412"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:01:33.433951"], ["spree_api_key", "1abbb93969d4839eb62f1c9760fc413bea908f7027493dcd"], ["id", 112]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 498ms (ActiveRecord: 7.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:01:45.098334"], ["updated_at", "2018-10-07 11:01:45.098334"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 43], ["created_at", "2018-10-07 11:01:45.223184"], ["updated_at", "2018-10-07 11:01:45.223184"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 24], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:01:45.226196"], ["created_at", "2018-10-07 11:01:45.226196"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 22], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.9ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 24], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (1.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 24], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 24], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 24], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:01:45.289369"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 24]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:01:45.318501' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:01:45.323062' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:01:45.231073"], ["id", 24]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:01:45.330723' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:01:45.332009' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.9ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:01:45.354527"], ["updated_at", "2018-10-07 11:01:45.354527"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:01:45.414217"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 16], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 16], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 16], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 16], ["updated_at", "2018-10-07 11:01:45.439769"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:01:45.444848"], ["updated_at", "2018-10-07 11:01:45.444848"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 16], ["country_id", 16], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-5237"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-5237') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-5237"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 5237"], ["description", "Veniam cupiditate distinctio ad adipisci. Incidunt eius ipsam officiis omnis porro voluptatibus sed. Dolores iste consequatur eum corrupti sint et."], ["available_on", "2017-10-07 11:01:45.365051"], ["slug", "product-1-5237"], ["shipping_category_id", 44], ["created_at", "2018-10-07 11:01:45.460292"], ["updated_at", "2018-10-07 11:01:45.460292"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 25], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 25], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:01:45.464185"], ["created_at", "2018-10-07 11:01:45.464185"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 23], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.9ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 23], ["stock_location_id", 16], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 16], ["variant_id", 23], ["created_at", "2018-10-07 11:01:45.496919"], ["updated_at", "2018-10-07 11:01:45.496919"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:01:45.499515"], ["id", 23]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 25], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 25], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 25], ["sluggable_type", "Spree::Product"], ["slug", "product-1-5237"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-5237"], ["sluggable_id", 25], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:01:45.508853"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 25]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:01:45.513014' WHERE 1=0[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:01:45.514356' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:01:45.501114"], ["id", 25]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:01:45.517857' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:01:45.519056' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 25], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 83], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "ariel@crist.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "7f9809e75b9501ed1da311c29e83548d1ac0c0070f624e3e61728f1a361977f50d956f2bc9f8900b7bc7b50d0318a4db9f07d5ea0bccca316db31f0b6a758a63"], ["password_salt", "wktTduB7op2dni91YaN9"], ["email", "ariel@crist.name"], ["login", "ariel@crist.name"], ["authentication_token", "xxxx15389101054191xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:01:45.614085"], ["updated_at", "2018-10-07 11:01:45.614085"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 83], ["user_id", 113]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:01:45 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:01:45.644197"], ["last_sign_in_at", "2018-10-07 11:01:45.644197"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:01:45.645109"], ["id", 113]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "3R3A1eBoWy-pgINnKeOAqw1538910105775"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:01:45.795229"], ["spree_api_key", "dcb17c2355d6c4089fdc307bf1c0f9d4bbf89ed13f99fd2c"], ["id", 113]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 488ms (ActiveRecord: 7.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:02:14.064845"], ["updated_at", "2018-10-07 11:02:14.064845"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 45], ["created_at", "2018-10-07 11:02:14.186232"], ["updated_at", "2018-10-07 11:02:14.186232"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 26], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 26], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:02:14.189285"], ["created_at", "2018-10-07 11:02:14.189285"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 24], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 26], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 26], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 26], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 26], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:02:14.249384"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 26]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:02:14.277015' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:02:14.281972' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:02:14.194411"], ["id", 26]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:02:14.290392' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:02:14.291861' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.8ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 26], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:02:20.225608"], ["updated_at", "2018-10-07 11:02:20.225608"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:02:20.289098"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 17], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 17], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (3.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 17], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 17], ["updated_at", "2018-10-07 11:02:20.318254"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:02:20.323895"], ["updated_at", "2018-10-07 11:02:20.323895"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 17], ["country_id", 17], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-1788"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-1788') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (3.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-1788"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 1788"], ["description", "Quis quod eligendi dolorum sit. Provident aut qui quos autem. Voluptate laborum doloremque amet nulla qui repudiandae. Nesciunt eius ducimus neque adipisci ut quo debitis. Dolor et doloremque deleniti necessitatibus.\nEa placeat ad ipsa ratione. Iste non nemo nostrum ullam vitae eligendi omnis. Assumenda alias est maxime dolorem vitae sint. Quo deleniti velit inventore facilis non. Consequatur repudiandae ut voluptatem alias deserunt nobis veniam.\nSimilique sunt dolor dolorem repudiandae quia debitis placeat. Veritatis deleniti molestiae ut dicta dolorem quidem. Optio tempore quisquam nostrum officiis est mollitia vel."], ["available_on", "2017-10-07 11:02:20.238199"], ["slug", "product-1-1788"], ["shipping_category_id", 46], ["created_at", "2018-10-07 11:02:20.343336"], ["updated_at", "2018-10-07 11:02:20.343336"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 27], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 27], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:02:20.347815"], ["created_at", "2018-10-07 11:02:20.347815"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 25], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 25], ["stock_location_id", 17], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 17], ["variant_id", 25], ["created_at", "2018-10-07 11:02:20.400969"], ["updated_at", "2018-10-07 11:02:20.400969"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:02:20.403421"], ["id", 25]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 27], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.6ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 27], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 27], ["sluggable_type", "Spree::Product"], ["slug", "product-1-1788"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-1788"], ["sluggable_id", 27], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:02:20.413560"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 27]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:02:20.417829' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:02:20.419232' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:02:20.404994"], ["id", 27]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:02:20.423523' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:02:20.425204' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.8ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 27], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.7ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 84], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "gregory_okeefe@lueilwitz.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "cc22a98a08cf9e0da5111c15eded7854aba7cbbb8e2b3139767325e017884498e7de536aadce3901ed9145571fafa270a0c79d245fbedde6dddef22e08885502"], ["password_salt", "MjewDGrUGeBT9yBUtdwX"], ["email", "gregory_okeefe@lueilwitz.com"], ["login", "gregory_okeefe@lueilwitz.com"], ["authentication_token", "xxxx15389101402531xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:02:20.533983"], ["updated_at", "2018-10-07 11:02:20.533983"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 84], ["user_id", 114]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:02:20 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:02:20.562729"], ["last_sign_in_at", "2018-10-07 11:02:20.562729"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:02:20.563692"], ["id", 114]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "_imKKRqpdYF0XbgUnJdzFw1538910140740"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:02:20.767580"], ["spree_api_key", "b2bb356f3a805c625581343f0dbb891c5b5ad204bc7f8c58"], ["id", 114]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 511ms (ActiveRecord: 7.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:02:32.993419"], ["updated_at", "2018-10-07 11:02:32.993419"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:02:45.908225"], ["updated_at", "2018-10-07 11:02:45.908225"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:02:46.038086"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 18], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 18], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 18], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 18], ["updated_at", "2018-10-07 11:02:46.063521"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:02:46.067881"], ["updated_at", "2018-10-07 11:02:46.067881"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 18], ["country_id", 18], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-5846"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-5846') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-5846"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 5846"], ["description", "Dolor quos repellat harum qui similique ut voluptatem optio. Asperiores placeat ipsam dolor est quibusdam. Quos id fugiat provident aut cupiditate. Sed quidem quo qui non in nulla.\nVoluptas officia quam numquam omnis ut quasi odit doloribus. Odit voluptates necessitatibus quae sapiente quia voluptatem hic. Fugit ratione dolor voluptatem voluptatem atque. Eum iste eum et aut dicta. Laboriosam omnis consequatur aut beatae animi temporibus non reiciendis.\nOptio accusamus minus quaerat nobis aliquam architecto omnis. Aut esse ex qui aperiam non consequatur nam. Veritatis praesentium sed corporis consequatur aliquam soluta consequuntur dolorem. Eos autem error dolor voluptate qui non qui suscipit.\nEsse suscipit et exercitationem non adipisci quia vitae. Nam consequatur officiis numquam temporibus est blanditiis. Rem quia eius vel ea. Temporibus et dolore eveniet et rem iusto blanditiis facilis. Ratione inventore qui nesciunt ut."], ["available_on", "2017-10-07 11:02:45.980569"], ["slug", "product-1-5846"], ["shipping_category_id", 48], ["created_at", "2018-10-07 11:02:46.096477"], ["updated_at", "2018-10-07 11:02:46.096477"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 28], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 28], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:02:46.105878"], ["created_at", "2018-10-07 11:02:46.105878"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 26], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 26], ["stock_location_id", 18], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 18], ["variant_id", 26], ["created_at", "2018-10-07 11:02:46.149830"], ["updated_at", "2018-10-07 11:02:46.149830"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:02:46.152909"], ["id", 26]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 28], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 28], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 28], ["sluggable_type", "Spree::Product"], ["slug", "product-1-5846"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-5846"], ["sluggable_id", 28], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:02:46.178593"]]
  [1m[36mSpree::Taxon Load (1.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 28]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:02:46.206700' WHERE 1=0[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:02:46.211253' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:02:46.154423"], ["id", 28]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:02:46.218109' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:02:46.219294' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 28], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 85], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "marline@dickens.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "cdd2678e2fe8aba59db8375a6c9f28a062e2436a5d8ff983ae6061e46fac096f4ed227ee0a5c29d92ab54ae082c86eac9a3b058bd2b661a2ee446d4edb270089"], ["password_salt", "Qf1m8UQsjVepCEH4dCva"], ["email", "marline@dickens.info"], ["login", "marline@dickens.info"], ["authentication_token", "xxxx15389101669131xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:02:46.317244"], ["updated_at", "2018-10-07 11:02:46.317244"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 85], ["user_id", 115]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:02:46 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:02:46.346967"], ["last_sign_in_at", "2018-10-07 11:02:46.346967"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:02:46.347969"], ["id", 115]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "FPOo9im0JY4owZmhbNtb7g1538910166510"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:02:46.533405"], ["spree_api_key", "19f965b85f8a1cf4e840134d1ac2debb19a5b18ac05ed538"], ["id", 115]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 553ms (ActiveRecord: 8.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:03:27.585723"], ["updated_at", "2018-10-07 11:03:27.585723"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 49], ["created_at", "2018-10-07 11:03:50.292582"], ["updated_at", "2018-10-07 11:03:50.292582"]]
  [1m[36mSpree::Variant Load (1.1ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 29], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 29], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:03:50.296026"], ["created_at", "2018-10-07 11:03:50.296026"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 27], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 29], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 29], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 29], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 29], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:03:50.348274"]]
  [1m[36mSpree::Taxon Load (1.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 29]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:03:50.378368' WHERE 1=0[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:03:50.383369' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:03:50.301599"], ["id", 29]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:03:50.392565' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:03:50.394428' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:04:14.696985"], ["updated_at", "2018-10-07 11:04:14.696985"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:04:14.757555"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 19], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 19], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 19], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 19], ["updated_at", "2018-10-07 11:04:14.784474"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:04:14.788941"], ["updated_at", "2018-10-07 11:04:14.788941"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 19], ["country_id", 19], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-5304"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-5304') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-5304"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 5304"], ["description", "Unde corporis voluptatem odio laboriosam nulla error. Eius repellendus ut aut perspiciatis tempora. Ullam ea laborum ipsa itaque omnis. Ut quis enim tenetur omnis ut nihil explicabo mollitia.\nRepudiandae aut est et earum optio consequatur reiciendis. Quia quae ad voluptatem a fugiat similique veritatis sed. Qui sapiente ut autem id tempore."], ["available_on", "2017-10-07 11:04:14.707347"], ["slug", "product-1-5304"], ["shipping_category_id", 50], ["created_at", "2018-10-07 11:04:14.804309"], ["updated_at", "2018-10-07 11:04:14.804309"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 30], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 30], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:04:14.808140"], ["created_at", "2018-10-07 11:04:14.808140"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 28], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 28], ["stock_location_id", 19], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 19], ["variant_id", 28], ["created_at", "2018-10-07 11:04:14.848131"], ["updated_at", "2018-10-07 11:04:14.848131"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:04:14.850403"], ["id", 28]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 30], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 30], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 30], ["sluggable_type", "Spree::Product"], ["slug", "product-1-5304"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-5304"], ["sluggable_id", 30], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:04:14.859522"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 30]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:04:14.863451' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:04:14.864822' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:04:14.851830"], ["id", 30]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:04:14.867872' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:04:14.869189' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 30], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 86], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "mozelle@roob.name"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "a64d6ee077fa08b237a0b9086bf7cb281265415a39c2e16db27a9a684989ea50e07583ea5d01459ec73a275fd61b416c8f79172e0d6ddc792d57a3f941f19089"], ["password_salt", "GWiMMf1CeqinQXah_y_p"], ["email", "mozelle@roob.name"], ["login", "mozelle@roob.name"], ["authentication_token", "xxxx15389102543811xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:04:14.968117"], ["updated_at", "2018-10-07 11:04:14.968117"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 86], ["user_id", 116]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:04:14 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:04:14.997478"], ["last_sign_in_at", "2018-10-07 11:04:14.997478"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:04:14.998447"], ["id", 116]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "Ca4cvlFp17M9h5Pk_FiMOw1538910255155"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:04:15.175224"], ["spree_api_key", "8179d3cbee9c5a12f352ba94f4c64a5456cf0e9a07c4a253"], ["id", 116]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 495ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:05:02.741474"], ["updated_at", "2018-10-07 11:05:02.741474"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:05:19.099148"], ["updated_at", "2018-10-07 11:05:19.099148"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:05:19.234878"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 20], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 20], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 20], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 20], ["updated_at", "2018-10-07 11:05:19.261382"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:05:19.265868"], ["updated_at", "2018-10-07 11:05:19.265868"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 20], ["country_id", 20], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-684"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-684') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-684"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 684"], ["description", "Eos voluptas perspiciatis quis id. Cum qui alias rerum aut. Temporibus laborum quasi repellendus nihil dolorum ea est. Eaque consequuntur quo ut aut.\nQui repellat repellendus eos ratione iste quo pariatur. Modi atque voluptatem est dicta. Recusandae voluptas nihil est nobis et ullam. Esse consequatur pariatur quo commodi cum beatae repellendus.\nAut odio est pariatur sapiente ut voluptatem maxime magnam. Ratione esse similique nihil neque eos rerum culpa pariatur. Magni assumenda quas possimus quae.\nLaborum qui sapiente autem maxime. Iste aut tenetur est dolores aliquid aliquam qui. Ea at dolor quae a perspiciatis. Nobis nulla repudiandae qui autem officia est necessitatibus.\nMinus eveniet ipsum aliquam quas tempore distinctio. Dolor qui aut rem eligendi. Pariatur natus repellat inventore repellendus unde molestiae. Rerum in accusamus cum ut qui dolore dolor eveniet."], ["available_on", "2017-10-07 11:05:19.173045"], ["slug", "product-1-684"], ["shipping_category_id", 52], ["created_at", "2018-10-07 11:05:19.291066"], ["updated_at", "2018-10-07 11:05:19.291066"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 31], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 31], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:05:19.295578"], ["created_at", "2018-10-07 11:05:19.295578"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 29], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 29], ["stock_location_id", 20], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 20], ["variant_id", 29], ["created_at", "2018-10-07 11:05:19.338382"], ["updated_at", "2018-10-07 11:05:19.338382"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:05:19.340757"], ["id", 29]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 31], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 31], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 31], ["sluggable_type", "Spree::Product"], ["slug", "product-1-684"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-684"], ["sluggable_id", 31], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:05:19.372841"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 31]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:05:19.400668' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:05:19.405629' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:05:19.342311"], ["id", 31]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:05:19.414457' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:05:19.416095' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 31], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 87], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "jana@brekke.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "aff7d991f6ff4d4b56e91e32391713bb982bc4728f708990f738b370445913bf73455a9f6533bca9773bb93890b9aac095147cd903a80f20308011c04bf4b81c"], ["password_salt", "xnNCFraYNkLDiumL16Px"], ["email", "jana@brekke.info"], ["login", "jana@brekke.info"], ["authentication_token", "xxxx15389103195201xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:05:19.518561"], ["updated_at", "2018-10-07 11:05:19.518561"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 87], ["user_id", 117]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:05:19 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:05:19.547845"], ["last_sign_in_at", "2018-10-07 11:05:19.547845"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:05:19.548866"], ["id", 117]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "_ReAiScnD-OA2NaKrBSlYA1538910319723"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.1ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:05:19.746612"], ["spree_api_key", "cc8c89cf6dad5deeed7b2ad0b5476fd1430a0c09d548481f"], ["id", 117]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 503ms (ActiveRecord: 8.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:05:43.468103"], ["updated_at", "2018-10-07 11:05:43.468103"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 53], ["created_at", "2018-10-07 11:06:02.991160"], ["updated_at", "2018-10-07 11:06:02.991160"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 32], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 32], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:06:02.994205"], ["created_at", "2018-10-07 11:06:02.994205"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 30], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 32], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.6ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 32], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 32], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 32], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:06:03.047206"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 32]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:06:03.075792' WHERE 1=0[0m
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:06:03.080286' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:06:03.000463"], ["id", 32]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:06:03.092623' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:06:03.093988' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:06:06.683384"], ["updated_at", "2018-10-07 11:06:06.683384"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:06:06.747913"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 21], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 21], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 21], ["updated_at", "2018-10-07 11:06:06.774697"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:06:06.781653"], ["updated_at", "2018-10-07 11:06:06.781653"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 21], ["country_id", 21], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-8747"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-8747') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-8747"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 8747"], ["description", "Rerum optio ut et sed sit ducimus harum odit. Voluptatum perferendis officiis laboriosam atque assumenda. Repellendus consequuntur fugiat quaerat dolores minima pariatur ut ad. Animi voluptatibus itaque illo cum nisi voluptatem.\nAsperiores nisi illum consequuntur harum. Ut delectus assumenda odio incidunt. Eaque sapiente error ullam dolorem quo sit minima. Aliquam harum in quod repellat veritatis labore. Sit magni minus quo magnam incidunt corrupti.\nDeleniti et placeat fugit tenetur quod. Ratione ipsam est nobis omnis. Optio maxime maiores nam qui et ab rerum cum. Maxime ut at quod aut sint aliquam qui id.\nEt accusamus voluptas dolor quia facere perferendis quisquam. Rerum veritatis nam nihil eum culpa voluptas et. Est dolorem error non id dolore quo ullam. Explicabo quia dolor sunt dolorem ut nulla dolor fugit.\nTempora rerum maxime facere temporibus eos eius voluptas ut. Voluptatem repudiandae ut sit quia eveniet rerum ipsum. Beatae qui recusandae cum laudantium unde. Assumenda sapiente est explicabo perspiciatis ea rem vel."], ["available_on", "2017-10-07 11:06:06.693455"], ["slug", "product-1-8747"], ["shipping_category_id", 54], ["created_at", "2018-10-07 11:06:06.799886"], ["updated_at", "2018-10-07 11:06:06.799886"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 33], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 33], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:06:06.803852"], ["created_at", "2018-10-07 11:06:06.803852"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 31], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 31], ["stock_location_id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 21], ["variant_id", 31], ["created_at", "2018-10-07 11:06:06.845442"], ["updated_at", "2018-10-07 11:06:06.845442"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:06:06.848055"], ["id", 31]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 33], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 33], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 33], ["sluggable_type", "Spree::Product"], ["slug", "product-1-8747"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-8747"], ["sluggable_id", 33], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:06:06.857429"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 33]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:06:06.861478' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:06:06.862822' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:06:06.849588"], ["id", 33]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:06:06.865888' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:06:06.867114' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 33], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 88], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "lyndsay.cummings@heidenreich.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "e4bf5b773972715cc6f142d87522165ca9460d9607e5675c88662b70a59b3b8de71b68ea9c9ffb69b4743d2db84ec0bdb185fe45cdfbbadc8d4a210db9cdc87b"], ["password_salt", "fA1pckxap1v1uCHund15"], ["email", "lyndsay.cummings@heidenreich.name"], ["login", "lyndsay.cummings@heidenreich.name"], ["authentication_token", "xxxx15389103663941xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:06:06.963566"], ["updated_at", "2018-10-07 11:06:06.963566"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 88], ["user_id", 118]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:06:06 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:06:06.991556"], ["last_sign_in_at", "2018-10-07 11:06:06.991556"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:06:06.992501"], ["id", 118]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "lU3HioCi45L-vV5o8QzZiw1538910367158"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (3.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:06:07.193189"], ["spree_api_key", "0a5b50ae4d788b9b93b850ef15c6a22e27957cddfdb889b4"], ["id", 118]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 535ms (ActiveRecord: 11.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:06:26.727301"], ["updated_at", "2018-10-07 11:06:26.727301"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 55], ["created_at", "2018-10-07 11:06:26.851278"], ["updated_at", "2018-10-07 11:06:26.851278"]]
  [1m[36mSpree::Variant Load (1.1ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 34], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 34], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:06:26.854618"], ["created_at", "2018-10-07 11:06:26.854618"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 32], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 34], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 34], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 34], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 34], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:06:26.923265"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 34]]
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:06:26.959891' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:06:26.966504' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:06:26.859869"], ["id", 34]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:06:26.975029' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:06:26.976286' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.1ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 34], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:06:29.766328"], ["updated_at", "2018-10-07 11:06:29.766328"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:06:29.829373"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 22], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 22], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 22], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 22], ["updated_at", "2018-10-07 11:06:29.856291"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:06:29.860898"], ["updated_at", "2018-10-07 11:06:29.860898"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 22], ["country_id", 22], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-7307"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-7307') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-7307"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 7307"], ["description", "Quasi repudiandae sed tempora eveniet. Consequatur hic omnis sed ut est laudantium quas blanditiis. Nam blanditiis quod voluptas velit ipsum. Omnis natus quo voluptas repudiandae quam.\nItaque omnis id iste sunt ut aut. Quo ullam optio facere odio ut. Veniam sint mollitia ipsum ullam doloribus tempore."], ["available_on", "2017-10-07 11:06:29.780550"], ["slug", "product-1-7307"], ["shipping_category_id", 56], ["created_at", "2018-10-07 11:06:29.877010"], ["updated_at", "2018-10-07 11:06:29.877010"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 35], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 35], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:06:29.880931"], ["created_at", "2018-10-07 11:06:29.880931"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 33], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 33], ["stock_location_id", 22], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 22], ["variant_id", 33], ["created_at", "2018-10-07 11:06:29.935807"], ["updated_at", "2018-10-07 11:06:29.935807"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:06:29.938216"], ["id", 33]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 35], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 35], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 35], ["sluggable_type", "Spree::Product"], ["slug", "product-1-7307"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-7307"], ["sluggable_id", 35], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:06:29.948060"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 35]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:06:29.952380' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:06:29.953810' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:06:29.939715"], ["id", 35]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:06:29.957079' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:06:29.958435' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.8ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 35], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 89], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "hilario@konopelskibernhard.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "99c2aaebb8687efd9bf5be2b6d698f47aed994ec762c98faef09274e20c997d02f793c833c6ef1b34a86a32d0c4ec61bbfbd1213b59241282e5adadf4e281ed3"], ["password_salt", "yuWos8JGxbCzDD6MdzJR"], ["email", "hilario@konopelskibernhard.us"], ["login", "hilario@konopelskibernhard.us"], ["authentication_token", "xxxx15389103904071xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:06:30.058855"], ["updated_at", "2018-10-07 11:06:30.058855"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 89], ["user_id", 119]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:06:30 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:06:30.087175"], ["last_sign_in_at", "2018-10-07 11:06:30.087175"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:06:30.088085"], ["id", 119]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "dKIWKxHKmQ9CmJVy-Yp-SQ1538910390235"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:06:30.256163"], ["spree_api_key", "e03a5a943fdd1973187a57a8d4e2c4f6ecf1c6c4bd77f731"], ["id", 119]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 503ms (ActiveRecord: 7.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:07:55.378747"], ["updated_at", "2018-10-07 11:07:55.378747"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 57], ["created_at", "2018-10-07 11:07:55.507401"], ["updated_at", "2018-10-07 11:07:55.507401"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 36], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 36], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:07:55.510747"], ["created_at", "2018-10-07 11:07:55.510747"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 34], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 36], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.6ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 36], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 36], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 36], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:07:55.560902"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 36]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:07:55.589196' WHERE 1=0[0m
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:07:55.593985' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:07:55.515777"], ["id", 36]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:07:55.604201' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:07:55.605907' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.9ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 36], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:07:57.251408"], ["updated_at", "2018-10-07 11:07:57.251408"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:07:57.329049"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 23], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 23], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 23], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 23], ["updated_at", "2018-10-07 11:07:57.372654"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:07:57.381454"], ["updated_at", "2018-10-07 11:07:57.381454"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 23], ["country_id", 23], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-2697"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-2697') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-2697"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 2697"], ["description", "Reprehenderit quaerat ipsam facere est aut dignissimos consequatur fugit. Commodi illo et fugiat quisquam atque ducimus quia molestias. Voluptate ut mollitia veritatis molestias quia perspiciatis expedita. Sint quia alias quo tempora. Repellendus est ut ea et."], ["available_on", "2017-10-07 11:07:57.262035"], ["slug", "product-1-2697"], ["shipping_category_id", 58], ["created_at", "2018-10-07 11:07:57.404138"], ["updated_at", "2018-10-07 11:07:57.404138"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 37], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 37], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:07:57.410945"], ["created_at", "2018-10-07 11:07:57.410945"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 35], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 35], ["stock_location_id", 23], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 23], ["variant_id", 35], ["created_at", "2018-10-07 11:07:57.472041"], ["updated_at", "2018-10-07 11:07:57.472041"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:07:57.475379"], ["id", 35]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 37], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 37], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 37], ["sluggable_type", "Spree::Product"], ["slug", "product-1-2697"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-2697"], ["sluggable_id", 37], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:07:57.491340"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 37]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:07:57.498472' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:07:57.499845' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:07:57.477765"], ["id", 37]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:07:57.504840' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:07:57.506688' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 37], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (1.2ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 90], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "essie@walker.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "2e7427ae110cce8460f24860857f90737dce49006a5163904226a3d28feb6f00fb0125b8031dde29010c199c978f332b7a2dedb387f7df49ad2af841653e6b13"], ["password_salt", "Swz1xzRd-69Gnyxiwiet"], ["email", "essie@walker.com"], ["login", "essie@walker.com"], ["authentication_token", "xxxx15389104775341xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:07:57.636816"], ["updated_at", "2018-10-07 11:07:57.636816"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 90], ["user_id", 120]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:07:57 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:07:57.666849"], ["last_sign_in_at", "2018-10-07 11:07:57.666849"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:07:57.667838"], ["id", 120]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "iFfSXVrGiQVhsyRzrGrk6g1538910477799"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:07:57.818911"], ["spree_api_key", "680cb8c347307baa37105b46b5f43c908b8719a05b98180a"], ["id", 120]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 487ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:10:08.423494"], ["updated_at", "2018-10-07 11:10:08.423494"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.6ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 59], ["created_at", "2018-10-07 11:10:08.552657"], ["updated_at", "2018-10-07 11:10:08.552657"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 38], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 38], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:10:08.555513"], ["created_at", "2018-10-07 11:10:08.555513"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 36], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 38], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 38], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 38], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 38], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:10:08.621703"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 38]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:10:08.649533' WHERE 1=0[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:10:08.654281' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:10:08.560854"], ["id", 38]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:10:08.663455' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:10:08.665116' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.8ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 38], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:10:10.340112"], ["updated_at", "2018-10-07 11:10:10.340112"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:10:10.400420"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 24], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 24], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 24], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 24], ["updated_at", "2018-10-07 11:10:10.426239"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (3.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:10:10.430804"], ["updated_at", "2018-10-07 11:10:10.430804"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 24], ["country_id", 24], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-2563"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-2563') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-2563"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 2563"], ["description", "Aut distinctio eos non ullam quos facilis. Dolores veniam perspiciatis occaecati magni. Minima sed dolorum odit quaerat iusto dolores.\nAutem accusamus id odit corrupti provident. Harum facilis et tempora aspernatur tenetur nihil quae nostrum. Quas dolores occaecati et in reprehenderit tempore eveniet.\nQui autem non ex earum. Facere est voluptatem maiores et quia dolor ad cum. Id nemo sit at eos sapiente. Eum et nulla earum ut ex consequatur ipsum dolor.\nIn ex sunt dolor molestiae est occaecati enim veritatis. Doloremque est aut quae illo vitae. Omnis et magnam ducimus libero asperiores qui saepe dolore. Eligendi et amet et et aut."], ["available_on", "2017-10-07 11:10:10.350939"], ["slug", "product-1-2563"], ["shipping_category_id", 60], ["created_at", "2018-10-07 11:10:10.454208"], ["updated_at", "2018-10-07 11:10:10.454208"]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 39], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 39], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:10:10.458411"], ["created_at", "2018-10-07 11:10:10.458411"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 37], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 37], ["stock_location_id", 24], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 24], ["variant_id", 37], ["created_at", "2018-10-07 11:10:10.511420"], ["updated_at", "2018-10-07 11:10:10.511420"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:10:10.513766"], ["id", 37]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 39], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 39], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 39], ["sluggable_type", "Spree::Product"], ["slug", "product-1-2563"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-2563"], ["sluggable_id", 39], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:10:10.523476"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 39]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:10:10.527834' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:10:10.529402' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:10:10.515211"], ["id", 39]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:10:10.532601' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:10:10.533937' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 24], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:10:10.541774"], ["updated_at", "2018-10-07 11:10:10.541774"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 24], ["country_id", 24], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 39[0m
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 37], ["stock_location_id", 25], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 25], ["variant_id", 37], ["created_at", "2018-10-07 11:10:10.593546"], ["updated_at", "2018-10-07 11:10:10.593546"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:10:10.595684"], ["id", 37]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:10:10.597304"], ["id", 39]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 39]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:10:10.601631' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:10:10.602927' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 37], ["stock_location_id", 25], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.7ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 91], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "velia@grady.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "35558979a5c7371f99935f2fe3f17432768e4a7aa64ce99ba925c2e882d03830b8bb484df991c18f807322da55699d3ac5b12122a7b891c6103172c400e5f9b3"], ["password_salt", "1yZvHN4a6qG9dDT-_BU1"], ["email", "velia@grady.ca"], ["login", "velia@grady.ca"], ["authentication_token", "xxxx15389106101801xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:10:10.696946"], ["updated_at", "2018-10-07 11:10:10.696946"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 91], ["user_id", 121]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:10:10 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:10:10.726554"], ["last_sign_in_at", "2018-10-07 11:10:10.726554"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:10:10.727532"], ["id", 121]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "4k8ITBlkLL4PECph6WVVrw1538910610878"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:10:10.902708"], ["spree_api_key", "52e182395a541e2ef14e006ae5fce4bef81456992252c239"], ["id", 121]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 504ms (ActiveRecord: 9.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:10:46.568514"], ["updated_at", "2018-10-07 11:10:46.568514"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 61], ["created_at", "2018-10-07 11:10:46.760831"], ["updated_at", "2018-10-07 11:10:46.760831"]]
  [1m[36mSpree::Variant Load (1.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 40], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 40], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:10:46.763850"], ["created_at", "2018-10-07 11:10:46.763850"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 38], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 40], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 40], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 40], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 40], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:10:46.824371"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 40]]
  [1m[35mSQL (3.2ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:10:46.884346' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:10:46.892541' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:10:46.769345"], ["id", 40]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:10:46.902654' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:10:46.904028' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.0ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 40], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:10:46.928294"], ["updated_at", "2018-10-07 11:10:46.928294"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:10:47.000532"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 25], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 25], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 25], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 25], ["updated_at", "2018-10-07 11:10:47.025902"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:10:47.030367"], ["updated_at", "2018-10-07 11:10:47.030367"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 25], ["country_id", 25], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-9300"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-9300') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-9300"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 9300"], ["description", "Vel numquam adipisci debitis molestias ducimus. Quo delectus aut ut quis. Molestiae eius repellendus fuga magni.\nSit earum in laudantium sit. Ab qui reiciendis quas placeat. Architecto laborum laudantium omnis tenetur nobis vitae explicabo. Rerum nam quasi est perspiciatis esse aut qui ipsam.\nIn quam animi voluptas dolor reprehenderit ea eos iste. Sed sequi sit quis aut. Omnis ea quia a veniam nemo."], ["available_on", "2017-10-07 11:10:46.941275"], ["slug", "product-1-9300"], ["shipping_category_id", 62], ["created_at", "2018-10-07 11:10:47.045866"], ["updated_at", "2018-10-07 11:10:47.045866"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 41], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 41], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:10:47.049813"], ["created_at", "2018-10-07 11:10:47.049813"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 39], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 39], ["stock_location_id", 26], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 26], ["variant_id", 39], ["created_at", "2018-10-07 11:10:47.092437"], ["updated_at", "2018-10-07 11:10:47.092437"], ["backorderable", "t"]]
  [1m[35mSQL (2.9ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:10:47.102335"], ["id", 39]]
  [1m[36mActsAsTaggableOn::Tagging Load (1.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 41], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.9ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 41], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 41], ["sluggable_type", "Spree::Product"], ["slug", "product-1-9300"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-9300"], ["sluggable_id", 41], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:10:47.118227"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 41]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:10:47.122851' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:10:47.124269' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:10:47.108289"], ["id", 41]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:10:47.127607' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:10:47.128999' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 25], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:10:47.137015"], ["updated_at", "2018-10-07 11:10:47.137015"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 25], ["country_id", 25], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 41[0m
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 39], ["stock_location_id", 27], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 27], ["variant_id", 39], ["created_at", "2018-10-07 11:10:47.152233"], ["updated_at", "2018-10-07 11:10:47.152233"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:10:47.154579"], ["id", 39]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:10:47.156359"], ["id", 41]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 41]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:10:47.161076' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:10:47.162577' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 39], ["stock_location_id", 27], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 92], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "luanne.dooley@waelchi.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "82cbfb994ebb94d463654681c20100a24154ef19fe1e374e967089aeb0ba384ec62e6ef368f707be04a5baea9ff85db3506c2ae2902aee668f7de93ecc3f8ced"], ["password_salt", "2NFVamBohzPrXAiAFz83"], ["email", "luanne.dooley@waelchi.biz"], ["login", "luanne.dooley@waelchi.biz"], ["authentication_token", "xxxx1538910647491xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:10:47.264481"], ["updated_at", "2018-10-07 11:10:47.264481"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 92], ["user_id", 122]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:10:47 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:10:47.294102"], ["last_sign_in_at", "2018-10-07 11:10:47.294102"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:10:47.295079"], ["id", 122]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "pCqrE4o59RXCX7f47-kMHQ1538910647466"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:10:47.493337"], ["spree_api_key", "ef6c3d093173d98f7b97bf42986753e7ff928817990c8bcc"], ["id", 122]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 521ms (ActiveRecord: 9.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:11:30.273934"], ["updated_at", "2018-10-07 11:11:30.273934"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 63], ["created_at", "2018-10-07 11:11:30.394704"], ["updated_at", "2018-10-07 11:11:30.394704"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 42], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 42], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:11:30.398419"], ["created_at", "2018-10-07 11:11:30.398419"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 40], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.9ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 42], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 42], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 42], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 42], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:11:30.460876"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 42]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:11:30.487477' WHERE 1=0[0m
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:11:30.492027' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:11:30.403493"], ["id", 42]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:11:30.501117' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:11:30.504450' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.9ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 42], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:11:30.520662"], ["updated_at", "2018-10-07 11:11:30.520662"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:11:30.577021"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 26], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 26], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 26], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 26], ["updated_at", "2018-10-07 11:11:30.602696"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:11:30.608130"], ["updated_at", "2018-10-07 11:11:30.608130"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 26], ["country_id", 26], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-8163"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-8163') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-8163"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 8163"], ["description", "Nulla sit et sapiente omnis voluptatum amet. Et id reiciendis sunt porro ducimus natus et nihil. Assumenda facere sed reprehenderit consequatur architecto vel saepe.\nVel sed eum accusantium est sit et quam. Sunt et rerum qui tempora. Aspernatur labore eius rerum sint magnam molestiae et velit. Non alias sunt et dolor dolore. Autem nemo rem fugiat unde mollitia.\nVoluptatem quis itaque doloremque sunt quos nesciunt perferendis. Neque consequatur laboriosam tenetur ipsam. Hic eos omnis in cupiditate animi nulla quidem. Culpa necessitatibus laboriosam sunt ipsam itaque ducimus ut temporibus. Quod quaerat qui quae amet qui."], ["available_on", "2017-10-07 11:11:30.530698"], ["slug", "product-1-8163"], ["shipping_category_id", 64], ["created_at", "2018-10-07 11:11:30.625338"], ["updated_at", "2018-10-07 11:11:30.625338"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 43], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 43], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:11:30.629224"], ["created_at", "2018-10-07 11:11:30.629224"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 41], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (1.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 41], ["stock_location_id", 28], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 28], ["variant_id", 41], ["created_at", "2018-10-07 11:11:30.663057"], ["updated_at", "2018-10-07 11:11:30.663057"], ["backorderable", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:11:30.665604"], ["id", 41]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 43], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 43], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 43], ["sluggable_type", "Spree::Product"], ["slug", "product-1-8163"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-8163"], ["sluggable_id", 43], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:11:30.675531"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 43]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:11:30.679559' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:11:30.680874' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:11:30.667248"], ["id", 43]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:11:30.683919' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:11:30.685176' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 43], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 93], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "rosetta@schadenglover.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "5ece49b552b2ef6c86b5e87daf9bab8ce4fb2e2160b7eaa346a32ec07e1683cec29c5009745e517554fcaadb99c62672105a68d2e801bbdbdeaa175ee5fdef92"], ["password_salt", "NHsLKqQ5LZ12wTHWCZNk"], ["email", "rosetta@schadenglover.ca"], ["login", "rosetta@schadenglover.ca"], ["authentication_token", "xxxx15389106903051xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:11:30.784816"], ["updated_at", "2018-10-07 11:11:30.784816"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 93], ["user_id", 123]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:11:30 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:11:30.813264"], ["last_sign_in_at", "2018-10-07 11:11:30.813264"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:11:30.814342"], ["id", 123]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "Wx9EFmhz7sZpmaOiKF2MMg1538910690942"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:11:30.961871"], ["spree_api_key", "1b15dcca38f380ac0d95929d4e93fe2c51b065a4e473d908"], ["id", 123]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 492ms (ActiveRecord: 7.3ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:11:54.493852"], ["updated_at", "2018-10-07 11:11:54.493852"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 65], ["created_at", "2018-10-07 11:11:54.622043"], ["updated_at", "2018-10-07 11:11:54.622043"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 44], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 44], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:11:54.625137"], ["created_at", "2018-10-07 11:11:54.625137"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 42], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 44], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 44], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 44], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 44], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:11:54.671613"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 44]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:11:54.700162' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:11:54.704677' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:11:54.630279"], ["id", 44]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:11:54.715087' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:11:54.716679' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.9ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 44], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:11:54.734462"], ["updated_at", "2018-10-07 11:11:54.734462"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.7ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:11:54.809608"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 27], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 27], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 27], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 27], ["updated_at", "2018-10-07 11:11:54.838271"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:11:54.842953"], ["updated_at", "2018-10-07 11:11:54.842953"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 27], ["country_id", 27], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-6908"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-6908') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-6908"], ["LIMIT", 1]]
  [1m[35mSQL (2.8ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 6908"], ["description", "Omnis id eos quo ea. Alias autem sint labore ipsum quis at expedita. Aliquam non minus eligendi placeat. Consequatur porro sunt et voluptatibus ut quo.\nOptio illum sequi officia id iusto quasi. Nesciunt eos earum architecto enim quam incidunt facilis voluptate. Sit qui commodi impedit dolor. Voluptas consectetur atque id non consequatur deleniti. Nam autem qui dolor et magnam voluptatem reprehenderit molestiae.\nQuam ex sit vitae pariatur molestias voluptas. Et ducimus saepe et impedit fuga. Labore eaque est qui cupiditate eum a."], ["available_on", "2017-10-07 11:11:54.748795"], ["slug", "product-1-6908"], ["shipping_category_id", 66], ["created_at", "2018-10-07 11:11:54.859822"], ["updated_at", "2018-10-07 11:11:54.859822"]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 45], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 45], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:11:54.867571"], ["created_at", "2018-10-07 11:11:54.867571"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 43], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 43], ["stock_location_id", 29], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 29], ["variant_id", 43], ["created_at", "2018-10-07 11:11:54.902427"], ["updated_at", "2018-10-07 11:11:54.902427"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:11:54.904911"], ["id", 43]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 45], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 45], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 45], ["sluggable_type", "Spree::Product"], ["slug", "product-1-6908"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-6908"], ["sluggable_id", 45], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:11:54.914807"]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 45]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:11:54.919974' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:11:54.921913' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:11:54.906381"], ["id", 45]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:11:54.925107' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:11:54.926475' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.4ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 45], ["LIMIT", 11]]
  [1m[36mSpree::StockItem Load (1.4ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 45], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 94], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "catina_zulauf@darerice.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "d9eb5e2188d57d2ea2428ef4ffb7c7846c0e32ed57b4ac98d307d1d5a069420132f6a050107259c5f707622cb19215d35e640fc176af14955fd2ad7f27d809f6"], ["password_salt", "p6wEDX7-2Msn3FPBCzZ3"], ["email", "catina_zulauf@darerice.us"], ["login", "catina_zulauf@darerice.us"], ["authentication_token", "xxxx15389107263551xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:12:06.483096"], ["updated_at", "2018-10-07 11:12:06.483096"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 94], ["user_id", 124]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:12:06 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:12:06.511163"], ["last_sign_in_at", "2018-10-07 11:12:06.511163"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:12:06.512061"], ["id", 124]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "XJy392YYA74USfXhfxU7og1538910726635"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:12:06.655063"], ["spree_api_key", "72ed3c39006a7879b9f75ad0215ddcfff1ccbdb2917677d7"], ["id", 124]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 540ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:12:20.035210"], ["updated_at", "2018-10-07 11:12:20.035210"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 67], ["created_at", "2018-10-07 11:12:20.154605"], ["updated_at", "2018-10-07 11:12:20.154605"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 46], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 46], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:12:20.157737"], ["created_at", "2018-10-07 11:12:20.157737"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 44], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 46], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 46], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 46], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 46], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:12:20.221346"]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 46]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:12:20.250141' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:12:20.254944' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:12:20.162881"], ["id", 46]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:12:20.263753' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:12:20.265327' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.5ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 46], ["LIMIT", 11]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 46], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:13:19.543231"], ["updated_at", "2018-10-07 11:13:19.543231"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:13:19.601188"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 28], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 28], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 28], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 28], ["updated_at", "2018-10-07 11:13:19.628249"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:13:19.632870"], ["updated_at", "2018-10-07 11:13:19.632870"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 28], ["country_id", 28], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-9278"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (3.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-9278') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-9278"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 9278"], ["description", "Sed tenetur quod qui nesciunt. Nihil est tenetur impedit magni. Earum dignissimos voluptatem id nemo et ipsum. Est blanditiis possimus ducimus delectus veritatis et.\nPorro ut eos non sit provident voluptatem odit qui. Consequatur consequuntur voluptates ex aut in dolor. Eveniet iusto aperiam ipsum quas. Ut qui ducimus iusto ex.\nIpsam molestias voluptatem illo odio nulla dolorum quia magni. Eveniet fuga dolores ut ratione numquam atque a. Et corrupti sunt accusantium neque voluptas quos nobis. Optio quidem error ducimus blanditiis ut. Laborum et voluptas error ipsa expedita.\nAccusantium laborum voluptatem possimus rerum eius nihil quis. Explicabo quis itaque et mollitia sed. Dignissimos dolor voluptas deleniti quisquam earum voluptatem iusto."], ["available_on", "2017-10-07 11:13:19.554028"], ["slug", "product-1-9278"], ["shipping_category_id", 68], ["created_at", "2018-10-07 11:13:19.652883"], ["updated_at", "2018-10-07 11:13:19.652883"]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 47], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 47], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:13:19.658004"], ["created_at", "2018-10-07 11:13:19.658004"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 45], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 45], ["stock_location_id", 30], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 30], ["variant_id", 45], ["created_at", "2018-10-07 11:13:19.722938"], ["updated_at", "2018-10-07 11:13:19.722938"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:13:19.725486"], ["id", 45]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.6ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 47], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 47], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 47], ["sluggable_type", "Spree::Product"], ["slug", "product-1-9278"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-9278"], ["sluggable_id", 47], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:13:19.736032"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 47]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:13:19.740427' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:13:19.741857' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:13:19.727080"], ["id", 47]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:13:19.745281' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:13:19.746594' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.5ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 47], ["LIMIT", 11]]
  [1m[36mSpree::StockItem Load (1.0ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 47], ["LIMIT", 11]]
  [1m[36mSpree::StockItem Load (1.3ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 47], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 95], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "marty@ogalarkin.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "323b8385394914a450c47a063848bfb61bc6579c7ec7c69ab803b3ee0034accbdab05a69325c77f829c26c82e4cb1606c6a211cf6cc02ebfdda95861c3dcfd25"], ["password_salt", "bgH8L-upR4FYXa3-BdKY"], ["email", "marty@ogalarkin.ca"], ["login", "marty@ogalarkin.ca"], ["authentication_token", "xxxx15389108466551xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:14:06.958174"], ["updated_at", "2018-10-07 11:14:06.958174"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 95], ["user_id", 125]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:14:06 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:14:06.989904"], ["last_sign_in_at", "2018-10-07 11:14:06.989904"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:14:06.990815"], ["id", 125]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "lJmjA06sqkEyS0jAXZ6vVA1538910847150"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:14:07.173130"], ["spree_api_key", "6ba173b843e66329788032fb12fb0ef3ad5dc858bbe54adb"], ["id", 125]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 510ms (ActiveRecord: 7.0ms)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:14:50.296087"], ["updated_at", "2018-10-07 11:14:50.296087"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:14:50.472416"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 29], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 29], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 29], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 29], ["updated_at", "2018-10-07 11:14:50.497413"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:14:50.502707"], ["updated_at", "2018-10-07 11:14:50.502707"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 29], ["country_id", 29], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-2914"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-2914') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-2914"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 2914"], ["description", "Qui doloremque enim dolor quia. Eius enim praesentium rerum consequatur debitis. Harum consequatur autem nulla dicta soluta. Impedit autem enim sunt ex est neque quasi.\nNisi cupiditate adipisci suscipit modi et impedit. Et ut incidunt et dolor omnis suscipit. Voluptatem est fugit corporis sit repudiandae cupiditate ut quisquam.\nVeritatis deleniti et in facilis rerum suscipit aut beatae. Aliquam repellat voluptatum rerum earum. Et eos soluta perferendis quibusdam. Ut sed ex dicta dolorum sed voluptatem.\nFugit molestiae quia nisi sed est. Praesentium et nobis consequatur voluptatum. Qui non voluptatem ipsa dolores."], ["available_on", "2017-10-07 11:14:50.399337"], ["slug", "product-1-2914"], ["shipping_category_id", 69], ["created_at", "2018-10-07 11:14:50.526570"], ["updated_at", "2018-10-07 11:14:50.526570"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 48], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 48], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:14:50.531211"], ["created_at", "2018-10-07 11:14:50.531211"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 46], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 46], ["stock_location_id", 31], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 31], ["variant_id", 46], ["created_at", "2018-10-07 11:14:50.573315"], ["updated_at", "2018-10-07 11:14:50.573315"], ["backorderable", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:14:50.575904"], ["id", 46]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 48], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 48], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 48], ["sluggable_type", "Spree::Product"], ["slug", "product-1-2914"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-2914"], ["sluggable_id", 48], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:14:50.603223"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 48]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:14:50.632054' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:14:50.636244' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:14:50.577625"], ["id", 48]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:14:50.645399' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:14:50.647122' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 69], ["created_at", "2018-10-07 11:14:50.674621"], ["updated_at", "2018-10-07 11:14:50.674621"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 49], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 49], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:14:50.680378"], ["created_at", "2018-10-07 11:14:50.680378"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 47], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 47], ["stock_location_id", 31], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 31], ["variant_id", 47], ["created_at", "2018-10-07 11:14:50.695911"], ["updated_at", "2018-10-07 11:14:50.695911"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:14:50.698116"], ["id", 47]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 49], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 49], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 49], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 49], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:14:50.707524"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 49]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:14:50.711499' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:14:50.712867' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:14:50.699608"], ["id", 49]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:14:50.716036' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:14:50.717311' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.0ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 49], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:14:52.334710"], ["updated_at", "2018-10-07 11:14:52.334710"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:14:52.350106"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 30], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 30], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 30], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 30], ["updated_at", "2018-10-07 11:14:52.357020"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:14:52.361349"], ["updated_at", "2018-10-07 11:14:52.361349"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 30], ["country_id", 30], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-8401"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-8401') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-8401"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 8401"], ["description", "Quia neque sapiente sequi debitis sit. Quam rerum quia deleniti accusantium. Velit inventore et veniam esse non amet quia quas. Libero dolores ea quos repellat. Et voluptatem laborum tempora quod.\nCorrupti itaque vel est laboriosam delectus sunt. Ut harum maxime odit tempora fugit eveniet ut inventore. Delectus dolores quis commodi consequatur. Qui quasi temporibus delectus voluptatem.\nUt est officia natus quia et. Provident pariatur repellat velit sed. Quia illo fuga omnis ut. Aut quam mollitia voluptas voluptates neque eum. Quo harum omnis dignissimos eligendi.\nQuisquam est deserunt explicabo ea nemo. Inventore eum est ex facere magni fugiat explicabo esse. Architecto laboriosam eaque autem itaque unde perspiciatis. Excepturi enim molestiae non voluptatem. Labore molestiae ipsa saepe reiciendis iure."], ["available_on", "2017-10-07 11:14:52.343223"], ["slug", "product-2-8401"], ["shipping_category_id", 70], ["created_at", "2018-10-07 11:14:52.375438"], ["updated_at", "2018-10-07 11:14:52.375438"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 50], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 50], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:14:52.379982"], ["created_at", "2018-10-07 11:14:52.379982"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 48], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 48], ["stock_location_id", 32], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 32], ["variant_id", 48], ["created_at", "2018-10-07 11:14:52.397726"], ["updated_at", "2018-10-07 11:14:52.397726"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:14:52.400550"], ["id", 48]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 50], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 50], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 50], ["sluggable_type", "Spree::Product"], ["slug", "product-2-8401"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-8401"], ["sluggable_id", 50], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:14:52.410957"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 50]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:14:52.415113' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:14:52.416524' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:14:52.402146"], ["id", 50]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:14:52.419868' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:14:52.421237' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.2ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 50], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 96], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "norah_herzog@ferryoconner.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "5b5ffb07291bcfe67aadafb547fcb27514e482fdf93fcc63384822a2927efc2d5a59235e10b903776c11816d8f5157a9ec90e5967b8aa5f78e5897864bb57f16"], ["password_salt", "RtxyyMvo6GGmLfkxRUSy"], ["email", "norah_herzog@ferryoconner.ca"], ["login", "norah_herzog@ferryoconner.ca"], ["authentication_token", "xxxx15389108939881xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:14:53.509311"], ["updated_at", "2018-10-07 11:14:53.509311"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 96], ["user_id", 126]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:14:53 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:14:53.538798"], ["last_sign_in_at", "2018-10-07 11:14:53.538798"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:14:53.539741"], ["id", 126]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "s_Bh0GDRyiM2IcXn-FQnng1538910893679"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:14:53.699792"], ["spree_api_key", "57fea1ed0ae1363a8308287b6a556ccfd23da1708846e29e"], ["id", 126]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 514ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:15:20.442708"], ["updated_at", "2018-10-07 11:15:20.442708"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.2ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:15:20.609609"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.8ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 31], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 31], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 31], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 31], ["updated_at", "2018-10-07 11:15:20.635042"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:15:20.639786"], ["updated_at", "2018-10-07 11:15:20.639786"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 31], ["country_id", 31], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-6427"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-6427') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-6427"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 6427"], ["description", "Aliquid veritatis aut nam corporis. Temporibus aliquam et nam quo. Omnis velit voluptate autem odio quos. Placeat ea dolore corporis ut."], ["available_on", "2017-10-07 11:15:20.543843"], ["slug", "product-1-6427"], ["shipping_category_id", 71], ["created_at", "2018-10-07 11:15:20.673275"], ["updated_at", "2018-10-07 11:15:20.673275"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (1.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 51], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 51], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:15:20.679306"], ["created_at", "2018-10-07 11:15:20.679306"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 49], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.9ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 49], ["stock_location_id", 33], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 33], ["variant_id", 49], ["created_at", "2018-10-07 11:15:20.726616"], ["updated_at", "2018-10-07 11:15:20.726616"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:15:20.728960"], ["id", 49]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 51], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 51], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 51], ["sluggable_type", "Spree::Product"], ["slug", "product-1-6427"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-6427"], ["sluggable_id", 51], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:15:20.756269"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 51]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:15:20.782673' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:15:20.786784' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:15:20.730465"], ["id", 51]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:15:20.794853' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:15:20.796303' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 71], ["created_at", "2018-10-07 11:15:20.817529"], ["updated_at", "2018-10-07 11:15:20.817529"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 52], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 52], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:15:20.819835"], ["created_at", "2018-10-07 11:15:20.819835"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 50], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 50], ["stock_location_id", 33], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 33], ["variant_id", 50], ["created_at", "2018-10-07 11:15:20.837556"], ["updated_at", "2018-10-07 11:15:20.837556"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:15:20.839777"], ["id", 50]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 52], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 52], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 52], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 52], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:15:20.849068"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 52]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:15:20.852980' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:15:20.854187' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:15:20.841271"], ["id", 52]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:15:20.857378' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:15:20.858585' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 52], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 50], ["id", 37], ["stock_location_id", 33], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:15:22.514828"], ["id", 37]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:15:22.517179"], ["id", 50]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:15:22.521519"], ["id", 52]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 52]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:15:22.526108' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:15:22.527403' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:15:22.534182"], ["updated_at", "2018-10-07 11:15:22.534182"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:15:22.556825"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 32], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 32], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 32], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 32], ["updated_at", "2018-10-07 11:15:22.567767"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:15:22.570308"], ["updated_at", "2018-10-07 11:15:22.570308"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 32], ["country_id", 32], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (3.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-9305"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-9305') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-9305"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 9305"], ["description", "Aut iure rerum nisi et sunt sed non ea. Similique dolore et iusto voluptatem unde ea ut ut. Cumque sunt omnis perferendis corrupti.\nEt magni in nobis omnis vel corrupti odio est. Voluptatem perspiciatis quia sed et aut consequatur reprehenderit. Voluptatum sapiente ex ea non molestias distinctio repudiandae dicta. Hic consequuntur est eaque sed quod cum. Doloribus delectus incidunt voluptatum ipsa consequatur nihil.\nEst quam et sed ullam a veritatis molestiae qui. Et eveniet ea porro reiciendis et ipsum odit dolor. Ut ab consequatur doloribus et sed qui rerum vero. Tempore pariatur quidem et voluptatum et.\nUt ratione error unde quasi deleniti dolorem. Officiis provident a repudiandae repellat enim dolores eum ea. Atque molestias corporis minus commodi quo ullam omnis. Est beatae voluptate accusantium voluptatem qui.\nVoluptatem et quo rerum at sint. Quia atque inventore temporibus quia corrupti. Ullam debitis rem molestias earum rerum quo. Omnis eum sunt voluptatem quis."], ["available_on", "2017-10-07 11:15:22.548039"], ["slug", "product-2-9305"], ["shipping_category_id", 72], ["created_at", "2018-10-07 11:15:22.589743"], ["updated_at", "2018-10-07 11:15:22.589743"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 53], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 53], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:15:22.594403"], ["created_at", "2018-10-07 11:15:22.594403"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 51], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 51], ["stock_location_id", 34], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 34], ["variant_id", 51], ["created_at", "2018-10-07 11:15:22.613841"], ["updated_at", "2018-10-07 11:15:22.613841"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:15:22.615892"], ["id", 51]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 53], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 53], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 53], ["sluggable_type", "Spree::Product"], ["slug", "product-2-9305"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-9305"], ["sluggable_id", 53], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:15:22.627576"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 53]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:15:22.631587' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:15:22.632924' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:15:22.617376"], ["id", 53]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:15:22.635898' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:15:22.637111' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.3ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 53], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 51], ["id", 38], ["stock_location_id", 34], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:15:23.587602"], ["id", 38]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:15:23.589754"], ["id", 51]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:15:23.592933"], ["id", 53]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 53]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:15:23.596935' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:15:23.598158' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 97], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "chia@roberts.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "60ad57579b4b8971c67d8726617b35cb9560cb122a7942ce5912576e2a44b37980a1c4546a437539c051994543788ad1adb166552c8e6115fb90d3df50078dca"], ["password_salt", "z3R5z5XesZPmpikSh4yp"], ["email", "chia@roberts.name"], ["login", "chia@roberts.name"], ["authentication_token", "xxxx15389109236071xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:15:23.722330"], ["updated_at", "2018-10-07 11:15:23.722330"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 97], ["user_id", 127]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:15:23 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:15:23.750863"], ["last_sign_in_at", "2018-10-07 11:15:23.750863"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:15:23.751734"], ["id", 127]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "K9l5CRFFWDZaucl4DF8twQ1538910923884"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:15:23.904187"], ["spree_api_key", "2d5a6018d8c68d45371c61e4ef2d9f939f988a7e36173530"], ["id", 127]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 498ms (ActiveRecord: 7.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:15:54.517916"], ["updated_at", "2018-10-07 11:15:54.517916"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:15:54.683404"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 33], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 33], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 33], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 33], ["updated_at", "2018-10-07 11:15:54.709937"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:15:54.715058"], ["updated_at", "2018-10-07 11:15:54.715058"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 33], ["country_id", 33], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-1612"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-1612') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-1612"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 1612"], ["description", "Optio placeat vel at omnis. Porro dolor a error explicabo dicta est. Impedit aspernatur voluptatem et numquam molestiae adipisci excepturi. Odio illo dolorem recusandae omnis beatae quaerat. Rerum debitis ratione alias et.\nCum illum ea fuga facilis. Eveniet voluptatem quia ea consequatur atque. Nostrum corrupti itaque sint aspernatur aperiam.\nFuga voluptatem hic sunt temporibus necessitatibus omnis vel. Autem assumenda dolore harum omnis ea sapiente eum. Est sunt molestiae ad iure. Reiciendis enim iusto veritatis vitae. Assumenda consectetur aut exercitationem ipsam.\nQui accusamus minima occaecati sed quae tenetur animi dolorem. Nisi et perferendis accusamus inventore et adipisci minus. Ipsam architecto ab eligendi enim esse. Magni a nostrum qui numquam assumenda. Quia voluptatem quas enim dignissimos magnam.\nAlias nemo consectetur expedita sit magni qui iusto doloribus. Neque nihil non ut eius natus eveniet ea molestias. A quisquam soluta excepturi est suscipit saepe nisi. Voluptatum quia cumque asperiores exercitationem quod pariatur qui earum."], ["available_on", "2017-10-07 11:15:54.620270"], ["slug", "product-1-1612"], ["shipping_category_id", 73], ["created_at", "2018-10-07 11:15:54.741666"], ["updated_at", "2018-10-07 11:15:54.741666"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 54], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 54], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:15:54.755898"], ["created_at", "2018-10-07 11:15:54.755898"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 52], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 52], ["stock_location_id", 35], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 35], ["variant_id", 52], ["created_at", "2018-10-07 11:15:54.802009"], ["updated_at", "2018-10-07 11:15:54.802009"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:15:54.804423"], ["id", 52]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 54], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.6ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 54], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 54], ["sluggable_type", "Spree::Product"], ["slug", "product-1-1612"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-1612"], ["sluggable_id", 54], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:15:54.834520"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 54]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:15:54.863676' WHERE 1=0[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:15:54.868342' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:15:54.806132"], ["id", 54]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:15:54.877607' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:15:54.879469' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:15:54.888707"], ["updated_at", "2018-10-07 11:15:54.888707"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:15:54.905976"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 34], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 34], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 34], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 34], ["updated_at", "2018-10-07 11:15:54.914189"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:15:54.917080"], ["updated_at", "2018-10-07 11:15:54.917080"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 34], ["country_id", 34], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-4705"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-4705') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-4705"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 4705"], ["description", "Nulla consequuntur enim et corrupti recusandae. In dolores illo optio ipsum qui nostrum ad. Rerum consequatur tenetur distinctio quas facilis consectetur. Consequatur sit vitae quisquam minima voluptates officiis soluta id. Labore nemo et error ea qui et.\nQuos consequatur corrupti laudantium nemo cumque eius. Sed corrupti corporis debitis et. Voluptas molestiae sed accusantium ut nobis. Voluptatem velit voluptas exercitationem velit accusamus cumque odit. In debitis porro vel tempore cum culpa."], ["available_on", "2017-10-07 11:15:54.898550"], ["slug", "product-2-4705"], ["shipping_category_id", 74], ["created_at", "2018-10-07 11:15:54.931581"], ["updated_at", "2018-10-07 11:15:54.931581"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 55], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 55], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:15:54.935860"], ["created_at", "2018-10-07 11:15:54.935860"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 53], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 53], ["stock_location_id", 36], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 36], ["variant_id", 53], ["created_at", "2018-10-07 11:15:54.953002"], ["updated_at", "2018-10-07 11:15:54.953002"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:15:54.955250"], ["id", 53]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 55], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 55], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 55], ["sluggable_type", "Spree::Product"], ["slug", "product-2-4705"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-4705"], ["sluggable_id", 55], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:15:54.965429"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 55]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:15:54.970159' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:15:54.971630' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:15:54.956850"], ["id", 55]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:15:54.975082' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:15:54.977827' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 98], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "teena@schoengaylord.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "fa7b629c9f5325a8a0af984dd48d9e0a0ffe1102c0d8c23fd323f3168f3e75bb3174ebddd3351ac012e3f8e3f291258f67b22cb619e8ef185055b8020d70b06c"], ["password_salt", "9fpun3JDzGPKhKhfxS1b"], ["email", "teena@schoengaylord.ca"], ["login", "teena@schoengaylord.ca"], ["authentication_token", "xxxx15389109555031xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:15:55.119840"], ["updated_at", "2018-10-07 11:15:55.119840"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 98], ["user_id", 128]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:15:55 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:15:55.152942"], ["last_sign_in_at", "2018-10-07 11:15:55.152942"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:15:55.153902"], ["id", 128]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "mowphYRM6-TiWLHNAKZ0LQ1538910955321"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:15:55.340785"], ["spree_api_key", "d603cb4c9f5fd20c972afd488a7bf95ce35da463fe040341"], ["id", 128]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 520ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:16:17.441446"], ["updated_at", "2018-10-07 11:16:17.441446"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:16:17.612434"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 35], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 35], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 35], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 35], ["updated_at", "2018-10-07 11:16:17.638062"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:16:17.646326"], ["updated_at", "2018-10-07 11:16:17.646326"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 35], ["country_id", 35], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-6028"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-6028') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-6028"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 6028"], ["description", "Nihil voluptatem blanditiis et maiores aut harum est doloremque. Dignissimos et ipsam incidunt molestiae. Ducimus et expedita at sunt quis laboriosam accusantium nulla. Eius voluptate nam nulla similique.\nQui vero est quas expedita autem. Eos similique repellendus error enim nam in. Velit officia eius omnis voluptatem eum. Cum sed iure distinctio enim. Repellat corporis quidem sit dolorem pariatur laboriosam similique ratione.\nEt numquam recusandae et expedita inventore et vero tenetur. Magnam ut amet exercitationem rerum quia. Dolor nisi quis architecto non blanditiis.\nVoluptas qui quo minus et modi corporis qui. Neque necessitatibus distinctio placeat eum. Debitis beatae corrupti odio non nostrum. Harum ea consequatur voluptates quod voluptatum repellendus.\nOfficiis nam est enim aut aspernatur distinctio molestiae. Ratione dignissimos vitae earum deleniti. Et tempora est illum beatae et et odit ut. Inventore rem soluta qui sapiente tenetur optio ipsa."], ["available_on", "2017-10-07 11:16:17.542687"], ["slug", "product-1-6028"], ["shipping_category_id", 75], ["created_at", "2018-10-07 11:16:17.678096"], ["updated_at", "2018-10-07 11:16:17.678096"]]
  [1m[36mSpree::Variant Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 56], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 56], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:16:17.685415"], ["created_at", "2018-10-07 11:16:17.685415"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 54], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 54], ["stock_location_id", 37], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 37], ["variant_id", 54], ["created_at", "2018-10-07 11:16:17.731386"], ["updated_at", "2018-10-07 11:16:17.731386"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:16:17.733843"], ["id", 54]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 56], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 56], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 56], ["sluggable_type", "Spree::Product"], ["slug", "product-1-6028"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-6028"], ["sluggable_id", 56], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:16:17.761527"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 56]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:16:17.790363' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:16:17.795115' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:16:17.735386"], ["id", 56]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:16:17.803158' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:16:17.804537' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 75], ["created_at", "2018-10-07 11:16:17.824378"], ["updated_at", "2018-10-07 11:16:17.824378"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 57], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 57], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:16:17.827051"], ["created_at", "2018-10-07 11:16:17.827051"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 55], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 55], ["stock_location_id", 37], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 37], ["variant_id", 55], ["created_at", "2018-10-07 11:16:17.843418"], ["updated_at", "2018-10-07 11:16:17.843418"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:16:17.845508"], ["id", 55]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 57], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 57], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 57], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 57], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:16:17.854614"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 57]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:16:17.858574' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:16:17.859921' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:16:17.846915"], ["id", 57]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:16:17.862954' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:16:17.864202' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 57], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 55], ["id", 42], ["stock_location_id", 37], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:16:20.664043"], ["id", 42]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:16:20.666447"], ["id", 55]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:16:20.669764"], ["id", 57]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 57]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:16:20.677149' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:16:20.678490' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:16:20.686542"], ["updated_at", "2018-10-07 11:16:20.686542"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:16:20.703297"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 36], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 36], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 36], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 36], ["updated_at", "2018-10-07 11:16:20.713041"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:16:20.716050"], ["updated_at", "2018-10-07 11:16:20.716050"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 36], ["country_id", 36], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-8591"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-8591') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-8591"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 8591"], ["description", "Explicabo optio adipisci at numquam et dignissimos qui. Assumenda dolore nihil fuga at. Mollitia totam quos harum natus.\nSunt voluptatibus maiores esse sit officia ut rerum impedit. Saepe assumenda harum ad molestias eos sed. Natus aliquid et fugiat delectus ipsam rerum sed tempore."], ["available_on", "2017-10-07 11:16:20.696079"], ["slug", "product-2-8591"], ["shipping_category_id", 76], ["created_at", "2018-10-07 11:16:20.729222"], ["updated_at", "2018-10-07 11:16:20.729222"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 58], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 58], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:16:20.733780"], ["created_at", "2018-10-07 11:16:20.733780"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 56], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 56], ["stock_location_id", 38], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 38], ["variant_id", 56], ["created_at", "2018-10-07 11:16:20.748361"], ["updated_at", "2018-10-07 11:16:20.748361"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:16:20.750669"], ["id", 56]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 58], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 58], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 58], ["sluggable_type", "Spree::Product"], ["slug", "product-2-8591"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-8591"], ["sluggable_id", 58], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:16:20.760801"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 58]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:16:20.764883' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:16:20.766230' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:16:20.752564"], ["id", 58]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:16:20.769419' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:16:20.770711' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.0ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 58], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 56], ["id", 43], ["stock_location_id", 38], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:16:21.183832"], ["id", 43]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:16:21.186036"], ["id", 56]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:16:21.189616"], ["id", 58]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 58]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:16:21.193607' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:16:21.195702' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 99], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "nadene@kilback.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "4ccda9aba9459ce3594ee0abbd59589f00236a00b731417d8c7a35b201159fb0258a3efc485ab38c679266ff8b57c763f4a1790f0d2902e3b1f56d817c34e8e5"], ["password_salt", "HHz8PYq6VA2U99oFxzKw"], ["email", "nadene@kilback.biz"], ["login", "nadene@kilback.biz"], ["authentication_token", "xxxx15389109811141xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:16:21.309600"], ["updated_at", "2018-10-07 11:16:21.309600"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 99], ["user_id", 129]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:16:21 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:16:21.339506"], ["last_sign_in_at", "2018-10-07 11:16:21.339506"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:16:21.340421"], ["id", 129]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "kkWOYs2SZUyZyD9cPcOKIA1538910981475"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:16:21.495274"], ["spree_api_key", "ff212a81a333e90ee38fa7a482591f9da463ca2e7330bfc3"], ["id", 129]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 501ms (ActiveRecord: 7.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:17:25.191504"], ["updated_at", "2018-10-07 11:17:25.191504"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:17:25.206163"], ["updated_at", "2018-10-07 11:17:25.206163"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 100], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "magdalene@kertzmannconn.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "2ac4f0b267fe463ae3a3d6d83f633be71f8dfa8d9b242dfee430befcd50d713f2083fe422723ac7984eb3b8d0a5926a92a136b7dcc8521ffb0c27316e4b7ec8e"], ["password_salt", "WNj2zwfEybaztaYGqHSQ"], ["email", "magdalene@kertzmannconn.info"], ["login", "magdalene@kertzmannconn.info"], ["authentication_token", "xxxx15389110457171xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:17:25.315759"], ["updated_at", "2018-10-07 11:17:25.315759"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 100], ["user_id", 130]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:17:25 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:17:25.357097"], ["last_sign_in_at", "2018-10-07 11:17:25.357097"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:17:25.358007"], ["id", 130]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "M2mo2QzwujVPR6y2ImWcWA1538911045486"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:17:25.504234"], ["spree_api_key", "b73e0d4e9e950d1bc420a90ecd1afb1d43494c17d943122b"], ["id", 130]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 501ms (ActiveRecord: 6.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:17:53.050534"], ["updated_at", "2018-10-07 11:17:53.050534"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:17:53.216663"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 37], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 37], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 37], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 37], ["updated_at", "2018-10-07 11:17:53.241853"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:17:53.245990"], ["updated_at", "2018-10-07 11:17:53.245990"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 37], ["country_id", 37], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-2984"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-2984') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-2984"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 2984"], ["description", "A occaecati repudiandae ut non totam laboriosam dolores. Esse natus quia quia veritatis voluptas dolor. Commodi iure voluptatem nobis nam qui sint eos et.\nId eveniet blanditiis incidunt omnis doloremque porro. Voluptatem consequatur nulla corrupti suscipit sint. Ipsa quia qui cum quam vitae ea atque. Dolores non quis aliquam consequatur quos modi qui. Omnis est id iure qui aliquam laboriosam vel.\nArchitecto omnis eos qui quis ipsa assumenda minima. Architecto ea possimus et occaecati. Consectetur quia inventore ut iusto ducimus.\nBlanditiis sed sunt vero aspernatur eos impedit. Eos quaerat unde cumque et provident. Necessitatibus consequatur cumque ut at. Facilis id voluptas fuga sit soluta ullam blanditiis qui."], ["available_on", "2017-10-07 11:17:53.147515"], ["slug", "product-1-2984"], ["shipping_category_id", 79], ["created_at", "2018-10-07 11:17:53.268549"], ["updated_at", "2018-10-07 11:17:53.268549"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 59], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 59], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:17:53.273001"], ["created_at", "2018-10-07 11:17:53.273001"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 57], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 57], ["stock_location_id", 39], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 39], ["variant_id", 57], ["created_at", "2018-10-07 11:17:53.312273"], ["updated_at", "2018-10-07 11:17:53.312273"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:17:53.314575"], ["id", 57]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.6ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 59], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 59], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 59], ["sluggable_type", "Spree::Product"], ["slug", "product-1-2984"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-2984"], ["sluggable_id", 59], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:17:53.342306"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 59]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:17:53.368817' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:17:53.372523' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:17:53.316050"], ["id", 59]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:17:53.381114' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:17:53.382634' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 79], ["created_at", "2018-10-07 11:17:53.402265"], ["updated_at", "2018-10-07 11:17:53.402265"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 60], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 60], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:17:53.404504"], ["created_at", "2018-10-07 11:17:53.404504"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 58], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 58], ["stock_location_id", 39], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 39], ["variant_id", 58], ["created_at", "2018-10-07 11:17:53.418648"], ["updated_at", "2018-10-07 11:17:53.418648"], ["backorderable", "t"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:17:53.420549"], ["id", 58]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 60], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 60], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 60], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 60], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:17:53.429039"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 60]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:17:53.432591' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:17:53.433785' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:17:53.421927"], ["id", 60]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:17:53.436531' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:17:53.437692' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.9ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 60], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 58], ["id", 45], ["stock_location_id", 39], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:17:59.882059"], ["id", 45]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:17:59.884271"], ["id", 58]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:17:59.887710"], ["id", 60]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 60]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:17:59.891482' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:17:59.892637' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:17:59.899145"], ["updated_at", "2018-10-07 11:17:59.899145"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:17:59.913797"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 38], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 38], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 38], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 38], ["updated_at", "2018-10-07 11:17:59.921578"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:17:59.925683"], ["updated_at", "2018-10-07 11:17:59.925683"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 38], ["country_id", 38], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-9526"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-9526') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-9526"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 9526"], ["description", "Animi ratione voluptates enim velit assumenda ipsa accusantium aut. Et aliquam ut reiciendis at iste. Commodi ratione vero voluptatem quia. Corrupti culpa eius ipsum ratione provident nisi aliquid.\nEt adipisci non laborum ut. Sed blanditiis a ipsum dolor sint at. Quaerat quia accusantium consequatur quae aperiam ut. Dignissimos aut fugiat alias ad. Qui harum qui similique sed ea laborum sapiente necessitatibus.\nVoluptatibus ut dicta iusto nemo rem dolorum. Vitae cupiditate voluptates consectetur quibusdam modi nesciunt consequatur. Nisi aliquam itaque eius quod.\nAb velit molestias et quia quis accusantium pariatur rerum. Consequatur culpa quasi sed non fugiat nam facilis dolorem. Vel facilis impedit quisquam molestias. Nam voluptas et laborum provident.\nEa ut sit maiores aut ut perferendis. Repellat temporibus aut asperiores fugiat soluta. Nesciunt qui excepturi dicta quos eaque. Esse doloremque nam architecto deserunt est sit corrupti quae. Animi natus et tenetur deserunt ut dicta esse nulla."], ["available_on", "2017-10-07 11:17:59.907122"], ["slug", "product-2-9526"], ["shipping_category_id", 80], ["created_at", "2018-10-07 11:17:59.940321"], ["updated_at", "2018-10-07 11:17:59.940321"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 61], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 61], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:17:59.944258"], ["created_at", "2018-10-07 11:17:59.944258"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 59], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 59], ["stock_location_id", 40], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 40], ["variant_id", 59], ["created_at", "2018-10-07 11:17:59.960761"], ["updated_at", "2018-10-07 11:17:59.960761"], ["backorderable", "t"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:17:59.962627"], ["id", 59]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 61], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 61], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 61], ["sluggable_type", "Spree::Product"], ["slug", "product-2-9526"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-9526"], ["sluggable_id", 61], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:17:59.971024"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 61]]
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:17:59.974600' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:17:59.977271' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:17:59.963946"], ["id", 61]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:17:59.980667' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:17:59.981953' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.8ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 61], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 59], ["id", 46], ["stock_location_id", 40], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:18:00.378021"], ["id", 46]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:18:00.380164"], ["id", 59]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:18:00.383263"], ["id", 61]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 61]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:18:00.387187' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:18:00.388298' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 101], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "terrell.dooley@larkin.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "a58e18c3d495e048d4d11d38d9578e30edb37561f7d0de4649e56adda398b62d126ed4ec29fd76588f3f102c1fd549a7956a4fc87ed8409aba0c7d7365c5aa46"], ["password_salt", "kz8X4zDdtAZ9paqAqe4f"], ["email", "terrell.dooley@larkin.ca"], ["login", "terrell.dooley@larkin.ca"], ["authentication_token", "xxxx15389110802241xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:18:00.498099"], ["updated_at", "2018-10-07 11:18:00.498099"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 101], ["user_id", 131]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:18:00 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:18:00.528432"], ["last_sign_in_at", "2018-10-07 11:18:00.528432"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:18:00.529405"], ["id", 131]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "vV5eXIvapVJNp0Z2vbLgGQ1538911080667"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:18:00.689135"], ["spree_api_key", "907fa24fb23b89ff9ea3fe31ee43296819def545457ad7e5"], ["id", 131]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 500ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:18:44.937973"], ["updated_at", "2018-10-07 11:18:44.937973"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:18:45.111300"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 39], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 39], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 39], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 39], ["updated_at", "2018-10-07 11:18:45.137835"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:18:45.142740"], ["updated_at", "2018-10-07 11:18:45.142740"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 39], ["country_id", 39], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-424"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-424') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-424"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 424"], ["description", "Minima voluptas laborum in dolores optio. Ab iste qui reprehenderit cum. Magnam animi delectus suscipit minus omnis pariatur adipisci."], ["available_on", "2017-10-07 11:18:45.040938"], ["slug", "product-1-424"], ["shipping_category_id", 81], ["created_at", "2018-10-07 11:18:45.166883"], ["updated_at", "2018-10-07 11:18:45.166883"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 62], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 62], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:18:45.171495"], ["created_at", "2018-10-07 11:18:45.171495"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 60], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 60], ["stock_location_id", 41], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 41], ["variant_id", 60], ["created_at", "2018-10-07 11:18:45.212830"], ["updated_at", "2018-10-07 11:18:45.212830"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:18:45.215193"], ["id", 60]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 62], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 62], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 62], ["sluggable_type", "Spree::Product"], ["slug", "product-1-424"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-424"], ["sluggable_id", 62], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:18:45.241946"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 62]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:18:45.272975' WHERE 1=0[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:18:45.276988' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:18:45.216861"], ["id", 62]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:18:45.284057' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:18:45.285337' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 81], ["created_at", "2018-10-07 11:18:50.987020"], ["updated_at", "2018-10-07 11:18:50.987020"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 63], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 63], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:18:50.989911"], ["created_at", "2018-10-07 11:18:50.989911"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 61], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 61], ["stock_location_id", 41], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 41], ["variant_id", 61], ["created_at", "2018-10-07 11:18:51.005585"], ["updated_at", "2018-10-07 11:18:51.005585"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:18:51.007577"], ["id", 61]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 63], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 63], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 63], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 63], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:18:51.016561"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 63]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:18:51.020511' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:18:51.021856' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:18:51.009011"], ["id", 63]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:18:51.024960' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:18:51.026181' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 63], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 61], ["id", 48], ["stock_location_id", 41], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:18:51.039023"], ["id", 48]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:18:51.041347"], ["id", 61]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:18:51.044634"], ["id", 63]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 63]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:18:51.049212' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:18:51.050608' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:18:51.058123"], ["updated_at", "2018-10-07 11:18:51.058123"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:18:51.073879"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 40], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 40], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 40], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 40], ["updated_at", "2018-10-07 11:18:51.080664"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:18:51.083863"], ["updated_at", "2018-10-07 11:18:51.083863"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 40], ["country_id", 40], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-8528"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-8528') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-8528"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 8528"], ["description", "Non qui et occaecati amet sit maxime eos. Nihil quisquam eos non repellendus ipsam corporis. Fugiat reprehenderit sit excepturi tempore adipisci. A ut dignissimos qui sapiente expedita incidunt molestias dolorem."], ["available_on", "2017-10-07 11:18:51.066947"], ["slug", "product-2-8528"], ["shipping_category_id", 82], ["created_at", "2018-10-07 11:18:51.100018"], ["updated_at", "2018-10-07 11:18:51.100018"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 64], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 64], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:18:51.104058"], ["created_at", "2018-10-07 11:18:51.104058"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 62], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 62], ["stock_location_id", 42], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 42], ["variant_id", 62], ["created_at", "2018-10-07 11:18:51.118928"], ["updated_at", "2018-10-07 11:18:51.118928"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:18:51.121044"], ["id", 62]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 64], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 64], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 64], ["sluggable_type", "Spree::Product"], ["slug", "product-2-8528"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-8528"], ["sluggable_id", 64], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:18:51.130165"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 64]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:18:51.134155' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:18:51.135433' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:18:51.122509"], ["id", 64]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:18:51.138661' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:18:51.139954' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 64], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 62], ["id", 49], ["stock_location_id", 42], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:18:52.748663"], ["id", 49]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:18:52.751098"], ["id", 62]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:18:52.754579"], ["id", 64]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 64]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:18:52.758772' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:18:52.760090' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 102], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "efren@gerhold.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "4ad7a10381b93313ec4fa8a71e03b4f75ab3c5c606bf59067af69d54af0dc0945630c804b1b161305aff440f79bec4c54dc896b31db3834c07d26f8e552aa041"], ["password_salt", "uuW26yjBoLpt58q9juog"], ["email", "efren@gerhold.name"], ["login", "efren@gerhold.name"], ["authentication_token", "xxxx15389111324791xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:18:52.877249"], ["updated_at", "2018-10-07 11:18:52.877249"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 102], ["user_id", 132]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:18:52 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:18:52.909286"], ["last_sign_in_at", "2018-10-07 11:18:52.909286"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:18:52.910270"], ["id", 132]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "_Fyook4coSrrVJmTLYOKXA1538911133043"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:18:53.064341"], ["spree_api_key", "2ff695781e11bc9aad1ee6e3a1fc1c02e729ef9293f30fc2"], ["id", 132]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 502ms (ActiveRecord: 7.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:20:16.931494"], ["updated_at", "2018-10-07 11:20:16.931494"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:20:16.941546"], ["updated_at", "2018-10-07 11:20:16.941546"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 103], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "delaine.mccullough@prohaska.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "e76a5400ae66fcd3c4eea2543e152db6a595a5569040e8e5df7bbccc0703b83a502173cbb371b7b9fcdfbaae308ce009b97c4860de1245131180782b9aeb6151"], ["password_salt", "xkh3Bgfd4hseUyDBgr3x"], ["email", "delaine.mccullough@prohaska.info"], ["login", "delaine.mccullough@prohaska.info"], ["authentication_token", "xxxx15389112167131xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:20:17.055311"], ["updated_at", "2018-10-07 11:20:17.055311"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 103], ["user_id", 133]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:20:17 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:20:17.089609"], ["last_sign_in_at", "2018-10-07 11:20:17.089609"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:20:17.090609"], ["id", 133]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "3I5Yb13XvuNLH76HKryk_w1538911217234"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:20:17.256557"], ["spree_api_key", "e99e0f4f3bdee96ab1ff42edbd21d7d9f6e85101d0ea29fe"], ["id", 133]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 499ms (ActiveRecord: 7.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:20:41.471845"], ["updated_at", "2018-10-07 11:20:41.471845"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:20:41.643992"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 41], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 41], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 41], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 41], ["updated_at", "2018-10-07 11:20:41.677065"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:20:41.682303"], ["updated_at", "2018-10-07 11:20:41.682303"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 41], ["country_id", 41], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-4700"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-4700') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-4700"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 4700"], ["description", "Itaque quasi nemo consequuntur eligendi. Ducimus rerum sunt amet ipsum. Aut mollitia sunt minima reiciendis voluptates. Iure sit eos ipsam sed eaque voluptas ut.\nOfficiis quo suscipit expedita ipsum animi voluptatem dignissimos quam. Ullam perspiciatis ut rem est molestias ex sequi. Qui hic et velit deleniti neque ratione voluptatem. Sed sint soluta necessitatibus praesentium. Est aliquam consequatur nam aut sit.\nQuis et accusamus dolor ullam enim eum ducimus qui. Quam sunt commodi quidem animi explicabo officiis accusamus. Est consequatur quo sunt debitis delectus ducimus. Voluptatem esse eos quam ab rerum neque.\nVoluptate cumque ducimus quidem amet beatae. Mollitia reiciendis voluptate harum assumenda eveniet aut maiores. Eligendi facere qui qui quas quis impedit voluptatem.\nEos distinctio omnis sint nam. Et saepe voluptatem sint error repudiandae ea possimus qui. Beatae quod molestiae reprehenderit ab distinctio omnis necessitatibus incidunt. Voluptas non laudantium voluptatem mollitia accusamus tempore expedita. Minima cupiditate iusto deleniti sed molestiae sit eos dicta."], ["available_on", "2017-10-07 11:20:41.574023"], ["slug", "product-1-4700"], ["shipping_category_id", 85], ["created_at", "2018-10-07 11:20:41.706290"], ["updated_at", "2018-10-07 11:20:41.706290"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 65], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 65], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:20:41.711576"], ["created_at", "2018-10-07 11:20:41.711576"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 63], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 63], ["stock_location_id", 43], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 43], ["variant_id", 63], ["created_at", "2018-10-07 11:20:41.752859"], ["updated_at", "2018-10-07 11:20:41.752859"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:20:41.755151"], ["id", 63]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 65], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 65], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 65], ["sluggable_type", "Spree::Product"], ["slug", "product-1-4700"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-4700"], ["sluggable_id", 65], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:20:41.783492"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 65]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:20:41.810617' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:20:41.814711' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:20:41.756761"], ["id", 65]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:20:41.823189' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:20:41.824909' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'abc') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "abc"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "abc"], ["slug", "abc"], ["shipping_category_id", 85], ["created_at", "2018-10-07 11:20:43.453663"], ["updated_at", "2018-10-07 11:20:43.453663"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 66], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 66], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:20:43.455895"], ["created_at", "2018-10-07 11:20:43.455895"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 64], ["amount", "10.0"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 64], ["stock_location_id", 43], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 43], ["variant_id", 64], ["created_at", "2018-10-07 11:20:43.470328"], ["updated_at", "2018-10-07 11:20:43.470328"], ["backorderable", "t"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:20:43.472344"], ["id", 64]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 66], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 66], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 66], ["sluggable_type", "Spree::Product"], ["slug", "abc"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "abc"], ["sluggable_id", 66], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:20:43.481225"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 66]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:20:43.485152' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:20:43.486595' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:20:43.473797"], ["id", 66]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:20:43.489893' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:20:43.491278' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 66], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 64], ["id", 51], ["stock_location_id", 43], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:20:43.504310"], ["id", 51]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:20:43.506648"], ["id", 64]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:20:43.510059"], ["id", 66]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 66]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:20:43.513979' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:20:43.515180' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:20:43.522229"], ["updated_at", "2018-10-07 11:20:43.522229"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.6ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:20:43.536838"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 42], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 42], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 42], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 42], ["updated_at", "2018-10-07 11:20:43.544357"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:20:43.547506"], ["updated_at", "2018-10-07 11:20:43.547506"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 42], ["country_id", 42], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-9190"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-9190') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-9190"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 9190"], ["description", "Optio earum rem aspernatur dolorum voluptate rerum expedita. Adipisci consequatur eligendi perspiciatis distinctio. Quo fugit perspiciatis pariatur aspernatur qui sed iusto qui. Ut voluptatem laudantium quos sint vero excepturi tempore sed.\nOdio et commodi ipsa veniam autem magni. Explicabo aut aliquam eveniet possimus vel quibusdam rerum repellendus. Qui tempora qui nostrum libero omnis. Soluta tempora vel nobis ducimus odit inventore neque et.\nTempore minus consequatur id fugiat mollitia rerum. Doloribus quia suscipit quaerat laborum non ad consequatur velit. Illo officiis eum possimus et eligendi dolor. Animi at rerum velit rem deserunt quia commodi. Nostrum illum dolor sapiente sed et.\nRecusandae est fugiat neque numquam sed velit. Quia qui recusandae excepturi quis maxime voluptatem. Aperiam atque quidem aut aut deserunt. Sit reiciendis dolorum aut laborum enim voluptate consequatur."], ["available_on", "2017-10-07 11:20:43.529873"], ["slug", "product-2-9190"], ["shipping_category_id", 86], ["created_at", "2018-10-07 11:20:43.561829"], ["updated_at", "2018-10-07 11:20:43.561829"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 67], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 67], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:20:43.565845"], ["created_at", "2018-10-07 11:20:43.565845"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 65], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 65], ["stock_location_id", 44], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 44], ["variant_id", 65], ["created_at", "2018-10-07 11:20:43.580421"], ["updated_at", "2018-10-07 11:20:43.580421"], ["backorderable", "t"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:20:43.582418"], ["id", 65]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 67], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 67], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 67], ["sluggable_type", "Spree::Product"], ["slug", "product-2-9190"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-9190"], ["sluggable_id", 67], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:20:43.592212"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 67]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:20:43.596345' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:20:43.597663' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:20:43.583799"], ["id", 67]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:20:43.600652' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:20:43.601977' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.1ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 67], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 65], ["id", 52], ["stock_location_id", 44], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:20:44.101723"], ["id", 52]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:20:44.103773"], ["id", 65]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:20:44.107076"], ["id", 67]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 67]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:20:44.111456' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:20:44.112796' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 104], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "laurene_hodkiewicz@bartellfritsch.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "be53b923ba910efbf3458c8cfe1269d18ba01fa1d69a387b8b24a78a8797fbc963e721538de5a1f4ec82ac33c284cbf6483499b6f0e00d973a0da1134b893db0"], ["password_salt", "uyKFjv_y4VcLJwnR-zP4"], ["email", "laurene_hodkiewicz@bartellfritsch.co.uk"], ["login", "laurene_hodkiewicz@bartellfritsch.co.uk"], ["authentication_token", "xxxx15389112449751xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:20:44.227270"], ["updated_at", "2018-10-07 11:20:44.227270"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 104], ["user_id", 134]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:20:44 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:20:44.258835"], ["last_sign_in_at", "2018-10-07 11:20:44.258835"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:20:44.259756"], ["id", 134]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "3gbF6ePFKLr2zuAL6T7wdQ1538911244391"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:20:44.411975"], ["spree_api_key", "0e7153bb578e04e90e5ad9f7430481cba16a26c03b53d2fe"], ["id", 134]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 507ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:21:41.542405"], ["updated_at", "2018-10-07 11:21:41.542405"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:21:41.713980"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 43], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 43], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 43], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 43], ["updated_at", "2018-10-07 11:21:41.739504"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:21:41.744786"], ["updated_at", "2018-10-07 11:21:41.744786"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 43], ["country_id", 43], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-8265"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-8265') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-8265"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 8265"], ["description", "Debitis qui harum et expedita repudiandae quaerat et. Quam sed nostrum praesentium est esse. Magni dolorum ut ut eum. Dicta quis odio et soluta."], ["available_on", "2017-10-07 11:21:41.638911"], ["slug", "product-1-8265"], ["shipping_category_id", 87], ["created_at", "2018-10-07 11:21:41.769221"], ["updated_at", "2018-10-07 11:21:41.769221"]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 68], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 68], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:21:41.774008"], ["created_at", "2018-10-07 11:21:41.774008"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 66], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 66], ["stock_location_id", 45], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 45], ["variant_id", 66], ["created_at", "2018-10-07 11:21:41.817743"], ["updated_at", "2018-10-07 11:21:41.817743"], ["backorderable", "t"]]
  [1m[35mSQL (3.0ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:21:41.820012"], ["id", 66]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 68], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 68], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 68], ["sluggable_type", "Spree::Product"], ["slug", "product-1-8265"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-8265"], ["sluggable_id", 68], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:21:41.848783"]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 68]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:21:41.877690' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:21:41.882511' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:21:41.824090"], ["id", 68]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:21:41.891247' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:21:41.892856' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-8265"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-8265"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-8265-491561d7-6732-4118-8ac4-94c0b16e55ce"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:21:43.394012"], ["updated_at", "2018-10-07 11:21:43.394012"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:21:43.409147"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 44], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 44], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 44], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 44], ["updated_at", "2018-10-07 11:21:43.416075"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:21:43.419253"], ["updated_at", "2018-10-07 11:21:43.419253"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 44], ["country_id", 44], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-335"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-335') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-335"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 335"], ["description", "Maiores hic aut aliquam quo. Provident enim est enim eos. Culpa iste nesciunt nulla corrupti sed inventore iure. Veniam consequatur dolores omnis et.\nFugit modi nostrum autem incidunt cum non odio similique. A inventore voluptas delectus dolor dignissimos fuga sed autem. Adipisci error laborum quod harum nobis nesciunt atque saepe.\nQuia omnis et velit aut in. Dolorem expedita et magni eaque numquam voluptatem vel quod. Non aut est quae exercitationem consequatur iusto consequuntur commodi. Quaerat quia et at ea et vel placeat tempore.\nDolorum ut repudiandae quia voluptatum sint beatae. Laudantium quibusdam a qui dignissimos dolor sed adipisci. Molestiae commodi autem blanditiis eum ea eligendi et. Assumenda distinctio iure dolores iusto ut.\nConsequuntur repudiandae fugit sint omnis reiciendis. Odio nihil beatae fugit repellat provident recusandae esse delectus. Odio consequuntur quis omnis possimus esse laudantium natus."], ["available_on", "2017-10-07 11:21:43.402356"], ["slug", "product-2-335"], ["shipping_category_id", 88], ["created_at", "2018-10-07 11:21:43.434572"], ["updated_at", "2018-10-07 11:21:43.434572"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 69], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 69], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:21:43.438408"], ["created_at", "2018-10-07 11:21:43.438408"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 67], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 67], ["stock_location_id", 46], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 46], ["variant_id", 67], ["created_at", "2018-10-07 11:21:43.453503"], ["updated_at", "2018-10-07 11:21:43.453503"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:21:43.455568"], ["id", 67]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 69], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 69], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 69], ["sluggable_type", "Spree::Product"], ["slug", "product-2-335"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-335"], ["sluggable_id", 69], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:21:43.464683"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 69]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:21:43.469293' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:21:43.470787' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:21:43.457049"], ["id", 69]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:21:43.473969' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:21:43.475212' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.4ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 69], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 67], ["id", 54], ["stock_location_id", 46], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:21:44.060561"], ["id", 54]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:21:44.062826"], ["id", 67]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:21:44.066110"], ["id", 69]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 69]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:21:44.070009' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:21:44.071277' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 105], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "maryam.lynch@pfannerstill.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "8b53b61c30b1186fa5c6fed3eff51655b0b8562d3a81c3d3bb8f4bd4606056a979f8d00f1326cd8ed03a86f99374636b821d6a3eb610392e5cb205d84fdf9293"], ["password_salt", "Fpv9gyF5UM_x3ATbxf7B"], ["email", "maryam.lynch@pfannerstill.co.uk"], ["login", "maryam.lynch@pfannerstill.co.uk"], ["authentication_token", "xxxx15389113041971xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:21:44.187158"], ["updated_at", "2018-10-07 11:21:44.187158"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 105], ["user_id", 135]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:21:44 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:21:44.216085"], ["last_sign_in_at", "2018-10-07 11:21:44.216085"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:21:44.217090"], ["id", 135]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "Oz9VGUfTiypXad9dRJtQrA1538911304349"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:21:44.369368"], ["spree_api_key", "1961488136a6833c993c3ad1001f4bfc3af6e0ae8c446ef9"], ["id", 135]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 501ms (ActiveRecord: 7.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:22:02.649888"], ["updated_at", "2018-10-07 11:22:02.649888"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:22:02.818705"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 45], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 45], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 45], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 45], ["updated_at", "2018-10-07 11:22:02.845650"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:22:02.850835"], ["updated_at", "2018-10-07 11:22:02.850835"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 45], ["country_id", 45], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-3014"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-3014') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-3014"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 3014"], ["description", "Et maxime et quo ut. Quis quos deserunt dicta voluptates quia. Et dicta aut in fuga similique.\nItaque consequatur magni accusamus hic libero ducimus. Rem aut eum voluptatem sed beatae blanditiis eos. Inventore quia ut facilis enim. Magnam aliquam adipisci tempora et quidem tenetur quibusdam eos. Dolorum aut ratione fugit sit odio eveniet quaerat."], ["available_on", "2017-10-07 11:22:02.744473"], ["slug", "product-1-3014"], ["shipping_category_id", 89], ["created_at", "2018-10-07 11:22:02.881308"], ["updated_at", "2018-10-07 11:22:02.881308"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 70], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 70], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:22:02.885663"], ["created_at", "2018-10-07 11:22:02.885663"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 68], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 68], ["stock_location_id", 47], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 47], ["variant_id", 68], ["created_at", "2018-10-07 11:22:02.931759"], ["updated_at", "2018-10-07 11:22:02.931759"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:22:02.934039"], ["id", 68]]
  [1m[36mActsAsTaggableOn::Tagging Load (1.3ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 70], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 70], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 70], ["sluggable_type", "Spree::Product"], ["slug", "product-1-3014"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-3014"], ["sluggable_id", 70], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:22:02.964571"]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 70]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:22:02.995887' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:22:03.000273' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:22:02.935633"], ["id", 70]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:22:03.008360' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:22:03.009825' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-3014"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-3014"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-3014-1d919fec-11d4-41f3-81cd-dbe57fc50e17"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Product #1 - 3014"], ["slug", "product-1-3014-1d919fec-11d4-41f3-81cd-dbe57fc50e17"], ["shipping_category_id", 89], ["created_at", "2018-10-07 11:22:04.638698"], ["updated_at", "2018-10-07 11:22:04.638698"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 71], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 71], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:22:04.642823"], ["created_at", "2018-10-07 11:22:04.642823"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 69], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (1.2ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 69], ["stock_location_id", 47], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 47], ["variant_id", 69], ["created_at", "2018-10-07 11:22:04.663205"], ["updated_at", "2018-10-07 11:22:04.663205"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:22:04.665057"], ["id", 69]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 71], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 71], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 71], ["sluggable_type", "Spree::Product"], ["slug", "product-1-3014-1d919fec-11d4-41f3-81cd-dbe57fc50e17"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-3014-1d919fec-11d4-41f3-81cd-dbe57fc50e17"], ["sluggable_id", 71], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:22:04.673831"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 71]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:22:04.677856' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:22:04.679141' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:22:04.666415"], ["id", 71]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:22:04.682201' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:22:04.683706' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 71], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 69], ["id", 56], ["stock_location_id", 47], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:22:04.698459"], ["id", 56]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:22:04.700605"], ["id", 69]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:22:04.703827"], ["id", 71]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 71]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:22:04.711364' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:22:04.712610' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:22:04.719811"], ["updated_at", "2018-10-07 11:22:04.719811"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.2ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:22:04.736202"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 46], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 46], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 46], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 46], ["updated_at", "2018-10-07 11:22:04.749731"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:22:04.754134"], ["updated_at", "2018-10-07 11:22:04.754134"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 46], ["country_id", 46], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-239"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-239') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-239"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 239"], ["description", "Molestiae magnam reiciendis minima aut incidunt est voluptas. Est eos atque corrupti dolor. Et voluptatem sed totam odio aperiam et.\nOfficia quia maxime consectetur laboriosam aut. Ullam ea modi maiores exercitationem et quisquam libero voluptatem. Recusandae et et id alias quidem qui modi. Provident et voluptas dolorum alias debitis fugit.\nAccusantium harum dolores commodi alias dicta est laborum. Minima magni veniam vero sequi suscipit qui. Consequatur cupiditate amet maxime et mollitia quia excepturi. Consectetur dolorem nisi magni aperiam dolore deserunt. Repudiandae quis quae nisi eius."], ["available_on", "2017-10-07 11:22:04.729247"], ["slug", "product-2-239"], ["shipping_category_id", 90], ["created_at", "2018-10-07 11:22:04.770034"], ["updated_at", "2018-10-07 11:22:04.770034"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 72], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 72], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:22:04.774000"], ["created_at", "2018-10-07 11:22:04.774000"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 70], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 70], ["stock_location_id", 48], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 48], ["variant_id", 70], ["created_at", "2018-10-07 11:22:04.789777"], ["updated_at", "2018-10-07 11:22:04.789777"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:22:04.791760"], ["id", 70]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 72], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (2.1ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 72], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 72], ["sluggable_type", "Spree::Product"], ["slug", "product-2-239"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-239"], ["sluggable_id", 72], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:22:04.803859"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 72]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:22:04.810707' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:22:04.812447' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:22:04.793209"], ["id", 72]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:22:04.815550' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:22:04.816846' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.2ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 72], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 70], ["id", 57], ["stock_location_id", 48], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:22:05.419176"], ["id", 57]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:22:05.421209"], ["id", 70]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:22:05.425085"], ["id", 72]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 72]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:22:05.430398' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:22:05.431971' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 106], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "vince.mohr@hodkiewiczmccullough.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "95ce1d00f530542f7aabccd39641871c88fdad18d836532bed78aa47dae4a0feb2a88422032dac070cba09998d5f25add73ffceb241b3672150bd6fd4996c169"], ["password_salt", "56zykP-5NsEoWHY5q4F7"], ["email", "vince.mohr@hodkiewiczmccullough.com"], ["login", "vince.mohr@hodkiewiczmccullough.com"], ["authentication_token", "xxxx15389113253661xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:22:05.551531"], ["updated_at", "2018-10-07 11:22:05.551531"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 106], ["user_id", 136]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:22:05 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:22:05.582475"], ["last_sign_in_at", "2018-10-07 11:22:05.582475"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:22:05.583317"], ["id", 136]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "zQsHUKQakRAfsccGhzCquQ1538911325722"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:22:05.745668"], ["spree_api_key", "396b49caf138dc34104e1f78887e67d10d75aee5b15b5a04"], ["id", 136]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 525ms (ActiveRecord: 8.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:24:04.908041"], ["updated_at", "2018-10-07 11:24:04.908041"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:24:05.064045"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 47], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 47], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 47], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 47], ["updated_at", "2018-10-07 11:24:05.090712"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:24:05.096067"], ["updated_at", "2018-10-07 11:24:05.096067"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 47], ["country_id", 47], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-5377"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-5377') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-5377"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 5377"], ["description", "Culpa ullam adipisci aut velit est. Accusantium soluta sint animi sapiente nobis. Odit aperiam a et eum optio non aut.\nAccusamus suscipit nisi ea illo. Et praesentium est a velit quae qui eius magni. Ex debitis veniam nobis voluptas sed harum et. Illum provident ut pariatur et ipsam suscipit aut id. Eveniet in modi ut aliquam.\nSint voluptates dolore voluptatem minima quam atque error. Quam quia aut hic facere autem. Illum vero voluptatem rerum consectetur. Assumenda rerum dicta et cupiditate saepe. Ipsum et numquam autem non molestiae.\nNon nisi sit aut eius. Tempore adipisci qui nam esse. Ex occaecati sed dignissimos exercitationem repellat. Sed qui voluptates eos impedit commodi sit quos quia."], ["available_on", "2017-10-07 11:24:05.004056"], ["slug", "product-1-5377"], ["shipping_category_id", 91], ["created_at", "2018-10-07 11:24:05.120300"], ["updated_at", "2018-10-07 11:24:05.120300"]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 73], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 73], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:24:05.125328"], ["created_at", "2018-10-07 11:24:05.125328"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 71], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 71], ["stock_location_id", 49], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 49], ["variant_id", 71], ["created_at", "2018-10-07 11:24:05.184239"], ["updated_at", "2018-10-07 11:24:05.184239"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:24:05.186564"], ["id", 71]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 73], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 73], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 73], ["sluggable_type", "Spree::Product"], ["slug", "product-1-5377"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-5377"], ["sluggable_id", 73], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:24:05.215766"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 73]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:24:05.244596' WHERE 1=0[0m
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:24:05.249071' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:24:05.188059"], ["id", 73]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:24:05.258374' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:24:05.260576' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 73], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 71], ["id", 58], ["stock_location_id", 49], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:24:05.281781"], ["id", 58]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:24:05.284205"], ["id", 71]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:24:05.287746"], ["id", 73]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 73]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:24:05.292041' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:24:05.293494' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 107], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "joy@effertz.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "1472210770c5ef2c57f90308dc15f59a6d68f54845aa97df3141cae457518edb8fc91132f6371dc3b16594e862172040ad4728c8ca9f45fba30eeb20cd9d3d1a"], ["password_salt", "Ty9gjz5RMZss9x9EtPG6"], ["email", "joy@effertz.biz"], ["login", "joy@effertz.biz"], ["authentication_token", "xxxx15389114459341xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:24:05.423692"], ["updated_at", "2018-10-07 11:24:05.423692"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 107], ["user_id", 137]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:24:05 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:24:05.456795"], ["last_sign_in_at", "2018-10-07 11:24:05.456795"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:24:05.457705"], ["id", 137]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "Fy6i6BYRSgea4gRjIZ3_XQ1538911445633"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:24:05.701134"], ["spree_api_key", "b2e7b558b1c98952d1582d9f28d4edded45b27e89ee23220"], ["id", 137]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 543ms (ActiveRecord: 6.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:25:13.899218"], ["updated_at", "2018-10-07 11:25:13.899218"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:25:14.084789"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 48], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 48], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 48], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 48], ["updated_at", "2018-10-07 11:25:14.108997"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:25:14.113856"], ["updated_at", "2018-10-07 11:25:14.113856"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 48], ["country_id", 48], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-641"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-641') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-641"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 641"], ["description", "Dolor sequi in voluptates inventore repellendus doloremque. Quo hic nisi nostrum tempora sapiente harum. Sit magnam earum beatae eveniet fugiat ipsam deserunt. Eos consequuntur quo cupiditate fugit culpa. Sit officia quia necessitatibus velit.\nEum aliquid ut nisi voluptates repellendus dolore. Doloremque accusamus repudiandae provident quibusdam quas et mollitia. Voluptatem qui eveniet dolorum quaerat et vel qui in. Dolorem necessitatibus ratione eos sint est incidunt. Repellat ea culpa reprehenderit eum ratione non.\nIn fuga similique incidunt voluptatibus. Reiciendis occaecati quia quae deserunt. Repellat inventore id quidem illo magni asperiores. Illo ab voluptatibus eos et."], ["available_on", "2017-10-07 11:25:14.001538"], ["slug", "product-1-641"], ["shipping_category_id", 92], ["created_at", "2018-10-07 11:25:14.138603"], ["updated_at", "2018-10-07 11:25:14.138603"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 74], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 74], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:25:14.143371"], ["created_at", "2018-10-07 11:25:14.143371"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 72], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 72], ["stock_location_id", 50], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 50], ["variant_id", 72], ["created_at", "2018-10-07 11:25:14.185227"], ["updated_at", "2018-10-07 11:25:14.185227"], ["backorderable", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:25:14.187763"], ["id", 72]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 74], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 74], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 74], ["sluggable_type", "Spree::Product"], ["slug", "product-1-641"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-641"], ["sluggable_id", 74], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:25:14.215843"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 74]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:25:14.242913' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:25:14.246702' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:25:14.189470"], ["id", 74]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:25:14.254101' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:25:14.255666' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.9ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 74], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 72], ["id", 59], ["stock_location_id", 50], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:25:14.277549"], ["id", 59]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:25:14.279858"], ["id", 72]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:25:14.283137"], ["id", 74]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 74]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:25:14.287108' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:25:14.288325' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:25:14.294655"], ["updated_at", "2018-10-07 11:25:14.294655"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:25:14.310956"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 49], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 49], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 49], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 49], ["updated_at", "2018-10-07 11:25:14.318586"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:25:14.321615"], ["updated_at", "2018-10-07 11:25:14.321615"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 49], ["country_id", 49], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-3618"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-3618') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-3618"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 3618"], ["description", "Adipisci excepturi odio consequatur nihil nihil. Reiciendis animi exercitationem consequatur ea et quia commodi. Ut officiis sint optio quia incidunt non ipsum rerum. Id ea exercitationem molestias sequi ratione quaerat. Sunt nam consequatur minus qui vel atque."], ["available_on", "2017-10-07 11:25:14.303060"], ["slug", "product-2-3618"], ["shipping_category_id", 93], ["created_at", "2018-10-07 11:25:14.336349"], ["updated_at", "2018-10-07 11:25:14.336349"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 75], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 75], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:25:14.340226"], ["created_at", "2018-10-07 11:25:14.340226"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 73], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 73], ["stock_location_id", 51], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 51], ["variant_id", 73], ["created_at", "2018-10-07 11:25:14.356142"], ["updated_at", "2018-10-07 11:25:14.356142"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:25:14.358237"], ["id", 73]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 75], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 75], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 75], ["sluggable_type", "Spree::Product"], ["slug", "product-2-3618"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-3618"], ["sluggable_id", 75], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:25:14.367537"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 75]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:25:14.371487' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:25:14.372812' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:25:14.359664"], ["id", 75]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:25:14.375917' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:25:14.377228' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 75], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 75], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 73], ["id", 60], ["stock_location_id", 51], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:25:14.392161"], ["id", 60]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:25:14.394443"], ["id", 73]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:25:14.397837"], ["id", 75]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 75]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:25:14.402747' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:25:14.403947' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 108], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "federico.ritchie@hodkiewiczweber.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "dcc75955299920b9eed12185f3651b39ce9c882bc1ced572800a14d9a67859fc811672ba4affcfb3d3cb7db7bf86575fa98d5c37963048f1c491cb7a679b4d0b"], ["password_salt", "McpyCgdMEC8of9p-BjWW"], ["email", "federico.ritchie@hodkiewiczweber.biz"], ["login", "federico.ritchie@hodkiewiczweber.biz"], ["authentication_token", "xxxx15389115141641xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:25:14.494868"], ["updated_at", "2018-10-07 11:25:14.494868"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 108], ["user_id", 138]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:25:14 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:25:14.523940"], ["last_sign_in_at", "2018-10-07 11:25:14.523940"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:25:14.525009"], ["id", 138]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "vfDqeq_hDYLEC056_nqORw1538911514653"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:25:14.673785"], ["spree_api_key", "290fe9be86b42ecc7655f87657c9644cd4be543ebeea534b"], ["id", 138]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 500ms (ActiveRecord: 7.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:25:51.374739"], ["updated_at", "2018-10-07 11:25:51.374739"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:25:51.536794"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 50], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 50], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 50], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 50], ["updated_at", "2018-10-07 11:25:51.563074"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:25:51.568526"], ["updated_at", "2018-10-07 11:25:51.568526"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 50], ["country_id", 50], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-2397"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-2397') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-2397"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 2397"], ["description", "Laboriosam asperiores quisquam pariatur at. Voluptatibus cumque voluptas minima nisi provident qui mollitia unde. Esse necessitatibus quibusdam voluptatem iure ut saepe. Ipsum fuga dolores dolorem sequi et voluptas culpa corrupti. Laudantium pariatur delectus enim nihil ad in voluptate."], ["available_on", "2017-10-07 11:25:51.475942"], ["slug", "product-1-2397"], ["shipping_category_id", 94], ["created_at", "2018-10-07 11:25:51.593975"], ["updated_at", "2018-10-07 11:25:51.593975"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 76], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 76], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:25:51.598916"], ["created_at", "2018-10-07 11:25:51.598916"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 74], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 74], ["stock_location_id", 52], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 52], ["variant_id", 74], ["created_at", "2018-10-07 11:25:51.652405"], ["updated_at", "2018-10-07 11:25:51.652405"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:25:51.654869"], ["id", 74]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 76], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 76], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 76], ["sluggable_type", "Spree::Product"], ["slug", "product-1-2397"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-2397"], ["sluggable_id", 76], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:25:51.684681"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 76]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:25:51.714579' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:25:51.718879' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:25:51.656454"], ["id", 76]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:25:51.727234' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:25:51.728749' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.8ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 76], ["LIMIT", 11]]
  [1m[36mSpree::StockItem Load (1.0ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 76], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (2.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 76], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 74], ["id", 61], ["stock_location_id", 52], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:29:24.280636"], ["id", 61]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:29:24.283585"], ["id", 74]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:29:24.287365"], ["id", 76]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 76]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:29:24.292099' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:29:24.293536' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:29:24.300017"], ["updated_at", "2018-10-07 11:29:24.300017"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:29:24.315125"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 51], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 51], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (3.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 51], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 51], ["updated_at", "2018-10-07 11:29:24.325233"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:29:24.328644"], ["updated_at", "2018-10-07 11:29:24.328644"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 51], ["country_id", 51], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-4040"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-4040') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-4040"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 4040"], ["description", "Sint illo officiis ut non. Asperiores distinctio aspernatur omnis minima. Ab aut dolor inventore voluptas placeat hic harum."], ["available_on", "2017-10-07 11:29:24.308129"], ["slug", "product-2-4040"], ["shipping_category_id", 95], ["created_at", "2018-10-07 11:29:24.343492"], ["updated_at", "2018-10-07 11:29:24.343492"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 77], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 77], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:29:24.347398"], ["created_at", "2018-10-07 11:29:24.347398"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 75], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 75], ["stock_location_id", 53], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 53], ["variant_id", 75], ["created_at", "2018-10-07 11:29:24.362867"], ["updated_at", "2018-10-07 11:29:24.362867"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:29:24.364941"], ["id", 75]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 77], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 77], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 77], ["sluggable_type", "Spree::Product"], ["slug", "product-2-4040"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-4040"], ["sluggable_id", 77], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:29:24.374156"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 77]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:29:24.379246' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:29:24.380647' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:29:24.366401"], ["id", 77]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:29:24.383836' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:29:24.385077' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 77], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 77], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 75], ["id", 62], ["stock_location_id", 53], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:29:29.945992"], ["id", 62]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:29:29.948959"], ["id", 75]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:29:29.952400"], ["id", 77]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 77]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:29:29.956393' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:29:29.957723' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 109], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "ronna@schowalter.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "028f8c1f2e8b87ab14c4105340e4f1c242af7ed914c0cce0959a4b6a3a388dc3f6dadb284dbb7c01d575d429b8962ede1899a76f72701b6d7d4c1b333a7cb030"], ["password_salt", "ndf-gADcdVrxbyTzx2FE"], ["email", "ronna@schowalter.us"], ["login", "ronna@schowalter.us"], ["authentication_token", "xxxx15389117702571xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:29:30.064288"], ["updated_at", "2018-10-07 11:29:30.064288"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 109], ["user_id", 139]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:29:30 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:29:30.094006"], ["last_sign_in_at", "2018-10-07 11:29:30.094006"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:29:30.094986"], ["id", 139]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "DS7U6TSlCY7Lre9046Vbqw1538911770224"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:29:30.245041"], ["spree_api_key", "368c2232b1a831d4e724e2d8144bfefa3e5d180fe9d57bce"], ["id", 139]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 495ms (ActiveRecord: 7.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:29:48.908994"], ["updated_at", "2018-10-07 11:29:48.908994"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:29:49.087983"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 52], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 52], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 52], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 52], ["updated_at", "2018-10-07 11:29:49.112995"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:29:49.118140"], ["updated_at", "2018-10-07 11:29:49.118140"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 52], ["country_id", 52], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-5350"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-5350') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-5350"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 5350"], ["description", "Doloremque vitae officiis eos vel itaque et. Velit asperiores iusto quas blanditiis fugiat illum soluta aut. Suscipit non vitae atque harum consequatur facilis. Quae quasi ullam expedita alias.\nArchitecto ut et error aut eos expedita ea. Deleniti et tempore dolores dolores doloribus ut molestiae atque. Eum ab officia enim ut.\nQuasi porro sed corrupti possimus laborum illum ex. Modi ea qui in incidunt a. Consectetur et velit impedit odio dignissimos ut esse. Qui temporibus quo dolores eligendi reiciendis cumque non. Numquam nisi eos accusantium rerum consectetur et."], ["available_on", "2017-10-07 11:29:49.015713"], ["slug", "product-1-5350"], ["shipping_category_id", 96], ["created_at", "2018-10-07 11:29:49.142325"], ["updated_at", "2018-10-07 11:29:49.142325"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 78], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 78], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:29:49.146856"], ["created_at", "2018-10-07 11:29:49.146856"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 76], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 76], ["stock_location_id", 54], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 54], ["variant_id", 76], ["created_at", "2018-10-07 11:29:49.189305"], ["updated_at", "2018-10-07 11:29:49.189305"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:29:49.192152"], ["id", 76]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 78], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 78], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 78], ["sluggable_type", "Spree::Product"], ["slug", "product-1-5350"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-5350"], ["sluggable_id", 78], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:29:49.219832"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 78]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:29:49.247889' WHERE 1=0[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:29:49.252421' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:29:49.193810"], ["id", 78]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:29:49.261117' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:29:49.262714' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 78], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (1.3ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 78], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 76], ["id", 63], ["stock_location_id", 54], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:30:01.294797"], ["id", 63]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:30:01.297201"], ["id", 76]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:30:01.300540"], ["id", 78]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 78]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:30:01.304542' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:30:01.305903' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:30:01.312141"], ["updated_at", "2018-10-07 11:30:01.312141"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.7ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:30:01.328617"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 53], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 53], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 53], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 53], ["updated_at", "2018-10-07 11:30:01.336071"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:30:01.341699"], ["updated_at", "2018-10-07 11:30:01.341699"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 53], ["country_id", 53], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-7482"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-7482') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-7482"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 7482"], ["description", "Deleniti perspiciatis est velit dolorem magnam quasi. Enim rerum quidem fugiat corporis quam quis. Architecto nihil distinctio est sint.\nDucimus fugit consectetur maxime porro hic. Rem soluta qui rerum quia. Eius alias sunt voluptatem ad rem itaque quibusdam. A sit facilis voluptas commodi magnam. Voluptates cum quo iusto sed."], ["available_on", "2017-10-07 11:30:01.319535"], ["slug", "product-2-7482"], ["shipping_category_id", 97], ["created_at", "2018-10-07 11:30:01.354895"], ["updated_at", "2018-10-07 11:30:01.354895"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 79], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 79], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:30:01.358990"], ["created_at", "2018-10-07 11:30:01.358990"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 77], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 77], ["stock_location_id", 55], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 55], ["variant_id", 77], ["created_at", "2018-10-07 11:30:01.374253"], ["updated_at", "2018-10-07 11:30:01.374253"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:30:01.376223"], ["id", 77]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 79], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 79], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 79], ["sluggable_type", "Spree::Product"], ["slug", "product-2-7482"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-7482"], ["sluggable_id", 79], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:30:01.385668"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 79]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:30:01.389982' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:30:01.391269' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:30:01.377676"], ["id", 79]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:30:01.396150' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:30:01.398018' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 79], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (1.4ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 79], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (2.1ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 79], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (1.3ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 79], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 77], ["id", 64], ["stock_location_id", 55], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:30:33.595760"], ["id", 64]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:30:33.598169"], ["id", 77]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:30:33.601700"], ["id", 79]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 79]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:30:33.605836' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:30:33.607049' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 110], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "alec.rau@koss.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "259789f95ef898a63220c42c98765dd1132b31a3e2a6ae316074f4de80e32611f3a091f6dc57d1f4c6035392bf90678d078cac3045de81a01ffd2f1fe62ef320"], ["password_salt", "ASCuSxPzPmFbucVQDkTw"], ["email", "alec.rau@koss.name"], ["login", "alec.rau@koss.name"], ["authentication_token", "xxxx15389118331691xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:30:33.725950"], ["updated_at", "2018-10-07 11:30:33.725950"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 110], ["user_id", 140]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:30:33 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:30:33.756096"], ["last_sign_in_at", "2018-10-07 11:30:33.756096"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:30:33.757121"], ["id", 140]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "6RQBGkq72ASdRQdtLLQGiA1538911833888"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:30:33.908673"], ["spree_api_key", "e1563f02b5082542fb2e31acd28382d43407bd142f160cae"], ["id", 140]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 508ms (ActiveRecord: 7.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:30:55.758578"], ["updated_at", "2018-10-07 11:30:55.758578"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.9ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:30:55.912343"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 54], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 54], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 54], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 54], ["updated_at", "2018-10-07 11:30:55.953889"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:30:55.958638"], ["updated_at", "2018-10-07 11:30:55.958638"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 54], ["country_id", 54], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-5893"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-5893') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-5893"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 5893"], ["description", "Expedita beatae atque in eius distinctio. Nesciunt nam fuga tempora molestiae. Id sint nesciunt asperiores modi doloribus.\nVoluptatem voluptatem placeat facilis nisi nobis. Asperiores omnis id inventore amet. Explicabo saepe ipsam consequuntur quae dolorem non. Quas et pariatur qui eum dolorem est non porro.\nFacere officiis velit est eum. Aliquam quam esse aut vitae omnis maxime alias. Et beatae suscipit dolor repellendus fugiat. Eum ullam quis nesciunt rerum. Eaque voluptas harum laudantium omnis et."], ["available_on", "2017-10-07 11:30:55.856319"], ["slug", "product-1-5893"], ["shipping_category_id", 98], ["created_at", "2018-10-07 11:30:55.982668"], ["updated_at", "2018-10-07 11:30:55.982668"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 80], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 80], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:30:55.987334"], ["created_at", "2018-10-07 11:30:55.987334"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 78], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 78], ["stock_location_id", 56], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 56], ["variant_id", 78], ["created_at", "2018-10-07 11:30:56.030669"], ["updated_at", "2018-10-07 11:30:56.030669"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:30:56.033109"], ["id", 78]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 80], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 80], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 80], ["sluggable_type", "Spree::Product"], ["slug", "product-1-5893"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-5893"], ["sluggable_id", 80], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:30:56.060983"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 80]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:30:56.089346' WHERE 1=0[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:30:56.093685' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:30:56.034670"], ["id", 80]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:30:56.103694' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:30:56.105138' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 80], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (1.3ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 80], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 78], ["id", 65], ["stock_location_id", 56], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:31:04.167140"], ["id", 65]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:31:04.169572"], ["id", 78]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:31:04.172917"], ["id", 80]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 80]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:31:04.176958' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:31:04.178304' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 111], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "boyd.donnelly@hodkiewicz.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "e3ab5cd0241aa631eee8b624df4bf6b6662a6abf28cdca95b500d1713527b5de54b231f4624b18be3afea7d9b6207da207eabc07026eb15fb09f8e9318356d75"], ["password_salt", "7fDFczpmiC26AmycZb89"], ["email", "boyd.donnelly@hodkiewicz.biz"], ["login", "boyd.donnelly@hodkiewicz.biz"], ["authentication_token", "xxxx15389118644781xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:31:04.294243"], ["updated_at", "2018-10-07 11:31:04.294243"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 111], ["user_id", 141]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:31:04 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:31:04.323459"], ["last_sign_in_at", "2018-10-07 11:31:04.323459"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:31:04.324680"], ["id", 141]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "suU7PuOpOIaq0oT5mKml9g1538911864464"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:31:04.484381"], ["spree_api_key", "09faa75ee47a3c0d96573a2da9fd50814be1b869e84598b5"], ["id", 141]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 492ms (ActiveRecord: 7.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (3.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:31:12.337519"], ["updated_at", "2018-10-07 11:31:12.337519"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:31:12.530904"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 55], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 55], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 55], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 55], ["updated_at", "2018-10-07 11:31:12.556202"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:31:12.561264"], ["updated_at", "2018-10-07 11:31:12.561264"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 55], ["country_id", 55], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-8483"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-8483') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-8483"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 8483"], ["description", "Harum quis consequatur dolor voluptatem. Rerum doloremque voluptatem quo aut enim aut. Et laboriosam ut ratione eveniet. Ut aperiam non delectus dolores quasi excepturi aut nostrum.\nEnim error officia dolore ducimus cupiditate possimus. Temporibus eos culpa non dolor nemo laboriosam. Officia dignissimos ducimus odit aut ut nam aut.\nUt non placeat earum aperiam quod praesentium magnam voluptate. Aut tempore culpa at iure similique fugit. Ut qui deserunt ex ad."], ["available_on", "2017-10-07 11:31:12.459511"], ["slug", "product-1-8483"], ["shipping_category_id", 99], ["created_at", "2018-10-07 11:31:12.585669"], ["updated_at", "2018-10-07 11:31:12.585669"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 81], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 81], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:31:12.590262"], ["created_at", "2018-10-07 11:31:12.590262"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 79], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 79], ["stock_location_id", 57], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 57], ["variant_id", 79], ["created_at", "2018-10-07 11:31:12.632811"], ["updated_at", "2018-10-07 11:31:12.632811"], ["backorderable", "t"]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:31:12.635440"], ["id", 79]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 81], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 81], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 81], ["sluggable_type", "Spree::Product"], ["slug", "product-1-8483"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-8483"], ["sluggable_id", 81], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:31:12.663226"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 81]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:31:12.691890' WHERE 1=0[0m
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:31:12.696151' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:31:12.637817"], ["id", 81]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:31:12.706020' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:31:12.707867' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 81], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (1.5ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 81], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.9ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 81], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (1.3ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 81], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 79], ["id", 66], ["stock_location_id", 57], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:31:36.361264"], ["id", 66]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:31:36.363580"], ["id", 79]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:31:36.366891"], ["id", 81]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 81]]
  [1m[35mSQL (2.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:31:36.371386' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:31:36.375611' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 112], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "darnell@fritsch.info"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "4663dbb22acd723824b018e5afc655108927212ab3bd6a6d4b7d83a5c9f8973559f12c5ae18020abf36135a4d5b7168b3bb858ec333177f946715415ea874687"], ["password_salt", "jFBqAqSTkrCsDcrBbd52"], ["email", "darnell@fritsch.info"], ["login", "darnell@fritsch.info"], ["authentication_token", "xxxx15389118961351xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:31:36.490363"], ["updated_at", "2018-10-07 11:31:36.490363"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 112], ["user_id", 142]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:31:36 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:31:36.519982"], ["last_sign_in_at", "2018-10-07 11:31:36.519982"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:31:36.520971"], ["id", 142]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "ClEPpqpFwBQhqAFsYUYB-w1538911896660"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:31:36.680854"], ["spree_api_key", "e759595ec3437bc1c32bbedb4c43cd1480ab34c3a5705881"], ["id", 142]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 489ms (ActiveRecord: 7.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:32:00.148815"], ["updated_at", "2018-10-07 11:32:00.148815"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:32:00.315539"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 56], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 56], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 56], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 56], ["updated_at", "2018-10-07 11:32:00.341648"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:32:00.346562"], ["updated_at", "2018-10-07 11:32:00.346562"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 56], ["country_id", 56], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-9454"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-9454') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-9454"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 9454"], ["description", "Nesciunt ut error nam perspiciatis maiores. Quis nihil necessitatibus et quasi quisquam ea. Ab aut autem quis veritatis voluptate. Totam labore ut vel est ut cumque. Ut aliquam voluptas illo officiis distinctio iure eos voluptatibus.\nAsperiores fuga architecto et voluptatem. Harum accusantium provident non recusandae totam consequatur maxime. Unde ut asperiores tempora consequuntur dolorum. Ad maxime quisquam ut suscipit.\nQuae perferendis dolores accusantium iste corrupti ad aliquam debitis. Omnis officiis nulla rerum quo nostrum qui dolor. Et unde et iure qui rerum maxime. Qui sed quia eos omnis delectus quisquam voluptatem qui.\nCum occaecati voluptas et exercitationem nam nulla. Rerum cum non ut occaecati. Nam ea molestiae nobis ea assumenda ut voluptas est. Ut ex sint quos et perferendis quisquam aliquid. Labore quia eos doloremque facere impedit dolorem."], ["available_on", "2017-10-07 11:32:00.244529"], ["slug", "product-1-9454"], ["shipping_category_id", 100], ["created_at", "2018-10-07 11:32:00.370619"], ["updated_at", "2018-10-07 11:32:00.370619"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 82], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 82], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:32:00.376878"], ["created_at", "2018-10-07 11:32:00.376878"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 80], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (2.2ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 80], ["stock_location_id", 58], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 58], ["variant_id", 80], ["created_at", "2018-10-07 11:32:00.425941"], ["updated_at", "2018-10-07 11:32:00.425941"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:32:00.428293"], ["id", 80]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 82], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 82], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 82], ["sluggable_type", "Spree::Product"], ["slug", "product-1-9454"]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-9454"], ["sluggable_id", 82], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:32:00.456005"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 82]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:32:00.496229' WHERE 1=0[0m
  [1m[35mSQL (2.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:32:00.500953' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:32:00.429929"], ["id", 82]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:32:00.514799' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:32:00.516617' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 82], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (1.3ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 82], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 80], ["id", 67], ["stock_location_id", 58], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:32:02.245271"], ["id", 67]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:32:02.247452"], ["id", 80]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:32:02.250509"], ["id", 82]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 82]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:32:02.254279' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:32:02.255509' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (3.0ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 113], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "tamesha_lebsack@schimmel.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "0704a25b814c2ee508cc564b1e8302b6484eb7abaf94df8416bb4b919af6ef426785e612a44328826aa37278bd7974188cdc0e0a0b1739ff342ce9c4f752b6af"], ["password_salt", "rJW5yNEpQN3j8SvWggsA"], ["email", "tamesha_lebsack@schimmel.co.uk"], ["login", "tamesha_lebsack@schimmel.co.uk"], ["authentication_token", "xxxx15389119227721xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:32:02.369022"], ["updated_at", "2018-10-07 11:32:02.369022"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 113], ["user_id", 143]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:32:02 +0200
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:32:02.401266"], ["last_sign_in_at", "2018-10-07 11:32:02.401266"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:32:02.402562"], ["id", 143]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "VdQKS9TlMNKnwzBkgXK8Kw1538911922543"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:32:02.564061"], ["spree_api_key", "c3bc26bbad68a0434b16c0afc53d0737e598f017d43ff48c"], ["id", 143]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 503ms (ActiveRecord: 7.1ms)
  [1m[35m (3.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:32:14.293289"], ["updated_at", "2018-10-07 11:32:14.293289"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:32:14.472613"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 57], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 57], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 57], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 57], ["updated_at", "2018-10-07 11:32:14.499348"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:32:14.504093"], ["updated_at", "2018-10-07 11:32:14.504093"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 57], ["country_id", 57], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-9959"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-9959') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-9959"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 9959"], ["description", "Et nobis possimus facere tempore quia quae. Quia fuga impedit architecto explicabo eum incidunt praesentium doloribus. Et quibusdam quod est porro ea. Asperiores ad sint laboriosam non sequi sed eveniet et.\nPlaceat unde qui occaecati iste vero ut. Quo libero accusamus voluptatem minima est pariatur porro. Nemo reiciendis aliquid et qui eaque accusamus aut. Quasi reiciendis velit sunt deserunt iure eligendi."], ["available_on", "2017-10-07 11:32:14.397788"], ["slug", "product-1-9959"], ["shipping_category_id", 101], ["created_at", "2018-10-07 11:32:14.527908"], ["updated_at", "2018-10-07 11:32:14.527908"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 83], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 83], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:32:14.533091"], ["created_at", "2018-10-07 11:32:14.533091"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 81], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 81], ["stock_location_id", 59], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 59], ["variant_id", 81], ["created_at", "2018-10-07 11:32:14.578065"], ["updated_at", "2018-10-07 11:32:14.578065"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:32:14.580440"], ["id", 81]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 83], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 83], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 83], ["sluggable_type", "Spree::Product"], ["slug", "product-1-9959"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-9959"], ["sluggable_id", 83], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:32:14.606935"]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 83]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:32:14.634821' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:32:14.639639' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:32:14.582104"], ["id", 83]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:32:14.649204' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:32:14.650831' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 83], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (1.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 83], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 81], ["id", 68], ["stock_location_id", 59], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:32:16.392771"], ["id", 68]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:32:16.395248"], ["id", 81]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:32:16.398581"], ["id", 83]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 83]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:32:16.402645' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:32:16.404105' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 114], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "sixta.steuber@rosenbaumpollich.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "667e0000d0645abc36bc799321c18c892679ca10893f8693256113a7c3b3034f5911f4c66372809fcd5c51ac13b3e69265631b9c81c90246aa3370d8471c6df0"], ["password_salt", "QZntWz13TZV7fRtUQ4_P"], ["email", "sixta.steuber@rosenbaumpollich.co.uk"], ["login", "sixta.steuber@rosenbaumpollich.co.uk"], ["authentication_token", "xxxx15389119366301xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:32:16.518772"], ["updated_at", "2018-10-07 11:32:16.518772"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 114], ["user_id", 144]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:32:16 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:32:16.549530"], ["last_sign_in_at", "2018-10-07 11:32:16.549530"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:32:16.550590"], ["id", 144]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "VU7KTHqgI2o-mtKoI62HFg1538911936685"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:32:16.704340"], ["spree_api_key", "3b328eafbb06b6901af240c6c9eba4b71005c1d87ec3997a"], ["id", 144]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 523ms (ActiveRecord: 7.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:32:28.294081"], ["updated_at", "2018-10-07 11:32:28.294081"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:32:28.467386"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 58], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 58], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 58], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 58], ["updated_at", "2018-10-07 11:32:28.492681"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:32:28.497789"], ["updated_at", "2018-10-07 11:32:28.497789"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 58], ["country_id", 58], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-404"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-404') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-404"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 404"], ["description", "Et et molestiae dolores neque reiciendis enim est. Sit eum doloribus earum iusto possimus. Qui qui repudiandae est qui. Expedita alias voluptas modi ea.\nReiciendis laborum voluptatibus non commodi unde cupiditate quae. Quam ipsa voluptatem sed dignissimos ad fugiat reprehenderit. Nemo sit nostrum et nihil. Non autem officiis aliquid consequatur quae alias adipisci. Libero ratione blanditiis ipsum esse tenetur.\nRerum dolores molestiae ipsum labore dolorem architecto corrupti ea. Reiciendis et vitae in est ex nihil qui nobis. Rerum consequatur et suscipit provident nam eum quo tempora. Vel aut sequi in quo. Nostrum quo eveniet sunt quo possimus rerum.\nEt aut placeat tempora molestiae in. Quisquam sed accusamus dolores tempore aliquid voluptatem iste quia. Consectetur exercitationem laborum eligendi eos itaque tempora rerum. Aliquam maxime sed et consequuntur.\nVitae est sunt ratione doloribus id ducimus exercitationem quam. Ratione dolore reiciendis unde voluptatibus. Quas consequatur non vel quia odit."], ["available_on", "2017-10-07 11:32:28.392008"], ["slug", "product-1-404"], ["shipping_category_id", 102], ["created_at", "2018-10-07 11:32:28.521024"], ["updated_at", "2018-10-07 11:32:28.521024"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 84], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 84], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:32:28.525782"], ["created_at", "2018-10-07 11:32:28.525782"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 82], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 82], ["stock_location_id", 60], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 60], ["variant_id", 82], ["created_at", "2018-10-07 11:32:28.565643"], ["updated_at", "2018-10-07 11:32:28.565643"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:32:28.568062"], ["id", 82]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 84], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 84], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 84], ["sluggable_type", "Spree::Product"], ["slug", "product-1-404"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-404"], ["sluggable_id", 84], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:32:28.596906"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 84]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:32:28.623163' WHERE 1=0[0m
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:32:28.627520' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:32:28.569690"], ["id", 84]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:32:28.636763' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:32:28.638558' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 84], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 82], ["id", 69], ["stock_location_id", 60], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:32:28.660987"], ["id", 69]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:32:28.663209"], ["id", 82]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:32:28.666736"], ["id", 84]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 84]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:32:28.670842' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:32:28.672037' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 84], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 115], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "eusebia@west.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "e4bff65311c73b64d3687299f14580b980dcbfa0bfa582d72a4c4040d3b58d98b1ff9f01c33c737b3d739ef46915543d6dcf37fe8803e76899a8a9e6e3ebffa8"], ["password_salt", "okFNAQXksE31Zfz4GTc9"], ["email", "eusebia@west.ca"], ["login", "eusebia@west.ca"], ["authentication_token", "xxxx15389119485991xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:32:28.765100"], ["updated_at", "2018-10-07 11:32:28.765100"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 115], ["user_id", 145]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:32:28 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:32:28.795099"], ["last_sign_in_at", "2018-10-07 11:32:28.795099"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:32:28.796063"], ["id", 145]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "JMe4um848X4bKWn0cDcIOA1538911948923"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:32:28.941845"], ["spree_api_key", "df8c128def2ba70dfe9cf5b2779e027edebe947f14de6cb3"], ["id", 145]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 491ms (ActiveRecord: 6.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:33:57.185037"], ["updated_at", "2018-10-07 11:33:57.185037"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:33:57.349648"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 59], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 59], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 59], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 59], ["updated_at", "2018-10-07 11:33:57.373699"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:33:57.378583"], ["updated_at", "2018-10-07 11:33:57.378583"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 59], ["country_id", 59], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-5741"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-5741') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-5741"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 5741"], ["description", "Et quod laborum dolor quis sed voluptatibus. Ut assumenda eos est enim. Eius qui ab sed voluptatem quae aut nihil et. Delectus fugiat explicabo unde quis laudantium optio aut asperiores. Sunt doloremque quo labore voluptas reprehenderit aut necessitatibus.\nRepudiandae voluptatem veniam consequatur et quas. Culpa incidunt dolore ipsam omnis id eius. Ea quo eos id culpa omnis. Amet rem odio ut qui facere maxime doloremque sapiente.\nDolor repellendus expedita libero iusto nulla qui. Dicta eum rerum et voluptatem doloremque blanditiis. Ut dolores sit facilis et quaerat dolorem quas pariatur."], ["available_on", "2017-10-07 11:33:57.279940"], ["slug", "product-1-5741"], ["shipping_category_id", 103], ["created_at", "2018-10-07 11:33:57.401441"], ["updated_at", "2018-10-07 11:33:57.401441"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 85], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 85], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:33:57.405771"], ["created_at", "2018-10-07 11:33:57.405771"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 83], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 83], ["stock_location_id", 61], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 61], ["variant_id", 83], ["created_at", "2018-10-07 11:33:57.447799"], ["updated_at", "2018-10-07 11:33:57.447799"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:33:57.450132"], ["id", 83]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 85], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 85], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 85], ["sluggable_type", "Spree::Product"], ["slug", "product-1-5741"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-5741"], ["sluggable_id", 85], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:33:57.476440"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 85]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:33:57.503695' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:33:57.507803' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:33:57.451625"], ["id", 85]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:33:57.515999' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:33:57.517514' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 85], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 85], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 83], ["id", 70], ["stock_location_id", 61], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:33:57.541194"], ["id", 70]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:33:57.543305"], ["id", 83]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:33:57.546428"], ["id", 85]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 85]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:33:57.550184' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:33:57.551426' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 116], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "kevin.mayer@hegmannziemann.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "b469e40b8d550ec044d6ff7352351aa6688cc182bd91d46c4bc31010cd3a6050396558b27410c523d16db0a9688b19053b730f045345bd457067eab15de8a606"], ["password_salt", "K1zssz1A4GaQxJs8ifRw"], ["email", "kevin.mayer@hegmannziemann.biz"], ["login", "kevin.mayer@hegmannziemann.biz"], ["authentication_token", "xxxx15389120374341xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:33:57.644257"], ["updated_at", "2018-10-07 11:33:57.644257"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 116], ["user_id", 146]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:33:57 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:33:57.670936"], ["last_sign_in_at", "2018-10-07 11:33:57.670936"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:33:57.671757"], ["id", 146]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "Hasdcu5jZlj4DDfQgOJkcQ1538912037805"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:33:57.824315"], ["spree_api_key", "a7b36599edf5bbcc3c6c64fcf5cacc524c032da7d3a277ce"], ["id", 146]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 487ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:38:27.642079"], ["updated_at", "2018-10-07 11:38:27.642079"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:38:27.810920"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 60], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 60], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 60], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 60], ["updated_at", "2018-10-07 11:38:27.833979"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:38:27.838623"], ["updated_at", "2018-10-07 11:38:27.838623"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 60], ["country_id", 60], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-8840"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-8840') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-8840"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 8840"], ["description", "Atque omnis saepe quam quis vel eveniet. Dolores accusantium et quo voluptas nostrum. Consequuntur reiciendis deserunt quo dolorem. Libero laboriosam maiores explicabo quaerat.\nOccaecati quia quo eos doloremque. Voluptate quisquam dicta eum sint. Aut et repellat error dolor occaecati vel laborum.\nVel qui ipsum quod est numquam. Commodi aut dolorem quia repudiandae ut. Cumque repellendus minima nesciunt sed non cupiditate.\nAsperiores quo non est dolorem. Velit aliquid iusto voluptatem blanditiis. Culpa adipisci quo vitae soluta quos.\nDucimus pariatur esse sed reiciendis. Rerum dolorem recusandae impedit veritatis deserunt. Sed dolor libero molestiae voluptatem. Aspernatur aut magnam et autem animi et. Velit quibusdam quas quis consequatur quisquam vitae consequatur corporis."], ["available_on", "2017-10-07 11:38:27.736130"], ["slug", "product-1-8840"], ["shipping_category_id", 104], ["created_at", "2018-10-07 11:38:27.861010"], ["updated_at", "2018-10-07 11:38:27.861010"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 86], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 86], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:38:27.864953"], ["created_at", "2018-10-07 11:38:27.864953"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 84], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 84], ["stock_location_id", 62], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 62], ["variant_id", 84], ["created_at", "2018-10-07 11:38:27.907017"], ["updated_at", "2018-10-07 11:38:27.907017"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:38:27.909218"], ["id", 84]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 86], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 86], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 86], ["sluggable_type", "Spree::Product"], ["slug", "product-1-8840"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-8840"], ["sluggable_id", 86], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:38:27.934550"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 86]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:38:27.960253' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:38:27.964453' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:38:27.910704"], ["id", 86]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:38:27.972692' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:38:27.974247' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 86], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 84], ["id", 71], ["stock_location_id", 62], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:38:27.995392"], ["id", 71]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:38:27.997592"], ["id", 84]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:38:28.000832"], ["id", 86]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 86]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:38:28.004543' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:38:28.005791' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 86], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 117], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "valery@cummerata.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "4d35f3b786ad66ab49f92ad29860735305c9078a87ed0ef963a77ed0714019e85b826100045906e64c4b5d111c0758d4708ceac42a821cdc74e5fbe5d6c8e7bd"], ["password_salt", "LoMzuUX526hsXCY4WygJ"], ["email", "valery@cummerata.name"], ["login", "valery@cummerata.name"], ["authentication_token", "xxxx15389123086131xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:38:28.140265"], ["updated_at", "2018-10-07 11:38:28.140265"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 117], ["user_id", 147]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:38:28 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:38:28.168050"], ["last_sign_in_at", "2018-10-07 11:38:28.168050"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:38:28.168971"], ["id", 147]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "dvPP5MNRGtDG4xHGcJk38w1538912308297"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:38:28.315887"], ["spree_api_key", "8a5bca9bf79d098f14c7a5057f37fdbc86dac9961028c7e3"], ["id", 147]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 490ms (ActiveRecord: 6.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:47:09.395142"], ["updated_at", "2018-10-07 11:47:09.395142"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:47:09.562337"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 61], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 61], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 61], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 61], ["updated_at", "2018-10-07 11:47:09.589799"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:47:09.596917"], ["updated_at", "2018-10-07 11:47:09.596917"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 61], ["country_id", 61], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-711"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-711') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-711"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 711"], ["description", "Saepe ratione reprehenderit omnis quaerat voluptatibus sed velit itaque. Saepe rem sed perspiciatis optio officiis cum. Non veniam non quam blanditiis.\nEt sed odit eum ex. Qui ea officiis odio voluptatem sed consequatur voluptas. Ipsum eveniet laudantium ut beatae mollitia ducimus. In consequuntur ipsum quia quia dignissimos quaerat."], ["available_on", "2017-10-07 11:47:09.491805"], ["slug", "product-1-711"], ["shipping_category_id", 105], ["created_at", "2018-10-07 11:47:09.622701"], ["updated_at", "2018-10-07 11:47:09.622701"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 87], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 87], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:47:09.627080"], ["created_at", "2018-10-07 11:47:09.627080"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 85], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 85], ["stock_location_id", 63], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 63], ["variant_id", 85], ["created_at", "2018-10-07 11:47:09.671562"], ["updated_at", "2018-10-07 11:47:09.671562"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:47:09.674708"], ["id", 85]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 87], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 87], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 87], ["sluggable_type", "Spree::Product"], ["slug", "product-1-711"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-711"], ["sluggable_id", 87], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:47:09.703322"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 87]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:47:09.731294' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:47:09.736009' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:47:09.676819"], ["id", 87]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:47:09.744810' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:47:09.746634' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 87], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 85], ["id", 72], ["stock_location_id", 63], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:47:09.780786"], ["id", 72]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:47:09.783285"], ["id", 85]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:47:09.786837"], ["id", 87]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 87]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:47:09.791126' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:47:09.792485' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:47:09.804218"], ["updated_at", "2018-10-07 11:47:09.804218"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (2.8ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:47:09.820150"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 62], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 62], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 62], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 62], ["updated_at", "2018-10-07 11:47:09.835183"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:47:09.837743"], ["updated_at", "2018-10-07 11:47:09.837743"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 62], ["country_id", 62], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-2320"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-2320') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-2320"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 2320"], ["description", "Quas et ducimus sint architecto. Consequuntur quas qui harum alias ut in odio placeat. Voluptatem facere non dolores qui. Expedita sed est et quo ipsam quas.\nMolestias necessitatibus sed quidem eaque qui at accusamus enim. At magni quis qui consequatur. Dignissimos et iure cum qui deleniti est. Vel quam quo aut recusandae sit deserunt."], ["available_on", "2017-10-07 11:47:09.813056"], ["slug", "product-2-2320"], ["shipping_category_id", 106], ["created_at", "2018-10-07 11:47:09.850183"], ["updated_at", "2018-10-07 11:47:09.850183"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 88], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 88], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:47:09.854063"], ["created_at", "2018-10-07 11:47:09.854063"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 86], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (4.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 88], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 86], ["stock_location_id", 64], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 64], ["variant_id", 86], ["created_at", "2018-10-07 11:47:09.873408"], ["updated_at", "2018-10-07 11:47:09.873408"], ["backorderable", "t"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:47:09.875646"], ["id", 86]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 88], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 88], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 88], ["sluggable_type", "Spree::Product"], ["slug", "product-2-2320"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-2320"], ["sluggable_id", 88], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:47:09.885779"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 88]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:47:09.890378' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:47:09.891622' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:47:09.877072"], ["id", 88]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:47:09.894773' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:47:09.895966' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.9ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 88], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 86], ["id", 73], ["stock_location_id", 64], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:47:09.909975"], ["id", 73]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:47:09.912046"], ["id", 86]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 88], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:47:09.915143"], ["id", 88]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 88]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:47:09.919159' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:47:09.920382' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 88], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 11:47:09.928997"], ["updated_at", "2018-10-07 11:47:09.928997"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 11:47:09.943603"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 63], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 63], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 63], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 63], ["updated_at", "2018-10-07 11:47:09.950736"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:47:09.953118"], ["updated_at", "2018-10-07 11:47:09.953118"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 63], ["country_id", 63], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-5132"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-5132') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-5132"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 5132"], ["description", "Adipisci esse iure quae accusamus. Et veniam ut voluptas provident fugit. Quia voluptatem pariatur qui voluptas. Molestiae rerum qui et doloribus necessitatibus.\nPorro culpa error accusantium est. Dolorum omnis ut quas blanditiis labore natus. Alias est ad minus praesentium magnam sint. Qui est dolor id voluptas."], ["available_on", "2017-10-07 11:47:09.936782"], ["slug", "product-3-5132"], ["shipping_category_id", 107], ["created_at", "2018-10-07 11:47:09.965500"], ["updated_at", "2018-10-07 11:47:09.965500"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 89], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 89], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:47:09.969248"], ["created_at", "2018-10-07 11:47:09.969248"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 87], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 87], ["stock_location_id", 65], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 65], ["variant_id", 87], ["created_at", "2018-10-07 11:47:09.984737"], ["updated_at", "2018-10-07 11:47:09.984737"], ["backorderable", "t"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:47:09.986697"], ["id", 87]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 89], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 89], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 89], ["sluggable_type", "Spree::Product"], ["slug", "product-3-5132"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-5132"], ["sluggable_id", 89], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:47:09.996171"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 89]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:47:09.999975' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:47:10.001260' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:47:09.988024"], ["id", 89]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:47:10.004984' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:47:10.006289' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 118], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "hester.larkin@zulauf.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "225e4eb1750b29103bb52ba58cc048d753c02eea533172e227b839b91d7c22b18a194cbbc703401d981f4417d686adb76700916df5a32dc356dcf49e4360ab78"], ["password_salt", "Xze_zg9fEbFsusMV1hma"], ["email", "hester.larkin@zulauf.us"], ["login", "hester.larkin@zulauf.us"], ["authentication_token", "xxxx15389128303751xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:47:10.090362"], ["updated_at", "2018-10-07 11:47:10.090362"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 118], ["user_id", 148]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:47:10 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:47:10.120073"], ["last_sign_in_at", "2018-10-07 11:47:10.120073"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:47:10.121194"], ["id", 148]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "Ec0y_eqO2V4YwAysUIC5Sw1538912830250"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:47:10.268516"], ["spree_api_key", "bd6de503e5cc0bbdda707db3888f5fba00efdd0241ec1f11"], ["id", 148]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 501ms (ActiveRecord: 6.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:50:30.533828"], ["updated_at", "2018-10-07 11:50:30.533828"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (3.9ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:50:30.723116"]]
  [1m[35m (3.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.8ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 64], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 64], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 64], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 64], ["updated_at", "2018-10-07 11:50:30.754187"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:50:30.759576"], ["updated_at", "2018-10-07 11:50:30.759576"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 64], ["country_id", 64], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-8233"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-8233') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-8233"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 8233"], ["description", "Excepturi sunt id molestiae aut delectus. Voluptatem voluptas eaque ut accusamus nostrum ipsa. Ab cumque ipsam minus sit. Sit laboriosam incidunt corporis unde quae officia. Minima ab quasi corrupti inventore ut."], ["available_on", "2017-10-07 11:50:30.642859"], ["slug", "product-1-8233"], ["shipping_category_id", 108], ["created_at", "2018-10-07 11:50:30.789091"], ["updated_at", "2018-10-07 11:50:30.789091"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 90], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 90], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:50:30.794057"], ["created_at", "2018-10-07 11:50:30.794057"]]
  [1m[35mSQL (3.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 88], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 88], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 90], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 88], ["stock_location_id", 66], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 66], ["variant_id", 88], ["created_at", "2018-10-07 11:50:30.856565"], ["updated_at", "2018-10-07 11:50:30.856565"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:50:30.858798"], ["id", 88]]
  [1m[36mActsAsTaggableOn::Tagging Load (2.1ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 90], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 90], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 90], ["sluggable_type", "Spree::Product"], ["slug", "product-1-8233"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-8233"], ["sluggable_id", 90], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:50:30.889536"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 90]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:50:30.921654' WHERE 1=0[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:50:30.925749' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:50:30.860228"], ["id", 90]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:50:30.935061' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:50:30.936826' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:50:31.075987"], ["updated_at", "2018-10-07 11:50:31.075987"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:50:31.090569"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 65], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 65], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 65], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 65], ["updated_at", "2018-10-07 11:50:31.097695"]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:50:31.100799"], ["updated_at", "2018-10-07 11:50:31.100799"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 65], ["country_id", 65], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-7937"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-7937') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-7937"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 7937"], ["description", "Sit ipsam sit nihil inventore. Ea velit temporibus sunt ratione. Repellat laudantium culpa ipsum quaerat.\nQuia commodi asperiores harum repudiandae quae omnis qui. Velit dolorum autem quo vel temporibus impedit. Vero odit voluptas exercitationem sint. Omnis doloribus perferendis iste tempore nemo distinctio repellat.\nEt voluptatem rerum nemo animi delectus. In nihil accusantium rerum provident. Ad quo accusamus autem dolore ut. Ratione dolor dolorum at quo error. At repudiandae aut vel nulla quibusdam.\nEum recusandae corporis illo nisi vel eveniet earum facilis. Optio aliquam voluptatem laudantium voluptatum nihil. Cumque tempore unde vero a. Soluta veritatis dolor fugiat deserunt quo. Eum dolorem eius sunt aut et ad.\nDeleniti qui cum accusamus illum occaecati id ab ut. Reiciendis quis facilis et officiis temporibus. Ab soluta et magni qui."], ["available_on", "2017-10-07 11:50:31.083326"], ["slug", "product-2-7937"], ["shipping_category_id", 109], ["created_at", "2018-10-07 11:50:31.113955"], ["updated_at", "2018-10-07 11:50:31.113955"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 91], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 91], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:50:31.117989"], ["created_at", "2018-10-07 11:50:31.117989"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 89], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 89], ["stock_location_id", 67], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 67], ["variant_id", 89], ["created_at", "2018-10-07 11:50:31.132200"], ["updated_at", "2018-10-07 11:50:31.132200"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:50:31.134141"], ["id", 89]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 91], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 91], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 91], ["sluggable_type", "Spree::Product"], ["slug", "product-2-7937"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-7937"], ["sluggable_id", 91], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:50:31.142981"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 91]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:50:31.147218' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:50:31.148515' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:50:31.135511"], ["id", 91]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:50:31.151652' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:50:31.152884' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 91], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 89], ["id", 76], ["stock_location_id", 67], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:50:31.166701"], ["id", 76]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:50:31.169006"], ["id", 89]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:50:31.172203"], ["id", 91]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 91]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:50:31.177398' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:50:31.178694' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.8ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 91], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 11:50:31.189973"], ["updated_at", "2018-10-07 11:50:31.189973"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 11:50:31.204781"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 66], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 66], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 66], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 66], ["updated_at", "2018-10-07 11:50:31.211373"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:50:31.215728"], ["updated_at", "2018-10-07 11:50:31.215728"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 66], ["country_id", 66], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-9253"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-9253') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-9253"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 9253"], ["description", "Rem eaque et veritatis numquam aut quo architecto nostrum. Quia et velit tempore occaecati incidunt. Vero aliquam ut ad accusantium repellendus enim eos. Omnis veniam dolores et repudiandae. Corporis sunt aliquam cupiditate voluptates quae ratione.\nPraesentium laudantium facilis dolorum asperiores velit qui. Est nostrum omnis dignissimos officia. Possimus quos eos nulla quis non. Impedit quas optio dolores inventore enim deleniti. Et dicta expedita aut sit ex.\nSimilique et et exercitationem quod facere maxime quisquam. Porro tempora laboriosam quam ut amet ut esse. Delectus qui sed rerum nemo et consequatur. Provident est ducimus dolore a aut voluptas exercitationem et.\nLabore molestiae at magni eos quisquam. Odit non nesciunt aut quos. Veniam vitae et consequatur voluptate beatae cupiditate. Reiciendis quibusdam in consequuntur debitis animi nesciunt et.\nLabore in a amet sequi. Sapiente illum nihil labore voluptas tempore et quod. Enim eum recusandae atque maxime eos et excepturi. Libero sunt vel officia error cumque ipsam quis. Eum tenetur ipsa magnam aut qui incidunt sunt."], ["available_on", "2017-10-07 11:50:31.197945"], ["slug", "product-3-9253"], ["shipping_category_id", 110], ["created_at", "2018-10-07 11:50:31.228118"], ["updated_at", "2018-10-07 11:50:31.228118"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 92], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 92], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:50:31.232123"], ["created_at", "2018-10-07 11:50:31.232123"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 90], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 90], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 90], ["stock_location_id", 68], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 68], ["variant_id", 90], ["created_at", "2018-10-07 11:50:31.247834"], ["updated_at", "2018-10-07 11:50:31.247834"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:50:31.249710"], ["id", 90]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 92], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 92], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 92], ["sluggable_type", "Spree::Product"], ["slug", "product-3-9253"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-9253"], ["sluggable_id", 92], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:50:31.258398"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 92]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:50:31.262306' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:50:31.263520' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:50:31.251093"], ["id", 92]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:50:31.266411' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:50:31.267614' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 92], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 90], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 90], ["id", 77], ["stock_location_id", 68], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:50:31.279032"], ["id", 77]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:50:31.281222"], ["id", 90]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:50:31.284422"], ["id", 92]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 92]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:50:31.288464' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:50:31.289763' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 119], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "ardath.reilly@schuppe.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "537d80375a9c39194b9e7cbb58cf2de9088f65275be779ba202581ac4ad9e469e41dd5231cb3d82142448bbad9e32a7452457f653b1dce9634d4ab066488c195"], ["password_salt", "Ky3eVXGxW7rChnsz9TFn"], ["email", "ardath.reilly@schuppe.us"], ["login", "ardath.reilly@schuppe.us"], ["authentication_token", "xxxx15389130319931xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:50:31.377934"], ["updated_at", "2018-10-07 11:50:31.377934"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 119], ["user_id", 149]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:50:31 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:50:31.406288"], ["last_sign_in_at", "2018-10-07 11:50:31.406288"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:50:31.407249"], ["id", 149]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "5n3G3XEd_YdaTfV1xcxP8Q1538913031537"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:50:31.557195"], ["spree_api_key", "ab0828da087610826a790b979e8ce2a6df3ea7538e5f1cb8"], ["id", 149]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 493ms (ActiveRecord: 7.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:51:02.108454"], ["updated_at", "2018-10-07 11:51:02.108454"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:51:02.279115"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 67], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 67], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 67], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 67], ["updated_at", "2018-10-07 11:51:02.305062"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:51:02.310273"], ["updated_at", "2018-10-07 11:51:02.310273"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 67], ["country_id", 67], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-9156"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-9156') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-9156"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 9156"], ["description", "Qui nemo et natus nam molestiae magni aperiam. Reprehenderit molestias aut expedita ipsum repudiandae quam fugit. Corrupti voluptatibus dolores quia qui vel.\nAd non exercitationem ducimus accusamus repellendus molestiae iste accusantium. Fugiat omnis reprehenderit nam quibusdam et. Doloremque tempora ipsa dolores possimus. Hic aperiam nostrum rerum reiciendis dolor.\nDebitis quae voluptatibus amet illo rerum sed laborum eveniet. Et aut aut dicta ut. Qui ut rerum quo et. Omnis et facilis voluptatibus sapiente quis. Occaecati impedit in sit sint quia nulla.\nTempora cum saepe voluptatibus amet necessitatibus. Velit ex et doloribus occaecati est aut ea saepe. Mollitia assumenda earum illum officiis voluptas.\nVero ducimus aperiam fugit ut. Labore ab qui voluptatem deleniti. Cumque est in expedita et natus delectus voluptas ratione. Nostrum vel ut rerum veniam autem."], ["available_on", "2017-10-07 11:51:02.208848"], ["slug", "product-1-9156"], ["shipping_category_id", 111], ["created_at", "2018-10-07 11:51:02.335557"], ["updated_at", "2018-10-07 11:51:02.335557"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 93], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 93], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:51:02.340193"], ["created_at", "2018-10-07 11:51:02.340193"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 91], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 91], ["stock_location_id", 69], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 69], ["variant_id", 91], ["created_at", "2018-10-07 11:51:02.382480"], ["updated_at", "2018-10-07 11:51:02.382480"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:02.384797"], ["id", 91]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 93], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 93], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 93], ["sluggable_type", "Spree::Product"], ["slug", "product-1-9156"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-9156"], ["sluggable_id", 93], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:51:02.411640"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 93]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:02.441802' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:02.446139' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:02.386394"], ["id", 93]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:02.454550' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:02.456242' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 93], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 91], ["id", 78], ["stock_location_id", 69], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:51:02.477450"], ["id", 78]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:02.479738"], ["id", 91]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:02.483509"], ["id", 93]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 93]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:02.487982' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:02.489359' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:51:02.496045"], ["updated_at", "2018-10-07 11:51:02.496045"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:51:02.511689"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 68], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 68], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 68], ["LIMIT", 1]]
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 68], ["updated_at", "2018-10-07 11:51:02.519152"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:51:02.525785"], ["updated_at", "2018-10-07 11:51:02.525785"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 68], ["country_id", 68], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-6901"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-6901') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-6901"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 6901"], ["description", "Molestiae non quidem et doloremque nesciunt adipisci. Quisquam vel facere provident non temporibus iure veritatis aspernatur. Quasi consequatur nulla veritatis asperiores sint nostrum.\nPlaceat eum temporibus quae hic ratione. Laborum molestias tempora totam hic. Distinctio voluptatem eos iusto ipsam totam doloremque culpa eius. Occaecati sint ut magni est. Est harum aut eveniet autem nesciunt sequi voluptatem odit.\nItaque cumque qui voluptatibus accusantium. Ut nulla veniam modi eos. Doloremque sunt nemo ad ut repellendus magni.\nReiciendis aut dolor aliquid qui accusamus aut quia hic. Iste quo minima distinctio provident architecto quos repudiandae. Qui est sint nemo sed id vel. Rerum quis aspernatur quasi rerum. Quisquam quidem quia quo saepe harum.\nNeque sapiente ullam quasi iure. Debitis voluptatum nisi similique sit illum culpa. Facere inventore ratione cum aut delectus fugiat ut magni. Omnis ut dolorum voluptate architecto. Nihil odio error dolorem quae voluptas."], ["available_on", "2017-10-07 11:51:02.504980"], ["slug", "product-2-6901"], ["shipping_category_id", 112], ["created_at", "2018-10-07 11:51:02.539444"], ["updated_at", "2018-10-07 11:51:02.539444"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 94], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 94], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:51:02.543674"], ["created_at", "2018-10-07 11:51:02.543674"]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 92], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (2.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 92], ["stock_location_id", 70], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 70], ["variant_id", 92], ["created_at", "2018-10-07 11:51:02.562917"], ["updated_at", "2018-10-07 11:51:02.562917"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:02.565383"], ["id", 92]]
  [1m[36mActsAsTaggableOn::Tagging Load (3.0ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 94], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (1.3ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 94], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 94], ["sluggable_type", "Spree::Product"], ["slug", "product-2-6901"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-6901"], ["sluggable_id", 94], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:51:02.580703"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 94]]
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:02.587451' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:02.590665' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:02.567063"], ["id", 94]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:02.594722' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:02.595955' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 94], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (3.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 92], ["id", 79], ["stock_location_id", 70], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:51:02.615283"], ["id", 79]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:02.617698"], ["id", 92]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:02.621258"], ["id", 94]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 94]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:02.625363' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:02.626682' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 94], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 11:51:02.641115"], ["updated_at", "2018-10-07 11:51:02.641115"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 11:51:02.656518"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 69], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 69], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 69], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 69], ["updated_at", "2018-10-07 11:51:02.670067"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:51:02.672585"], ["updated_at", "2018-10-07 11:51:02.672585"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 69], ["country_id", 69], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-9548"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-9548') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-9548"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 9548"], ["description", "Architecto reprehenderit consequuntur voluptatum autem fuga et recusandae et. Adipisci labore qui asperiores nostrum aut. Nihil omnis mollitia harum ex officiis. Voluptates autem qui ex eligendi rerum sit officia."], ["available_on", "2017-10-07 11:51:02.649456"], ["slug", "product-3-9548"], ["shipping_category_id", 113], ["created_at", "2018-10-07 11:51:02.691743"], ["updated_at", "2018-10-07 11:51:02.691743"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 95], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 95], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:51:02.695725"], ["created_at", "2018-10-07 11:51:02.695725"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 93], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 93], ["stock_location_id", 71], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 71], ["variant_id", 93], ["created_at", "2018-10-07 11:51:02.710861"], ["updated_at", "2018-10-07 11:51:02.710861"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:02.712922"], ["id", 93]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 95], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 95], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 95], ["sluggable_type", "Spree::Product"], ["slug", "product-3-9548"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-9548"], ["sluggable_id", 95], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:51:02.722182"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 95]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:02.726272' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:02.727609' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:02.714414"], ["id", 95]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:02.731869' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:02.736593' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.8ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 95], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 93], ["id", 80], ["stock_location_id", 71], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:51:02.749430"], ["id", 80]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:02.751600"], ["id", 93]]
  [1m[36mSpree::Product Load (1.9ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:02.760856"], ["id", 95]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 95]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:02.765490' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:02.766799' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (3.7ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 120], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "ricardo.hettinger@hammeskshlerin.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "b7d29ed4ffffef30536d144aeb78c148caf6b0ab34d1a6ae09ba91047eaddaf69efa20d3a5a869d65cc9dfa0780559358ce69b0b65cc0591793c235bd42cd2ee"], ["password_salt", "KsCFpMzvz4-74fWdxsp3"], ["email", "ricardo.hettinger@hammeskshlerin.biz"], ["login", "ricardo.hettinger@hammeskshlerin.biz"], ["authentication_token", "xxxx15389130622921xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:51:02.874060"], ["updated_at", "2018-10-07 11:51:02.874060"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 120], ["user_id", 150]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:51:02 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:51:02.903275"], ["last_sign_in_at", "2018-10-07 11:51:02.903275"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:51:02.904230"], ["id", 150]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "UGiTHuaL4MdQWfiaj5n34A1538913063032"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:51:03.052356"], ["spree_api_key", "d4e2c7abfdb092abb45e5cb0bc32c79dbbe87c4ef8d0d7ef"], ["id", 150]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 487ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:51:38.802861"], ["updated_at", "2018-10-07 11:51:38.802861"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:51:38.967809"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 70], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 70], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 70], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 70], ["updated_at", "2018-10-07 11:51:38.994049"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:51:38.998804"], ["updated_at", "2018-10-07 11:51:38.998804"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 70], ["country_id", 70], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-3982"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-3982') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-3982"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 3982"], ["description", "Excepturi dolor quis ea et. Ullam quod maxime temporibus et modi numquam asperiores. Sint nisi repellendus qui id quo. Corrupti beatae et neque mollitia architecto.\nAut qui ea quis nemo error soluta dolores voluptatem. Velit ut eaque dolores cumque ipsum atque excepturi. Ducimus omnis voluptatem sit quo. Animi fugit repellat est est accusantium mollitia odit.\nOdit ducimus fugit aliquid nam doloribus voluptas. Praesentium voluptatem hic corrupti sit quasi eos atque. Dolorem necessitatibus voluptatem officiis tempore voluptatem. Et quaerat voluptatem in consequatur. Quaerat sed at ut inventore rerum aliquam pariatur.\nQui animi quibusdam hic et accusamus non amet. Occaecati dignissimos voluptate autem laboriosam quia vel eveniet molestias. Consectetur ut autem natus quaerat. Dolorem asperiores accusamus maiores omnis perferendis et et incidunt.\nRatione porro consequuntur quam autem ipsam temporibus ut. Aut et beatae ea debitis. Omnis rerum ea et dolor repudiandae suscipit. Architecto et voluptate ab nemo. Sit voluptas sed et sapiente unde esse."], ["available_on", "2017-10-07 11:51:38.898588"], ["slug", "product-1-3982"], ["shipping_category_id", 114], ["created_at", "2018-10-07 11:51:39.022598"], ["updated_at", "2018-10-07 11:51:39.022598"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 96], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 96], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:51:39.027389"], ["created_at", "2018-10-07 11:51:39.027389"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 94], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 94], ["stock_location_id", 72], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 72], ["variant_id", 94], ["created_at", "2018-10-07 11:51:39.069242"], ["updated_at", "2018-10-07 11:51:39.069242"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:39.071537"], ["id", 94]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 96], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 96], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 96], ["sluggable_type", "Spree::Product"], ["slug", "product-1-3982"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-3982"], ["sluggable_id", 96], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:51:39.099375"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 96]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:39.126537' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:39.131539' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:39.073095"], ["id", 96]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:39.139641' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:39.141092' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 96], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 94], ["id", 81], ["stock_location_id", 72], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:51:39.163854"], ["id", 81]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:39.166289"], ["id", 94]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:39.169560"], ["id", 96]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 96]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:39.173588' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:39.174862' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:51:39.180940"], ["updated_at", "2018-10-07 11:51:39.180940"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:51:39.197236"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 71], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 71], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 71], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 71], ["updated_at", "2018-10-07 11:51:39.205079"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:51:39.210019"], ["updated_at", "2018-10-07 11:51:39.210019"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 71], ["country_id", 71], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-3580"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-3580') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-3580"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 3580"], ["description", "Itaque corporis occaecati necessitatibus et pariatur reprehenderit quod. Id voluptatem repellendus inventore quas. Tenetur facere mollitia exercitationem sint est alias voluptas voluptas. Sunt totam eligendi voluptatem nihil et. Repellat assumenda libero nostrum numquam qui.\nInventore quas earum dolor accusamus omnis. Aliquam dicta quis suscipit praesentium eius vero ea. Debitis harum voluptatem voluptatem quia qui distinctio rem. Expedita consectetur veniam quaerat sequi. Soluta totam repudiandae aut nihil rerum cumque fugit qui.\nQui aspernatur ut quia rerum. Molestias nesciunt qui quasi velit debitis nisi voluptas dolores. Minus ipsa aut quasi aut corporis. Quam libero eveniet rerum delectus aut laboriosam.\nHarum qui beatae blanditiis pariatur voluptatem maiores. Voluptatum voluptate fugiat optio dignissimos cupiditate dolorem hic possimus. Quis est voluptatem nulla et sit voluptas. Voluptatem facilis ut expedita minus quae dolorem."], ["available_on", "2017-10-07 11:51:39.190532"], ["slug", "product-2-3580"], ["shipping_category_id", 115], ["created_at", "2018-10-07 11:51:39.223297"], ["updated_at", "2018-10-07 11:51:39.223297"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 97], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 97], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:51:39.227418"], ["created_at", "2018-10-07 11:51:39.227418"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 95], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 95], ["stock_location_id", 73], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 73], ["variant_id", 95], ["created_at", "2018-10-07 11:51:39.242765"], ["updated_at", "2018-10-07 11:51:39.242765"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:39.244815"], ["id", 95]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 97], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 97], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 97], ["sluggable_type", "Spree::Product"], ["slug", "product-2-3580"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-3580"], ["sluggable_id", 97], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:51:39.254043"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 97]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:39.258254' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:39.259645' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:39.246276"], ["id", 97]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:39.262664' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:39.263831' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 97], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 95], ["id", 82], ["stock_location_id", 73], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:51:39.275675"], ["id", 82]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:39.277967"], ["id", 95]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:39.281363"], ["id", 97]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 97]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:39.285500' WHERE 1=0[0m
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:39.286732' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 97], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 11:51:39.298100"], ["updated_at", "2018-10-07 11:51:39.298100"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.8ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 11:51:39.313716"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 72], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 72], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 72], ["LIMIT", 1]]
  [1m[35mSQL (2.7ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 72], ["updated_at", "2018-10-07 11:51:39.321355"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:51:39.326575"], ["updated_at", "2018-10-07 11:51:39.326575"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 72], ["country_id", 72], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-3') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-3"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 3"], ["description", "Illum voluptates sequi perspiciatis et dolorum deleniti maxime. Voluptatem aperiam placeat reiciendis sunt reprehenderit itaque enim sunt. In illo fuga ut aut explicabo tempora dolor. Consequatur est atque quas reiciendis dolor quo. Sequi reprehenderit voluptatem quia est alias.\nVel consequatur vitae similique molestiae necessitatibus eos. Ipsum hic qui et explicabo sunt minima id. Consequatur ea eveniet qui rerum quisquam et.\nQuia quisquam velit incidunt quae doloribus. Eveniet rerum illum et dolorem voluptatem eos quaerat. Quia veritatis aliquid sed rem qui. Itaque sed soluta omnis aspernatur eligendi.\nQuisquam autem qui modi quos nihil omnis ipsam. Qui earum officiis consequatur est eaque voluptatem temporibus amet. Et sit molestiae aut aut maiores impedit iure."], ["available_on", "2017-10-07 11:51:39.306323"], ["slug", "product-3-3"], ["shipping_category_id", 116], ["created_at", "2018-10-07 11:51:39.339828"], ["updated_at", "2018-10-07 11:51:39.339828"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 98], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 98], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:51:39.343928"], ["created_at", "2018-10-07 11:51:39.343928"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 96], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 96], ["stock_location_id", 74], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 74], ["variant_id", 96], ["created_at", "2018-10-07 11:51:39.359708"], ["updated_at", "2018-10-07 11:51:39.359708"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:39.361824"], ["id", 96]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 98], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 98], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 98], ["sluggable_type", "Spree::Product"], ["slug", "product-3-3"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-3"], ["sluggable_id", 98], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:51:39.371079"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 98]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:39.375093' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:39.376400' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:39.363288"], ["id", 98]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:39.379599' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:39.380870' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 98], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (3.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 96], ["id", 83], ["stock_location_id", 74], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:51:39.396376"], ["id", 83]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:39.398790"], ["id", 96]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:39.402333"], ["id", 98]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 98]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:39.406522' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:39.407841' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 98]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 121], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "alonso_little@larkinzemlak.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "1bddbd435acf9dc89b99fbc8344e7835822d3715b56175902d9f7d254cb3fc9cc2beb82187d9b4d146037b3b35dbca04da31dd5833b60eebcfe229275266dbd0"], ["password_salt", "ydCn1aWpsHpMHq11HpgF"], ["email", "alonso_little@larkinzemlak.info"], ["login", "alonso_little@larkinzemlak.info"], ["authentication_token", "xxxx15389130997971xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:51:39.513692"], ["updated_at", "2018-10-07 11:51:39.513692"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 121], ["user_id", 151]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:51:39 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:51:39.543847"], ["last_sign_in_at", "2018-10-07 11:51:39.543847"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:51:39.544753"], ["id", 151]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "g0TepHunDLWGvhHSzmE99w1538913099680"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:51:39.700029"], ["spree_api_key", "909ebd23f9a1e7ff168b673186ee051353c5f02d3af51c54"], ["id", 151]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 496ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:51:55.320887"], ["updated_at", "2018-10-07 11:51:55.320887"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:51:55.490254"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 73], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 73], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 73], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 73], ["updated_at", "2018-10-07 11:51:55.517711"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:51:55.525025"], ["updated_at", "2018-10-07 11:51:55.525025"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 73], ["country_id", 73], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-9429"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-9429') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-9429"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 9429"], ["description", "Unde dolorum nobis alias sint eum repellat nulla quod. Placeat facilis velit a voluptatem aut vel. Qui ut consequatur voluptas iste fugit. Sed dicta quis nostrum nisi tempore et. Nam iure omnis nihil exercitationem alias aut cum.\nAnimi voluptatem dicta deserunt velit minima optio et. Quos animi repellat ipsum minima. Eum nobis ex rerum non ut magnam enim dolorum. Ut vel qui quis quia.\nCumque et esse possimus qui harum est quo. Odit aut aliquam asperiores error qui fugit repellat. Molestiae optio distinctio beatae vel. Ducimus natus voluptas officiis iure sint repudiandae vero soluta. Perspiciatis sint aliquid eius ut eaque voluptatum quo.\nEum odio magni quaerat laboriosam laborum error. Autem consequatur quo dicta sint asperiores. Nemo et nulla provident consequatur atque. Magni molestiae eum et delectus.\nQui inventore architecto necessitatibus dolores voluptas in est qui. Voluptate optio dolorem facilis sit veniam laudantium rerum magnam. Molestiae tempora tempore est eum eveniet. Rerum molestiae animi fugit a id maxime. Mollitia modi alias qui ipsam occaecati illo molestias rerum."], ["available_on", "2017-10-07 11:51:55.417027"], ["slug", "product-1-9429"], ["shipping_category_id", 117], ["created_at", "2018-10-07 11:51:55.548947"], ["updated_at", "2018-10-07 11:51:55.548947"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 99], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 99], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:51:55.553775"], ["created_at", "2018-10-07 11:51:55.553775"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 97], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (2.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 97], ["stock_location_id", 75], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 75], ["variant_id", 97], ["created_at", "2018-10-07 11:51:55.605097"], ["updated_at", "2018-10-07 11:51:55.605097"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:55.607278"], ["id", 97]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 99], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 99], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 99], ["sluggable_type", "Spree::Product"], ["slug", "product-1-9429"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-9429"], ["sluggable_id", 99], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:51:55.634590"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 99]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:55.661844' WHERE 1=0[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:55.666249' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:55.608861"], ["id", 99]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:55.674898' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:55.677064' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:51:55.706541"], ["updated_at", "2018-10-07 11:51:55.706541"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.8ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:51:55.720925"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 74], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 74], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 74], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 74], ["updated_at", "2018-10-07 11:51:55.728512"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:51:55.733933"], ["updated_at", "2018-10-07 11:51:55.733933"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 74], ["country_id", 74], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-5106"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-5106') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-5106"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 5106"], ["description", "Voluptatum ipsam eaque ducimus laboriosam velit at quia. Non et quis dicta qui exercitationem. Nemo deleniti et libero consequatur saepe."], ["available_on", "2017-10-07 11:51:55.713534"], ["slug", "product-2-5106"], ["shipping_category_id", 118], ["created_at", "2018-10-07 11:51:55.747584"], ["updated_at", "2018-10-07 11:51:55.747584"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 100], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 100], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:51:55.751640"], ["created_at", "2018-10-07 11:51:55.751640"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 98], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 98], ["stock_location_id", 76], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 76], ["variant_id", 98], ["created_at", "2018-10-07 11:51:55.767004"], ["updated_at", "2018-10-07 11:51:55.767004"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:55.769236"], ["id", 98]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.9ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 100], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 100], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 100], ["sluggable_type", "Spree::Product"], ["slug", "product-2-5106"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-5106"], ["sluggable_id", 100], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:51:55.779658"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 100]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:55.783630' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:55.784986' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:55.770740"], ["id", 100]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:55.788035' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:55.789309' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 98], ["id", 85], ["stock_location_id", 76], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:51:55.803150"], ["id", 85]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:55.805576"], ["id", 98]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:55.808891"], ["id", 100]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 100]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:55.813196' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:55.814720' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 100], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 11:51:55.825118"], ["updated_at", "2018-10-07 11:51:55.825118"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 11:51:55.840545"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 75], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 75], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 75], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 75], ["updated_at", "2018-10-07 11:51:55.847802"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:51:55.853185"], ["updated_at", "2018-10-07 11:51:55.853185"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 75], ["country_id", 75], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-5148"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-5148') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-5148"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 5148"], ["description", "Qui ea magnam debitis quis aut. Consequatur facilis cumque nihil ipsam ullam corrupti. Vero veniam doloremque et et. Sed sed fugiat quia porro quibusdam. Voluptates dignissimos perspiciatis enim voluptatum.\nEveniet pariatur dolorum expedita numquam iure enim quibusdam. Incidunt maiores omnis expedita velit magni corporis. Ratione maiores dolorem eveniet beatae pariatur dolores vel. Rerum voluptatibus sint quidem est beatae.\nNecessitatibus ab est excepturi repellat corporis alias praesentium omnis. Et dolore asperiores dolor error quidem quia voluptatum. Dolorem soluta quae architecto et quia accusamus quo expedita."], ["available_on", "2017-10-07 11:51:55.833481"], ["slug", "product-3-5148"], ["shipping_category_id", 119], ["created_at", "2018-10-07 11:51:55.866418"], ["updated_at", "2018-10-07 11:51:55.866418"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 101], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 101], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:51:55.870503"], ["created_at", "2018-10-07 11:51:55.870503"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 99], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (3.1ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 99], ["stock_location_id", 77], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 77], ["variant_id", 99], ["created_at", "2018-10-07 11:51:55.889622"], ["updated_at", "2018-10-07 11:51:55.889622"], ["backorderable", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:55.891784"], ["id", 99]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 101], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 101], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 101], ["sluggable_type", "Spree::Product"], ["slug", "product-3-5148"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-5148"], ["sluggable_id", 101], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:51:55.901327"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 101]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:55.905367' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:55.906665' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:55.893384"], ["id", 101]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:55.909724' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:55.910922' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 101], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 99], ["id", 86], ["stock_location_id", 77], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:51:55.922951"], ["id", 86]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:55.925183"], ["id", 99]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:51:55.928409"], ["id", 101]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 101]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:51:55.932193' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:51:55.933515' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 101]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 122], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "gloria_kub@grimes.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "035cd36dd38f083b7c0337e9041473afd45df959acc8271612969d6eae81ce26e7cf9b1a47ae2b49ffb4850b96d059c328aee9ffa47431523e797e8bd70af21b"], ["password_salt", "yj7z4fe5ryQBuBAGQAsC"], ["email", "gloria_kub@grimes.info"], ["login", "gloria_kub@grimes.info"], ["authentication_token", "xxxx15389131154251xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:51:56.022298"], ["updated_at", "2018-10-07 11:51:56.022298"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 122], ["user_id", 152]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:51:56 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:51:56.049606"], ["last_sign_in_at", "2018-10-07 11:51:56.049606"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:51:56.050528"], ["id", 152]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "WnzJMrpxzMNCzWFd7JYXgg1538913116178"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:51:56.198724"], ["spree_api_key", "3df303e5f5d9a0a3ec1254fa9e3843f64ac752d66d8c4c89"], ["id", 152]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 497ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:52:32.551603"], ["updated_at", "2018-10-07 11:52:32.551603"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:52:32.753338"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 76], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 76], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 76], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 76], ["updated_at", "2018-10-07 11:52:32.780597"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:52:32.785761"], ["updated_at", "2018-10-07 11:52:32.785761"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 76], ["country_id", 76], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-7946"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-7946') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-7946"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 7946"], ["description", "Pariatur aliquid illo delectus enim. Esse eos impedit fugit mollitia ea est. Quis consequatur vitae omnis laboriosam atque sit aspernatur nemo. Eos rerum hic laboriosam qui atque.\nSoluta minus voluptas enim omnis. Enim expedita odio sed deserunt est et aut. Et dolore nostrum fuga reprehenderit dolores voluptas est voluptatum. Minus quasi ad recusandae nam qui quia ullam ipsam. Sed optio qui est natus sunt dolorem."], ["available_on", "2017-10-07 11:52:32.683076"], ["slug", "product-1-7946"], ["shipping_category_id", 120], ["created_at", "2018-10-07 11:52:32.810467"], ["updated_at", "2018-10-07 11:52:32.810467"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 102], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 102], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:52:32.815187"], ["created_at", "2018-10-07 11:52:32.815187"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 100], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 100], ["stock_location_id", 78], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 78], ["variant_id", 100], ["created_at", "2018-10-07 11:52:32.860214"], ["updated_at", "2018-10-07 11:52:32.860214"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:52:32.862512"], ["id", 100]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 102], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 102], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 102], ["sluggable_type", "Spree::Product"], ["slug", "product-1-7946"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-7946"], ["sluggable_id", 102], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:52:32.890688"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 102]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:52:32.918136' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:52:32.922657' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:52:32.864061"], ["id", 102]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:52:32.931104' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:52:32.932640' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:52:32.962437"], ["updated_at", "2018-10-07 11:52:32.962437"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:52:32.977649"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 77], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 77], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 77], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 77], ["updated_at", "2018-10-07 11:52:32.984680"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:52:32.987329"], ["updated_at", "2018-10-07 11:52:32.987329"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 77], ["country_id", 77], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-8495"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-8495') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-8495"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 8495"], ["description", "Cum temporibus quia dignissimos modi eos. Vitae enim qui et dolores occaecati quibusdam. Dolorem qui commodi atque et. Fuga voluptatem eos vitae labore laboriosam sit. Magni ut totam sed accusantium nulla aut molestias.\nId voluptatum eos occaecati maxime tempore unde. Rerum eaque ducimus et nostrum odit assumenda. Beatae consequatur ea velit repellat et doloribus ut. Laudantium laboriosam ex minus qui accusamus voluptates. Eos nesciunt nisi fugit veniam reiciendis deleniti voluptas.\nCumque veritatis reiciendis placeat et voluptas adipisci officiis sapiente. Ad fugit nostrum quidem ea voluptate aut enim. Tenetur delectus saepe voluptatem sapiente nemo molestias.\nId vero qui voluptatem alias nisi similique. Repellendus nam ipsam iusto atque aut et. Hic sint mollitia nulla rerum sapiente nam vel eveniet. Modi architecto excepturi sunt ullam veritatis nobis."], ["available_on", "2017-10-07 11:52:32.970610"], ["slug", "product-2-8495"], ["shipping_category_id", 121], ["created_at", "2018-10-07 11:52:33.000796"], ["updated_at", "2018-10-07 11:52:33.000796"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 103], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 103], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:52:33.004785"], ["created_at", "2018-10-07 11:52:33.004785"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 101], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 101], ["stock_location_id", 79], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 79], ["variant_id", 101], ["created_at", "2018-10-07 11:52:33.021244"], ["updated_at", "2018-10-07 11:52:33.021244"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:52:33.023497"], ["id", 101]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 103], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 103], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 103], ["sluggable_type", "Spree::Product"], ["slug", "product-2-8495"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-8495"], ["sluggable_id", 103], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:52:33.033124"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 103]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:52:33.037061' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:52:33.038471' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:52:33.025103"], ["id", 103]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:52:33.041642' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:52:33.043046' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 103], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 101], ["id", 88], ["stock_location_id", 79], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:52:33.057455"], ["id", 88]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:52:33.059797"], ["id", 101]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:52:33.063228"], ["id", 103]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 103]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:52:33.067304' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:52:33.068485' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 103], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 11:52:33.077697"], ["updated_at", "2018-10-07 11:52:33.077697"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 11:52:33.095623"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 78], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 78], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 78], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 78], ["updated_at", "2018-10-07 11:52:33.104447"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:52:33.108276"], ["updated_at", "2018-10-07 11:52:33.108276"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 78], ["country_id", 78], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-8480"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-8480') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-8480"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 8480"], ["description", "Voluptas suscipit aut illum sint possimus aliquid quis. Omnis dolor sit dolorem in repellendus. Dolorem facilis alias repudiandae molestiae qui libero.\nUt ab quidem eum et aut. Doloremque eum inventore eveniet sunt. Rerum distinctio ut non aut molestiae placeat alias explicabo.\nPraesentium eum earum vel excepturi qui accusantium natus omnis. Quidem eligendi quibusdam reiciendis aut expedita ut magnam sed. Minima quae pariatur quis architecto.\nQuod et odio autem officia architecto provident. Iste nesciunt explicabo repellendus optio fuga est dolor vel. Ab harum consequatur architecto accusantium. Cumque rerum temporibus hic veniam porro. Fugit natus est aut et est ratione consectetur quisquam.\nRepudiandae beatae vel voluptatem consectetur laborum voluptatum. Saepe velit excepturi dolor dolorum. In voluptatem distinctio nostrum dicta atque ex consequatur et. Optio distinctio quis corporis non ad expedita."], ["available_on", "2017-10-07 11:52:33.088041"], ["slug", "product-3-8480"], ["shipping_category_id", 122], ["created_at", "2018-10-07 11:52:33.125587"], ["updated_at", "2018-10-07 11:52:33.125587"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 104], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 104], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:52:33.129799"], ["created_at", "2018-10-07 11:52:33.129799"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 102], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 102], ["stock_location_id", 80], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 80], ["variant_id", 102], ["created_at", "2018-10-07 11:52:33.151861"], ["updated_at", "2018-10-07 11:52:33.151861"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:52:33.154149"], ["id", 102]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 104], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 104], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 104], ["sluggable_type", "Spree::Product"], ["slug", "product-3-8480"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-8480"], ["sluggable_id", 104], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:52:33.164493"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 104]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:52:33.168761' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:52:33.170166' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:52:33.155703"], ["id", 104]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:52:33.177692' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:52:33.180063' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 104], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 102], ["id", 89], ["stock_location_id", 80], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:52:33.192989"], ["id", 89]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:52:33.195346"], ["id", 102]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:52:33.198853"], ["id", 104]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 104]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:52:33.203081' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:52:33.204388' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 104]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 123], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "gidget@crona.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "f539322115dcdd7e5446b63b3da298639eca1961b9babafdda89a354a35143d69f595c81d2c0bae4e195a110e82082ae7e39e373338e2cd7d8b5572778b33141"], ["password_salt", "4svqdK16BuU7yo-sg899"], ["email", "gidget@crona.co.uk"], ["login", "gidget@crona.co.uk"], ["authentication_token", "xxxx15389131535341xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:52:33.307562"], ["updated_at", "2018-10-07 11:52:33.307562"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 123], ["user_id", 153]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:52:33 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:52:33.338121"], ["last_sign_in_at", "2018-10-07 11:52:33.338121"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:52:33.339177"], ["id", 153]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "KdrhbcIO3cYruQqTaSiQ0g1538913153471"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:52:33.490978"], ["spree_api_key", "8dd9c419900f7c8e8d28f178a63df2744568334c40658743"], ["id", 153]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 496ms (ActiveRecord: 7.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:53:40.959391"], ["updated_at", "2018-10-07 11:53:40.959391"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:53:41.123845"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 79], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 79], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 79], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 79], ["updated_at", "2018-10-07 11:53:41.149858"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:53:41.154726"], ["updated_at", "2018-10-07 11:53:41.154726"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 79], ["country_id", 79], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-2807"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-2807') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-2807"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 2807"], ["description", "Minus necessitatibus fugiat dignissimos voluptates quos. Et maiores ea et totam recusandae. Distinctio fugiat occaecati rem officiis et iste ratione at. Et tenetur amet sed perspiciatis aut accusantium qui omnis. Minima et rerum recusandae ut officia."], ["available_on", "2017-10-07 11:53:41.054388"], ["slug", "product-1-2807"], ["shipping_category_id", 123], ["created_at", "2018-10-07 11:53:41.178523"], ["updated_at", "2018-10-07 11:53:41.178523"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 105], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 105], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:53:41.184832"], ["created_at", "2018-10-07 11:53:41.184832"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 103], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 103], ["stock_location_id", 81], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 81], ["variant_id", 103], ["created_at", "2018-10-07 11:53:41.227823"], ["updated_at", "2018-10-07 11:53:41.227823"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:53:41.230200"], ["id", 103]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 105], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.6ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 105], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 105], ["sluggable_type", "Spree::Product"], ["slug", "product-1-2807"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-2807"], ["sluggable_id", 105], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:53:41.259095"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 105]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:53:41.285851' WHERE 1=0[0m
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:53:41.290218' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:53:41.231761"], ["id", 105]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:53:41.299579' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:53:41.301110' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 105], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 103], ["id", 90], ["stock_location_id", 81], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:53:41.325035"], ["id", 90]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:53:41.327402"], ["id", 103]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:53:41.330832"], ["id", 105]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 105]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:53:41.335358' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:53:41.336833' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:53:41.343155"], ["updated_at", "2018-10-07 11:53:41.343155"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:53:41.358138"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 80], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 80], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 80], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 80], ["updated_at", "2018-10-07 11:53:41.365105"]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:53:41.368371"], ["updated_at", "2018-10-07 11:53:41.368371"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 80], ["country_id", 80], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-3745"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-3745') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-3745"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 3745"], ["description", "Quisquam at et asperiores ab dolores tenetur quas odio. Tempore quas aut velit inventore accusamus optio earum. Deleniti aut ut officia ut repellat voluptas corrupti provident."], ["available_on", "2017-10-07 11:53:41.350795"], ["slug", "product-2-3745"], ["shipping_category_id", 124], ["created_at", "2018-10-07 11:53:41.383695"], ["updated_at", "2018-10-07 11:53:41.383695"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 106], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 106], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:53:41.387856"], ["created_at", "2018-10-07 11:53:41.387856"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 104], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 104], ["stock_location_id", 82], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 82], ["variant_id", 104], ["created_at", "2018-10-07 11:53:41.403022"], ["updated_at", "2018-10-07 11:53:41.403022"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:53:41.405066"], ["id", 104]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 106], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 106], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 106], ["sluggable_type", "Spree::Product"], ["slug", "product-2-3745"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-3745"], ["sluggable_id", 106], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:53:41.414281"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 106]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:53:41.418202' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:53:41.419475' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:53:41.406505"], ["id", 106]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:53:41.422527' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:53:41.423747' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 106], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 104], ["id", 91], ["stock_location_id", 82], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:53:41.435821"], ["id", 91]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:53:41.438085"], ["id", 104]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:53:41.441413"], ["id", 106]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 106]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:53:41.445473' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:53:41.446725' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 106], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 11:53:41.456497"], ["updated_at", "2018-10-07 11:53:41.456497"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 11:53:41.471930"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 81], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 81], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 81], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 81], ["updated_at", "2018-10-07 11:53:41.478862"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:53:41.483161"], ["updated_at", "2018-10-07 11:53:41.483161"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 81], ["country_id", 81], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-5136"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-5136') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-5136"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 5136"], ["description", "Omnis minima voluptas aliquid eligendi et et. Expedita laudantium facilis vero est totam. Dolor adipisci corporis cupiditate tempore. Laudantium assumenda fugiat pariatur iure quia modi neque.\nNihil unde nihil eaque non. Totam laboriosam aut molestias eveniet fugiat. Temporibus et ut nam tempore alias fuga. Quia eum officia aut et."], ["available_on", "2017-10-07 11:53:41.465172"], ["slug", "product-3-5136"], ["shipping_category_id", 125], ["created_at", "2018-10-07 11:53:41.496338"], ["updated_at", "2018-10-07 11:53:41.496338"]]
  [1m[36mSpree::Variant Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 107], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 107], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:53:41.501735"], ["created_at", "2018-10-07 11:53:41.501735"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 105], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 105], ["stock_location_id", 83], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 83], ["variant_id", 105], ["created_at", "2018-10-07 11:53:41.518895"], ["updated_at", "2018-10-07 11:53:41.518895"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:53:41.520991"], ["id", 105]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 107], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 107], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 107], ["sluggable_type", "Spree::Product"], ["slug", "product-3-5136"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-5136"], ["sluggable_id", 107], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:53:41.530794"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 107]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:53:41.534759' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:53:41.536027' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:53:41.522506"], ["id", 107]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:53:41.539157' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:53:41.540386' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 107], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 105], ["id", 92], ["stock_location_id", 83], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:53:41.552658"], ["id", 92]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:53:41.554874"], ["id", 105]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:53:41.558382"], ["id", 107]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 107]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:53:41.562410' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:53:41.563643' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 107]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 124], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "bonnie@littleledner.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "09459a1fb02916e99a31eeea43dfa479105bc9dda632ccd7406a1f3ed075464e08895af81d382710d3a67b157c17c141bfea869748c4078d25c7b129e5efa614"], ["password_salt", "mzee5cUayoYofA7RJY3K"], ["email", "bonnie@littleledner.co.uk"], ["login", "bonnie@littleledner.co.uk"], ["authentication_token", "xxxx15389132216331xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:53:41.675941"], ["updated_at", "2018-10-07 11:53:41.675941"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 124], ["user_id", 154]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:53:41 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:53:41.705004"], ["last_sign_in_at", "2018-10-07 11:53:41.705004"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:53:41.706020"], ["id", 154]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "ij40bD42W5zuTLKqE32kiA1538913221838"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:53:41.857590"], ["spree_api_key", "0c5c8aaaebd08f2063bc053803a04e492ac21fd5bce123da"], ["id", 154]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 494ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:57:39.675654"], ["updated_at", "2018-10-07 11:57:39.675654"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:57:39.860579"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 82], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 82], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 82], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 82], ["updated_at", "2018-10-07 11:57:39.889815"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:57:39.898021"], ["updated_at", "2018-10-07 11:57:39.898021"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 82], ["country_id", 82], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-9682"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-9682') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-9682"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 9682"], ["description", "Non aperiam id itaque ratione omnis dolor. Laborum voluptatibus non architecto ullam pariatur. Dolor optio accusamus quia vitae omnis maiores cumque. Rerum at quam qui corporis. Est repudiandae non maxime amet."], ["available_on", "2017-10-07 11:57:39.786892"], ["slug", "product-1-9682"], ["shipping_category_id", 126], ["created_at", "2018-10-07 11:57:39.925403"], ["updated_at", "2018-10-07 11:57:39.925403"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 108], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 108], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:57:39.930164"], ["created_at", "2018-10-07 11:57:39.930164"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 106], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 106], ["stock_location_id", 84], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 84], ["variant_id", 106], ["created_at", "2018-10-07 11:57:39.983208"], ["updated_at", "2018-10-07 11:57:39.983208"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:57:39.985563"], ["id", 106]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 108], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 108], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 108], ["sluggable_type", "Spree::Product"], ["slug", "product-1-9682"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-9682"], ["sluggable_id", 108], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:57:40.012167"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 108]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:57:40.040757' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:57:40.045131' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:57:39.987123"], ["id", 108]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:57:40.054496' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:57:40.056074' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 108], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 106], ["id", 93], ["stock_location_id", 84], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:57:40.077716"], ["id", 93]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:57:40.080084"], ["id", 106]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:57:40.083375"], ["id", 108]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 108]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:57:40.088223' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:57:40.089676' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (54.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND (new_taxonomy) LIMIT $2[0m  [["product_id", 108], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:57:40.151425"], ["updated_at", "2018-10-07 11:57:40.151425"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:57:40.166639"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 83], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 83], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 83], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 83], ["updated_at", "2018-10-07 11:57:40.173942"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:57:40.179775"], ["updated_at", "2018-10-07 11:57:40.179775"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 83], ["country_id", 83], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-2370"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-2370') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-2370"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 2370"], ["description", "Possimus asperiores id et omnis. Numquam explicabo aperiam ipsum nisi inventore. Dolor rerum reprehenderit impedit sit quo et debitis qui. Et a facilis incidunt eum placeat.\nIn animi non in ullam nihil sit. Eum minima qui aliquam voluptate illo corporis sapiente. Atque dolor quia cumque ullam repellendus soluta error. Error repellat eius quia veritatis ut dolores.\nDolor laborum officiis eius vero atque molestiae. Culpa recusandae sit dignissimos quis. Ipsam nobis excepturi accusamus voluptas ut. Suscipit eos harum fuga neque. Ex error placeat ad quia nesciunt."], ["available_on", "2017-10-07 11:57:40.159268"], ["slug", "product-2-2370"], ["shipping_category_id", 127], ["created_at", "2018-10-07 11:57:40.193032"], ["updated_at", "2018-10-07 11:57:40.193032"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 109], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 109], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:57:40.197060"], ["created_at", "2018-10-07 11:57:40.197060"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 107], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 107], ["stock_location_id", 85], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 85], ["variant_id", 107], ["created_at", "2018-10-07 11:57:40.212369"], ["updated_at", "2018-10-07 11:57:40.212369"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:57:40.214438"], ["id", 107]]
  [1m[36mActsAsTaggableOn::Tagging Load (1.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 109], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.8ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 109], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 109], ["sluggable_type", "Spree::Product"], ["slug", "product-2-2370"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-2370"], ["sluggable_id", 109], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:57:40.227952"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 109]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:57:40.232690' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:57:40.234152' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:57:40.215892"], ["id", 109]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:57:40.240272' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:57:40.241622' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 109], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 107], ["id", 94], ["stock_location_id", 85], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:57:40.254459"], ["id", 94]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:57:40.256764"], ["id", 107]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:57:40.260254"], ["id", 109]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 109]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:57:40.264365' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:57:40.265668' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND (new_taxonomy) LIMIT $2[0m  [["product_id", 109], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 11:57:40.273029"], ["updated_at", "2018-10-07 11:57:40.273029"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 11:57:40.292045"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.8ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 84], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 84], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 84], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 84], ["updated_at", "2018-10-07 11:57:40.304992"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:57:40.307690"], ["updated_at", "2018-10-07 11:57:40.307690"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 84], ["country_id", 84], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-2118"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-2118') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-2118"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 2118"], ["description", "At similique eum non animi suscipit ea aut in. Culpa ipsum praesentium id velit. Quia quam rem ad ea sunt pariatur. Earum omnis exercitationem et culpa repudiandae eveniet sed ut. Nam repellendus porro est et sed nostrum.\nSed recusandae dignissimos aut fugiat nesciunt et fuga reiciendis. Ipsa sed porro quia corporis sint doloremque delectus similique. Id in illum error explicabo. Saepe ipsum velit sed possimus."], ["available_on", "2017-10-07 11:57:40.282025"], ["slug", "product-3-2118"], ["shipping_category_id", 128], ["created_at", "2018-10-07 11:57:40.325941"], ["updated_at", "2018-10-07 11:57:40.325941"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 110], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 110], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:57:40.330441"], ["created_at", "2018-10-07 11:57:40.330441"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 108], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 108], ["stock_location_id", 86], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 86], ["variant_id", 108], ["created_at", "2018-10-07 11:57:40.348415"], ["updated_at", "2018-10-07 11:57:40.348415"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:57:40.350620"], ["id", 108]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 110], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 110], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 110], ["sluggable_type", "Spree::Product"], ["slug", "product-3-2118"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-2118"], ["sluggable_id", 110], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:57:40.359971"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 110]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:57:40.364042' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:57:40.365364' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:57:40.352088"], ["id", 110]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:57:40.368404' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:57:40.369717' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 110], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 108], ["id", 95], ["stock_location_id", 86], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:57:40.382195"], ["id", 95]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:57:40.384937"], ["id", 108]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:57:40.388392"], ["id", 110]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 110]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:57:40.392528' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:57:40.393877' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND (new_taxonomy) LIMIT $2[0m  [["product_id", 110], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 125], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "jamie@ratke.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "b58cdfe0cb62598215354d2101ae65676de285f9f8f4314b33228703a2d2e2d332391d1088d2ee37495819186ae43541b9c5f0898b847d1fe67d23e4238bd62c"], ["password_salt", "pE_dymr7DK8JoNAmAyzH"], ["email", "jamie@ratke.name"], ["login", "jamie@ratke.name"], ["authentication_token", "xxxx15389134606231xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:57:40.485481"], ["updated_at", "2018-10-07 11:57:40.485481"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 125], ["user_id", 155]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:57:40 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:57:40.514204"], ["last_sign_in_at", "2018-10-07 11:57:40.514204"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:57:40.515165"], ["id", 155]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "Van6ceKF4lbXUNT4_KxA8A1538913460645"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:57:40.663368"], ["spree_api_key", "779cd193692c27cd10b9f28182bca6f5c19c21a8531d36c0"], ["id", 155]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 492ms (ActiveRecord: 6.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 11:59:48.666639"], ["updated_at", "2018-10-07 11:59:48.666639"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 11:59:48.820505"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 85], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 85], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 85], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 85], ["updated_at", "2018-10-07 11:59:48.846824"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:59:48.852328"], ["updated_at", "2018-10-07 11:59:48.852328"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 85], ["country_id", 85], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.2ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-2073"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-2073') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-2073"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 2073"], ["description", "Qui ducimus dignissimos eum qui et cupiditate. Velit optio ipsa esse magnam inventore recusandae beatae. Impedit omnis occaecati consequuntur ut doloribus vitae sed totam.\nMollitia et dolor laudantium a et. Consequuntur autem soluta ex eum dolorum. Ipsum laudantium in architecto vel earum tenetur quia.\nDelectus architecto corrupti maiores error aut atque nobis. Sed pariatur accusamus molestiae quo consectetur voluptatem dolores. Unde temporibus nobis qui iure omnis fugit dolorem. Et laboriosam qui eveniet veniam. Illo culpa dicta rerum veniam provident.\nEum sed similique ut veritatis perspiciatis. Aut maxime dolorem earum quis aperiam. Eos delectus nesciunt dicta consequuntur laudantium dolor aut minima. Quis iusto est ipsam dolores aut et tempora.\nAutem quia impedit odio beatae repellendus. Dolorum sunt non eos dolorem. Provident molestias voluptatem veniam laudantium nobis pariatur quis numquam. Consectetur ullam dolor tenetur est et. Aliquid illum eligendi quia molestiae dolores."], ["available_on", "2017-10-07 11:59:48.760374"], ["slug", "product-1-2073"], ["shipping_category_id", 129], ["created_at", "2018-10-07 11:59:48.878561"], ["updated_at", "2018-10-07 11:59:48.878561"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 111], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 111], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:59:48.883911"], ["created_at", "2018-10-07 11:59:48.883911"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 109], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 109], ["stock_location_id", 87], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 87], ["variant_id", 109], ["created_at", "2018-10-07 11:59:48.936704"], ["updated_at", "2018-10-07 11:59:48.936704"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:48.938957"], ["id", 109]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 111], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 111], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 111], ["sluggable_type", "Spree::Product"], ["slug", "product-1-2073"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-2073"], ["sluggable_id", 111], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:59:48.967300"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 111]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:48.996564' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:59:49.001144' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:48.940519"], ["id", 111]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:49.009721' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:59:49.011197' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 111], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 109], ["id", 96], ["stock_location_id", 87], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:59:49.034075"], ["id", 96]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:49.036533"], ["id", 109]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:49.040101"], ["id", 111]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 111]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:49.044591' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:59:49.046050' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 111], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (17.9ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 11:59:49.105636"], ["updated_at", "2018-10-07 11:59:49.105636"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 1], ["product_id", 111], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (10.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 111], ["taxon_id", 1], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 1], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 1], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 1], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 11:59:49.156829"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 1 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:49.165211' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 1) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:49.145533"], ["id", 111]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:49.174016' WHERE "spree_taxons"."id" = 1[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:59:49.177347' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:49.145814"], ["id", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:49.180859' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 1) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 11:59:49.188903"], ["updated_at", "2018-10-07 11:59:49.188903"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 11:59:49.210416"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (1.8ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 86], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 86], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 86], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 86], ["updated_at", "2018-10-07 11:59:49.226988"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:59:49.230777"], ["updated_at", "2018-10-07 11:59:49.230777"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 86], ["country_id", 86], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-8653"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-8653') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-8653"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 8653"], ["description", "Ut architecto et praesentium sed quo. Iusto et qui quaerat adipisci voluptas beatae ex placeat. Ut repellendus eaque eum et."], ["available_on", "2017-10-07 11:59:49.201954"], ["slug", "product-2-8653"], ["shipping_category_id", 130], ["created_at", "2018-10-07 11:59:49.249638"], ["updated_at", "2018-10-07 11:59:49.249638"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 112], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 112], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:59:49.255559"], ["created_at", "2018-10-07 11:59:49.255559"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 110], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 110], ["stock_location_id", 88], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 88], ["variant_id", 110], ["created_at", "2018-10-07 11:59:49.275265"], ["updated_at", "2018-10-07 11:59:49.275265"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:49.277735"], ["id", 110]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 112], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 112], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 112], ["sluggable_type", "Spree::Product"], ["slug", "product-2-8653"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-8653"], ["sluggable_id", 112], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:59:49.289302"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 112]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:49.295409' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:59:49.296750' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:49.279770"], ["id", 112]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:49.301003' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:59:49.302194' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 112], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 88], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 110], ["id", 97], ["stock_location_id", 88], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:59:49.318024"], ["id", 97]]
  [1m[35mSQL (2.0ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:49.320629"], ["id", 110]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:49.326479"], ["id", 112]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 112]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:49.331298' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:59:49.333497' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 112], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 11:59:49.350542"], ["updated_at", "2018-10-07 11:59:49.350542"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 2], ["product_id", 112], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 112], ["taxon_id", 2], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 2], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 2], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 2], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 11:59:49.372748"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 2 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:49.378291' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 2) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:49.364613"], ["id", 112]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:49.383584' WHERE "spree_taxons"."id" = 2[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:59:49.386948' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:49.364933"], ["id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:49.390364' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 2) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 112], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 11:59:49.402481"], ["updated_at", "2018-10-07 11:59:49.402481"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 11:59:49.433543"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 87], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 87], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 87], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 87], ["updated_at", "2018-10-07 11:59:49.440348"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 11:59:49.442763"], ["updated_at", "2018-10-07 11:59:49.442763"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 87], ["country_id", 87], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-9207"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-9207') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-9207"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 9207"], ["description", "Qui dicta ducimus id velit accusamus minima pariatur. Ea voluptas perspiciatis ea commodi vero. Facilis ullam odit quia enim nihil corrupti aut voluptatem.\nRem voluptas maiores vel doloremque velit distinctio in occaecati. Nam dolorum cupiditate rerum rem. Debitis totam cupiditate ut numquam. Consequatur eaque consequuntur eligendi sint ex quia quod est.\nQuia nostrum et ut excepturi earum qui quasi. Asperiores voluptas cumque quo atque et. Nihil est sapiente est hic voluptatibus.\nEius laudantium repellat repudiandae occaecati et sunt nemo. Veritatis quaerat a iste quia aut tempore similique. Et dolorum explicabo dolorem et illo et."], ["available_on", "2017-10-07 11:59:49.426731"], ["slug", "product-3-9207"], ["shipping_category_id", 131], ["created_at", "2018-10-07 11:59:49.455308"], ["updated_at", "2018-10-07 11:59:49.455308"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 113], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 113], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 11:59:49.459192"], ["created_at", "2018-10-07 11:59:49.459192"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 111], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 111], ["stock_location_id", 89], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 89], ["variant_id", 111], ["created_at", "2018-10-07 11:59:49.474358"], ["updated_at", "2018-10-07 11:59:49.474358"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:49.476572"], ["id", 111]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 113], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 113], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 113], ["sluggable_type", "Spree::Product"], ["slug", "product-3-9207"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-9207"], ["sluggable_id", 113], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 11:59:49.485195"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 113]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:49.488917' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:59:49.490148' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:49.477992"], ["id", 113]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:49.493040' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:59:49.494193' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 113], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 111], ["id", 98], ["stock_location_id", 89], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 11:59:49.505966"], ["id", 98]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:49.508149"], ["id", 111]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:49.511416"], ["id", 113]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 113]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:49.515905' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:59:49.517191' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 113], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 11:59:49.527002"], ["updated_at", "2018-10-07 11:59:49.527002"]]
  [1m[36mSpree::Classification Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 3], ["product_id", 113], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 113], ["taxon_id", 3], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 3], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 3], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 3], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 11:59:49.542018"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 3 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:49.546856' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 3) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:49.536287"], ["id", 113]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:49.551675' WHERE "spree_taxons"."id" = 3[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 11:59:49.554394' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 11:59:49.536607"], ["id", 3]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 11:59:49.557555' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 3) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 113]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 126], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "aleida_will@walsh.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "c8245f4d7549a2603699fee6a8d666ab447405d498b068ce0eab78d22afc0b50848d586fee5ca288248e2ce3d3aff85840915befd6ce6651cc32c0b6fb64a80b"], ["password_salt", "WUrxbLUhT1KsVZxD35eK"], ["email", "aleida_will@walsh.co.uk"], ["login", "aleida_will@walsh.co.uk"], ["authentication_token", "xxxx15389135896671xxxxxxxxxxxxx"], ["created_at", "2018-10-07 11:59:49.649660"], ["updated_at", "2018-10-07 11:59:49.649660"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 126], ["user_id", 156]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 13:59:49 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 11:59:49.680644"], ["last_sign_in_at", "2018-10-07 11:59:49.680644"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 11:59:49.681677"], ["id", 156]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "53ga_Ykd7Nq815j3oisWlg1538913589805"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 11:59:49.827576"], ["spree_api_key", "a3a0299dc2a931da8e7707abab8932721fb76c8c00e47a68"], ["id", 156]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 521ms (ActiveRecord: 8.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 13:43:54.615393"], ["updated_at", "2018-10-07 13:43:54.615393"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 13:43:54.782598"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 88], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 88], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 88], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 88], ["updated_at", "2018-10-07 13:43:54.808349"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 13:43:54.813895"], ["updated_at", "2018-10-07 13:43:54.813895"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 88], ["country_id", 88], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-142"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-142') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-142"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 142"], ["description", "Quia voluptatem neque sit asperiores voluptas dolore similique. Aut non vel optio perferendis quis et. Qui molestiae odit consectetur totam aut.\nConsectetur nihil inventore impedit et minima laborum. Porro vel rerum corporis aut. Incidunt alias pariatur velit architecto tempore cumque non. Sint quia suscipit minus quis recusandae voluptatem nulla inventore. Et quae neque occaecati rerum minima.\nEst velit ducimus non eos fugit ut. Ipsam error sit voluptas voluptatem eum et soluta placeat. Qui eveniet laboriosam nihil quia sed maiores ut. Sapiente aut et aspernatur doloremque eos."], ["available_on", "2017-10-07 13:43:54.710914"], ["slug", "product-1-142"], ["shipping_category_id", 132], ["created_at", "2018-10-07 13:43:54.837922"], ["updated_at", "2018-10-07 13:43:54.837922"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 114], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 114], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 13:43:54.842727"], ["created_at", "2018-10-07 13:43:54.842727"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 112], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 112], ["stock_location_id", 90], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 90], ["variant_id", 112], ["created_at", "2018-10-07 13:43:54.882331"], ["updated_at", "2018-10-07 13:43:54.882331"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:54.884649"], ["id", 112]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 114], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 114], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 114], ["sluggable_type", "Spree::Product"], ["slug", "product-1-142"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-142"], ["sluggable_id", 114], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 13:43:54.912040"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 114]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:54.939791' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:43:54.944056' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:54.886248"], ["id", 114]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:54.952121' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:43:54.953731' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 114], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 90], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 112], ["id", 99], ["stock_location_id", 90], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 13:43:54.975657"], ["id", 99]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:54.978042"], ["id", 112]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:54.981307"], ["id", 114]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 114]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:54.985276' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:43:54.986554' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 114], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 13:43:55.030744"], ["updated_at", "2018-10-07 13:43:55.030744"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 4], ["product_id", 114], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 114], ["taxon_id", 4], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 4], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 4], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 4], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 13:43:55.048097"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 4 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:55.053591' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 4) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:55.040660"], ["id", 114]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:55.060481' WHERE "spree_taxons"."id" = 4[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:43:55.063465' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:55.040998"], ["id", 4]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:55.066519' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 4) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 13:43:55.072833"], ["updated_at", "2018-10-07 13:43:55.072833"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 13:43:55.087931"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 89], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 89], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 89], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 89], ["updated_at", "2018-10-07 13:43:55.094970"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 13:43:55.098321"], ["updated_at", "2018-10-07 13:43:55.098321"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 89], ["country_id", 89], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-6644"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-6644') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-6644"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 6644"], ["description", "Qui voluptates asperiores ad mollitia error voluptas ut id. Eum temporibus saepe quo dolorum maiores rerum magni similique. Non laudantium rerum quia fugiat. Aliquid quidem voluptatibus laborum optio saepe. Adipisci voluptatem consectetur tempore ut ut blanditiis enim dolores.\nAmet eveniet voluptas est rem omnis eius delectus voluptatem. Dolorem ut sit consectetur aut eius ab et deserunt. Debitis natus quae omnis non error. Earum enim dignissimos sed reiciendis.\nAsperiores aut voluptates et nam aut quos laborum ea. Aspernatur vitae asperiores blanditiis repellendus. Explicabo ratione quam qui omnis autem tempore. Dolores quibusdam consequatur exercitationem et aut iure minima quis. Sunt ullam quia eligendi veritatis qui dolores."], ["available_on", "2017-10-07 13:43:55.080509"], ["slug", "product-2-6644"], ["shipping_category_id", 133], ["created_at", "2018-10-07 13:43:55.112079"], ["updated_at", "2018-10-07 13:43:55.112079"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 115], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 115], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 13:43:55.116066"], ["created_at", "2018-10-07 13:43:55.116066"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 113], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 113], ["stock_location_id", 91], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 91], ["variant_id", 113], ["created_at", "2018-10-07 13:43:55.131458"], ["updated_at", "2018-10-07 13:43:55.131458"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:55.133476"], ["id", 113]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 115], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 115], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 115], ["sluggable_type", "Spree::Product"], ["slug", "product-2-6644"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-6644"], ["sluggable_id", 115], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 13:43:55.142957"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 115]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:55.147024' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:43:55.148329' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:55.134921"], ["id", 115]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:55.151412' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:43:55.152617' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 115], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 113], ["id", 100], ["stock_location_id", 91], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 13:43:55.164758"], ["id", 100]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:55.167149"], ["id", 113]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:55.170620"], ["id", 115]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 115]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:55.174602' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:43:55.175822' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 115], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 13:43:55.186405"], ["updated_at", "2018-10-07 13:43:55.186405"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 5], ["product_id", 115], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.4ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 115], ["taxon_id", 5], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 5], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 5], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 5], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 13:43:55.200924"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 5 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:55.205723' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 5) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:55.195051"], ["id", 115]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:55.210367' WHERE "spree_taxons"."id" = 5[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:43:55.213085' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:55.195400"], ["id", 5]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:55.216125' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 5) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 115], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 13:43:55.225797"], ["updated_at", "2018-10-07 13:43:55.225797"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 13:43:55.241241"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 90], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 90], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 90], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 90], ["updated_at", "2018-10-07 13:43:55.248232"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 13:43:55.252624"], ["updated_at", "2018-10-07 13:43:55.252624"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 90], ["country_id", 90], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-4534"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-4534') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-4534"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 4534"], ["description", "Tempore reprehenderit facilis incidunt doloremque voluptatem sed velit sapiente. Maxime tenetur similique hic et ratione ut. Est nesciunt error deleniti aspernatur assumenda."], ["available_on", "2017-10-07 13:43:55.234187"], ["slug", "product-3-4534"], ["shipping_category_id", 134], ["created_at", "2018-10-07 13:43:55.267131"], ["updated_at", "2018-10-07 13:43:55.267131"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 116], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 116], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 13:43:55.271384"], ["created_at", "2018-10-07 13:43:55.271384"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 114], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 114], ["stock_location_id", 92], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 92], ["variant_id", 114], ["created_at", "2018-10-07 13:43:55.286997"], ["updated_at", "2018-10-07 13:43:55.286997"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:55.289087"], ["id", 114]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 116], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 116], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 116], ["sluggable_type", "Spree::Product"], ["slug", "product-3-4534"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-4534"], ["sluggable_id", 116], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 13:43:55.298511"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 116]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:55.302548' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:43:55.303841' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:55.290518"], ["id", 116]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:55.306976' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:43:55.308157' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 116], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (1.3ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 114], ["id", 101], ["stock_location_id", 92], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 13:43:55.321926"], ["id", 101]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:55.324253"], ["id", 114]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:55.327678"], ["id", 116]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 116]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:55.331703' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:43:55.333034' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 116], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 13:43:55.343612"], ["updated_at", "2018-10-07 13:43:55.343612"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 6], ["product_id", 116], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 116], ["taxon_id", 6], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 6], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 6], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 6], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 13:43:55.358094"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 6 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:55.362840' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 6) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:55.352226"], ["id", 116]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:55.367563' WHERE "spree_taxons"."id" = 6[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:43:55.370216' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 13:43:55.352541"], ["id", 6]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:43:55.373384' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 6) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 116]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 127], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "manda@kessler.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "0acc43f8cd055915c651ca5a8e93d29622b80c868e85f8c64d24b67028ec88ecc42c76841baf56a025027f477071ccfdb13b0d157c98f5e5efb4b0ebd2fee901"], ["password_salt", "DaoUswPxiawQdMyGbFAJ"], ["email", "manda@kessler.info"], ["login", "manda@kessler.info"], ["authentication_token", "xxxx15389198355321xxxxxxxxxxxxx"], ["created_at", "2018-10-07 13:43:55.482660"], ["updated_at", "2018-10-07 13:43:55.482660"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 127], ["user_id", 157]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 15:43:55 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 13:43:55.511390"], ["last_sign_in_at", "2018-10-07 13:43:55.511390"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 13:43:55.512383"], ["id", 157]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "K3Hi2lKzqe9iNh6qzwnSEg1538919835656"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 13:43:55.675785"], ["spree_api_key", "910bacde81a613e27ea9efc9a62a641108302708f3c19fcd"], ["id", 157]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 484ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 13:44:13.789485"], ["updated_at", "2018-10-07 13:44:13.789485"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 13:44:13.956119"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 91], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 91], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 91], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 91], ["updated_at", "2018-10-07 13:44:13.981930"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 13:44:13.986677"], ["updated_at", "2018-10-07 13:44:13.986677"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 91], ["country_id", 91], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-8016"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-8016') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-8016"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 8016"], ["description", "Facere voluptatem est distinctio accusamus sint qui porro doloremque. Recusandae sapiente alias laborum ut veritatis aut distinctio quia. Optio assumenda quas tempora aut ipsa.\nDoloremque recusandae adipisci reprehenderit quam dolor sed sint nulla. Enim praesentium et cupiditate veniam id repellat magni. Est est rerum fugit corrupti minus atque quae harum. Adipisci aliquam repellat molestiae nemo quia quos.\nDistinctio ut sit atque qui animi optio quia consequatur. Possimus sint vitae dignissimos aut. Et hic excepturi itaque cumque deserunt odit quas dolorem.\nMaiores ut at aut voluptatem eveniet quia ea. Facere qui ex expedita et et perferendis. Culpa sed est dolores vero et facere.\nIn eveniet reiciendis aperiam id minus placeat iste. Sunt hic dolorem voluptatem eius laboriosam asperiores. Voluptate odio est aut debitis. In ipsum incidunt quis quibusdam laborum consequuntur ut. Id error reiciendis quaerat alias explicabo dignissimos."], ["available_on", "2017-10-07 13:44:13.887312"], ["slug", "product-1-8016"], ["shipping_category_id", 135], ["created_at", "2018-10-07 13:44:14.011215"], ["updated_at", "2018-10-07 13:44:14.011215"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 117], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 117], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 13:44:14.016088"], ["created_at", "2018-10-07 13:44:14.016088"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 115], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 115], ["stock_location_id", 93], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 93], ["variant_id", 115], ["created_at", "2018-10-07 13:44:14.057232"], ["updated_at", "2018-10-07 13:44:14.057232"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.059791"], ["id", 115]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 117], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 117], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 117], ["sluggable_type", "Spree::Product"], ["slug", "product-1-8016"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-8016"], ["sluggable_id", 117], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 13:44:14.086451"]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 117]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.115213' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:44:14.120035' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.061498"], ["id", 117]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.128599' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:44:14.130191' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 117], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 115], ["id", 102], ["stock_location_id", 93], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 13:44:14.152569"], ["id", 102]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.154960"], ["id", 115]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.158249"], ["id", 117]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 117]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.162246' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:44:14.163570' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 117], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 13:44:14.208142"], ["updated_at", "2018-10-07 13:44:14.208142"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 7], ["product_id", 117], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 117], ["taxon_id", 7], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 7], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 7], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 7], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 13:44:14.225295"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 7 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.231141' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 7) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.217573"], ["id", 117]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.237854' WHERE "spree_taxons"."id" = 7[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:44:14.240755' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.217917"], ["id", 7]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.243995' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 7) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 13:44:14.251192"], ["updated_at", "2018-10-07 13:44:14.251192"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 13:44:14.266857"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 92], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 92], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 92], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 92], ["updated_at", "2018-10-07 13:44:14.273951"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 13:44:14.277392"], ["updated_at", "2018-10-07 13:44:14.277392"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 92], ["country_id", 92], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-6120"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-6120') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-6120"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 6120"], ["description", "Error in delectus sunt officiis aut laudantium. Occaecati quam laudantium quos eos ut praesentium. Praesentium occaecati culpa consequatur accusamus reiciendis.\nItaque est id voluptatem corporis. Quaerat libero ipsa sint consequatur ad laborum molestias qui. Voluptas nulla delectus consequatur quam enim ut consequatur voluptatum. Possimus ipsum fuga inventore occaecati pariatur.\nIusto perspiciatis debitis sapiente nam explicabo. Qui cupiditate dolorem sequi aspernatur esse. Dicta reprehenderit odit laborum et id ea vitae. Laboriosam tenetur quis qui et beatae."], ["available_on", "2017-10-07 13:44:14.260056"], ["slug", "product-2-6120"], ["shipping_category_id", 136], ["created_at", "2018-10-07 13:44:14.291297"], ["updated_at", "2018-10-07 13:44:14.291297"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 118], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 118], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 13:44:14.295340"], ["created_at", "2018-10-07 13:44:14.295340"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 116], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 116], ["stock_location_id", 94], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 94], ["variant_id", 116], ["created_at", "2018-10-07 13:44:14.310858"], ["updated_at", "2018-10-07 13:44:14.310858"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.312906"], ["id", 116]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 118], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 118], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 118], ["sluggable_type", "Spree::Product"], ["slug", "product-2-6120"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-6120"], ["sluggable_id", 118], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 13:44:14.322195"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 118]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.326294' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:44:14.327609' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.314360"], ["id", 118]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.330678' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:44:14.331870' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 118], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 116], ["id", 103], ["stock_location_id", 94], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 13:44:14.344235"], ["id", 103]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.346465"], ["id", 116]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.349716"], ["id", 118]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 118]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.353844' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:44:14.355125' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 118], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 13:44:14.365459"], ["updated_at", "2018-10-07 13:44:14.365459"]]
  [1m[36mSpree::Classification Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 8], ["product_id", 118], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.4ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 118], ["taxon_id", 8], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 8], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 8], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 8], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 13:44:14.379437"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 8 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.384485' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 8) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.373427"], ["id", 118]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.389917' WHERE "spree_taxons"."id" = 8[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:44:14.392759' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.373738"], ["id", 8]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.395859' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 8) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 118], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 13:44:14.406005"], ["updated_at", "2018-10-07 13:44:14.406005"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 13:44:14.421493"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 93], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 93], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 93], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 93], ["updated_at", "2018-10-07 13:44:14.428506"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 13:44:14.432614"], ["updated_at", "2018-10-07 13:44:14.432614"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 93], ["country_id", 93], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-7615"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-7615') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-7615"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 7615"], ["description", "Cumque sint sit unde et eligendi laboriosam sint. Quibusdam distinctio culpa id voluptatem magni. Laborum error veritatis minus itaque aut vel.\nArchitecto mollitia fugit magni corrupti. Sed cupiditate nobis ullam et dolorem animi consectetur. Aut cumque ut laudantium debitis et eligendi similique.\nQuibusdam consequatur ea libero corrupti nemo voluptatibus aut. Nostrum molestiae illo quo et qui impedit. Ut et necessitatibus odio ducimus beatae velit. Aut reprehenderit perspiciatis aperiam dicta quaerat accusamus iure.\nQuia molestias labore minus veritatis voluptas perspiciatis voluptatibus. Ex qui atque non velit vitae eos tenetur et. Minima accusantium pariatur aut repudiandae animi."], ["available_on", "2017-10-07 13:44:14.414816"], ["slug", "product-3-7615"], ["shipping_category_id", 137], ["created_at", "2018-10-07 13:44:14.445976"], ["updated_at", "2018-10-07 13:44:14.445976"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 119], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 119], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 13:44:14.450029"], ["created_at", "2018-10-07 13:44:14.450029"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 117], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 117], ["stock_location_id", 95], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 95], ["variant_id", 117], ["created_at", "2018-10-07 13:44:14.465735"], ["updated_at", "2018-10-07 13:44:14.465735"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.467792"], ["id", 117]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 119], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 119], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 119], ["sluggable_type", "Spree::Product"], ["slug", "product-3-7615"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-7615"], ["sluggable_id", 119], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 13:44:14.477060"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 119]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.481159' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:44:14.482463' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.469304"], ["id", 119]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.485598' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:44:14.486808' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 119], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 117], ["id", 104], ["stock_location_id", 95], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 13:44:14.498629"], ["id", 104]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.500878"], ["id", 117]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.504322"], ["id", 119]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 119]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.508456' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:44:14.509725' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 119], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 13:44:14.519900"], ["updated_at", "2018-10-07 13:44:14.519900"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 9], ["product_id", 119], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 119], ["taxon_id", 9], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 9], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 9], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 9], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 13:44:14.534387"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 9 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.539201' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 9) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.528384"], ["id", 119]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.543803' WHERE "spree_taxons"."id" = 9[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:44:14.546467' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 13:44:14.528702"], ["id", 9]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:44:14.549476' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 9) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 119]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 128], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "quyen@bailey.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "3560b055f42121362108390057f8d77d9fffec4674acb80e6951f881439a3dd7c2c30618b5115dbaecbf61ca3c5f6cf253cecf1c4a1a9aa78aa24bded96dcc2d"], ["password_salt", "2xrtJbQxcsgf7JZxHx6c"], ["email", "quyen@bailey.co.uk"], ["login", "quyen@bailey.co.uk"], ["authentication_token", "xxxx15389198546351xxxxxxxxxxxxx"], ["created_at", "2018-10-07 13:44:14.643025"], ["updated_at", "2018-10-07 13:44:14.643025"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 128], ["user_id", 158]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 15:44:14 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 13:44:14.670763"], ["last_sign_in_at", "2018-10-07 13:44:14.670763"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 13:44:14.671801"], ["id", 158]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "Lbd_vZWZol-i9Y_WkFpKuA1538919854812"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 13:44:14.831867"], ["spree_api_key", "556dfcb2c6b21ff96c94b0ca7241e8119f3c787bb4e9b33a"], ["id", 158]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 490ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 13:57:20.361080"], ["updated_at", "2018-10-07 13:57:20.361080"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 13:57:20.543713"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 94], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 94], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 94], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 94], ["updated_at", "2018-10-07 13:57:20.569456"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 13:57:20.574575"], ["updated_at", "2018-10-07 13:57:20.574575"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 94], ["country_id", 94], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-1893"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-1893') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-1893"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 1893"], ["description", "Reprehenderit ab aut esse quo ipsa ducimus repellat perspiciatis. Dolore ducimus rerum omnis pariatur eum sed et. Quae et accusantium ut autem. Velit rem facere ut ut commodi."], ["available_on", "2017-10-07 13:57:20.465694"], ["slug", "product-1-1893"], ["shipping_category_id", 138], ["created_at", "2018-10-07 13:57:20.598451"], ["updated_at", "2018-10-07 13:57:20.598451"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 120], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 120], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 13:57:20.603553"], ["created_at", "2018-10-07 13:57:20.603553"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 118], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 118], ["stock_location_id", 96], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 96], ["variant_id", 118], ["created_at", "2018-10-07 13:57:20.645741"], ["updated_at", "2018-10-07 13:57:20.645741"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:57:20.648108"], ["id", 118]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 120], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 120], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 120], ["sluggable_type", "Spree::Product"], ["slug", "product-1-1893"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-1893"], ["sluggable_id", 120], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 13:57:20.675940"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 120]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:57:20.703503' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:57:20.707876' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:57:20.649717"], ["id", 120]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:57:20.716403' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:57:20.717945' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 13:57:20.747828"], ["updated_at", "2018-10-07 13:57:20.747828"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 13:57:20.762703"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 95], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 95], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 95], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 95], ["updated_at", "2018-10-07 13:57:20.769809"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 13:57:20.774587"], ["updated_at", "2018-10-07 13:57:20.774587"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 95], ["country_id", 95], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-1209"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-1209') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-1209"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 1209"], ["description", "Quod qui perspiciatis est quo. Repellat dolorem incidunt ipsam ut. Possimus cumque dolor ut dolorem. Soluta necessitatibus architecto omnis quia. Temporibus et blanditiis ad modi laboriosam earum consequatur pariatur.\nAspernatur et molestiae minima accusamus nulla aut. Porro debitis quod et soluta. Et aliquid in repellendus accusamus delectus quos rem pariatur. Consequuntur vel delectus sed atque aut.\nSunt dolore quo porro placeat. Architecto libero eius quaerat ut numquam corrupti voluptas cum. Dolor doloremque officia expedita laborum sequi debitis."], ["available_on", "2017-10-07 13:57:20.755457"], ["slug", "product-2-1209"], ["shipping_category_id", 139], ["created_at", "2018-10-07 13:57:20.787807"], ["updated_at", "2018-10-07 13:57:20.787807"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 121], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 121], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 13:57:20.791760"], ["created_at", "2018-10-07 13:57:20.791760"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 119], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 119], ["stock_location_id", 97], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 97], ["variant_id", 119], ["created_at", "2018-10-07 13:57:20.807325"], ["updated_at", "2018-10-07 13:57:20.807325"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:57:20.809525"], ["id", 119]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 121], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 121], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 121], ["sluggable_type", "Spree::Product"], ["slug", "product-2-1209"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-1209"], ["sluggable_id", 121], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 13:57:20.818801"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 121]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:57:20.822825' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:57:20.824133' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:57:20.810938"], ["id", 121]]
  [1m[35mSQL (2.2ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:57:20.827279' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:57:20.830516' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 121], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 119], ["id", 106], ["stock_location_id", 97], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 13:57:20.844690"], ["id", 106]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:57:20.846925"], ["id", 119]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:57:20.850238"], ["id", 121]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 121]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:57:20.854277' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:57:20.855528' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 121], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 13:57:20.900036"], ["updated_at", "2018-10-07 13:57:20.900036"]]
  [1m[36mSpree::Classification Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 10], ["product_id", 121], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 121], ["taxon_id", 10], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 10], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 10], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 10], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 13:57:20.917158"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 10 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:57:20.922795' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 10) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:57:20.909317"], ["id", 121]]
  [1m[36mSpree::Taxon Load (2.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:57:20.932252' WHERE "spree_taxons"."id" = 10[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:57:20.935485' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 13:57:20.909629"], ["id", 10]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:57:20.939248' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 10) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.8ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 121], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 13:57:20.949809"], ["updated_at", "2018-10-07 13:57:20.949809"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 13:57:20.964451"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 96], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 96], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 96], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 96], ["updated_at", "2018-10-07 13:57:20.971491"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (3.7ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 13:57:20.974619"], ["updated_at", "2018-10-07 13:57:20.974619"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 96], ["country_id", 96], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-2904"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-2904') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-2904"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 2904"], ["description", "Possimus magnam id incidunt error odio aspernatur aut. Quis eius dolorem mollitia perspiciatis qui suscipit. Ut facilis et quia fugit qui. Eaque reiciendis exercitationem ducimus ab voluptate dolorem laboriosam. Sed fugit assumenda quam quis."], ["available_on", "2017-10-07 13:57:20.957371"], ["slug", "product-3-2904"], ["shipping_category_id", 140], ["created_at", "2018-10-07 13:57:20.991451"], ["updated_at", "2018-10-07 13:57:20.991451"]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 122], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 122], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 13:57:20.995605"], ["created_at", "2018-10-07 13:57:20.995605"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 120], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 120], ["stock_location_id", 98], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 98], ["variant_id", 120], ["created_at", "2018-10-07 13:57:21.011199"], ["updated_at", "2018-10-07 13:57:21.011199"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:57:21.013362"], ["id", 120]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 122], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 122], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 122], ["sluggable_type", "Spree::Product"], ["slug", "product-3-2904"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-2904"], ["sluggable_id", 122], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 13:57:21.022418"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 122]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:57:21.026612' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:57:21.027904' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (2.3ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:57:21.014820"], ["id", 122]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:57:21.033096' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:57:21.034573' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 122], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 120], ["id", 107], ["stock_location_id", 98], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 13:57:21.047549"], ["id", 107]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:57:21.049691"], ["id", 120]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:57:21.052951"], ["id", 122]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 122]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:57:21.056962' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:57:21.058193' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 122], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 13:57:21.068149"], ["updated_at", "2018-10-07 13:57:21.068149"]]
  [1m[36mSpree::Classification Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 11], ["product_id", 122], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 122], ["taxon_id", 11], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 11], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 11], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 11], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 13:57:21.082375"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 11 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:57:21.087157' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 11) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:57:21.076300"], ["id", 122]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:57:21.091811' WHERE "spree_taxons"."id" = 11[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:57:21.094473' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 13:57:21.076606"], ["id", 11]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:57:21.097412' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 11) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 122]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 129], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "cyrstal.koch@wilkinson.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "c880e2b46f5793c52986b2bd6b9faed9ce9ba1b413f198f54601acbef9e33a6c91615873edaf8bc3a4f57dcf930b66aaa0f32c0167198d4048e9b8ec1d9cc737"], ["password_salt", "5nybP_M49WyvRbvmxJsQ"], ["email", "cyrstal.koch@wilkinson.co.uk"], ["login", "cyrstal.koch@wilkinson.co.uk"], ["authentication_token", "xxxx15389206418001xxxxxxxxxxxxx"], ["created_at", "2018-10-07 13:57:21.191319"], ["updated_at", "2018-10-07 13:57:21.191319"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 129], ["user_id", 159]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 15:57:21 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 13:57:21.220472"], ["last_sign_in_at", "2018-10-07 13:57:21.220472"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 13:57:21.221462"], ["id", 159]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "Iyos_8AJjsNfrsfQ8tEavg1538920641365"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 13:57:21.385952"], ["spree_api_key", "78c6a005e7fce4bb70cf3b0036830533b9b4b9f9d9682139"], ["id", 159]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 487ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (3.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 13:59:26.144263"], ["updated_at", "2018-10-07 13:59:26.144263"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 13:59:26.327290"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 97], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 97], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 97], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 97], ["updated_at", "2018-10-07 13:59:26.354386"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 13:59:26.359496"], ["updated_at", "2018-10-07 13:59:26.359496"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 97], ["country_id", 97], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-1797"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-1797') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-1797"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 1797"], ["description", "Beatae veniam dolores aut consequatur adipisci excepturi vero. Eum qui tempore omnis doloremque repellat nam. Quasi corrupti rerum sed quaerat qui voluptate. Molestiae non modi id consequuntur numquam autem sed. Aut enim dicta velit aut quidem.\nIusto odio provident voluptates doloribus tenetur consectetur. Ea nesciunt et maxime magnam esse reprehenderit laboriosam pariatur. Laboriosam debitis accusamus et optio commodi voluptatem reiciendis saepe. Ut quidem laudantium ut delectus ea.\nIpsa tenetur id culpa ipsam sit. Esse blanditiis molestiae inventore quisquam est qui expedita. Iusto numquam harum et rerum."], ["available_on", "2017-10-07 13:59:26.245632"], ["slug", "product-1-1797"], ["shipping_category_id", 141], ["created_at", "2018-10-07 13:59:26.385944"], ["updated_at", "2018-10-07 13:59:26.385944"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 123], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 123], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 13:59:26.390449"], ["created_at", "2018-10-07 13:59:26.390449"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 121], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 121], ["stock_location_id", 99], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 99], ["variant_id", 121], ["created_at", "2018-10-07 13:59:26.432305"], ["updated_at", "2018-10-07 13:59:26.432305"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:59:26.434521"], ["id", 121]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 123], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 123], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 123], ["sluggable_type", "Spree::Product"], ["slug", "product-1-1797"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-1797"], ["sluggable_id", 123], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 13:59:26.461190"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 123]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:59:26.488971' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:59:26.493081' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:59:26.435971"], ["id", 123]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:59:26.501327' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:59:26.502630' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 13:59:26.535666"], ["updated_at", "2018-10-07 13:59:26.535666"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 13:59:26.551299"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 98], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 98], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 98], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 98], ["updated_at", "2018-10-07 13:59:26.558709"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 13:59:26.561410"], ["updated_at", "2018-10-07 13:59:26.561410"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 98], ["country_id", 98], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-3850"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-3850') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (9.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-3850"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 3850"], ["description", "Eum necessitatibus dolores dolor natus amet asperiores. Aut sit illo eos enim animi qui vel nisi. Aut tempore natus necessitatibus atque quam laboriosam. Consequatur illo aliquam voluptas fuga molestiae officiis.\nPariatur laborum voluptatem ab est omnis quibusdam et ad. Soluta est maxime aut deleniti. Ut consequatur ipsam ex soluta expedita corporis nisi. Quo sit deleniti quis autem sapiente facere culpa non. Molestiae qui numquam debitis ducimus animi et qui.\nRecusandae et dolor aliquid sit rerum et. Saepe exercitationem velit veritatis minima voluptatem beatae. Aut velit maxime aliquam inventore qui natus suscipit. Consequatur qui magni molestias excepturi omnis iusto at. Magni qui qui ut adipisci dicta dolor praesentium.\nNihil minima sunt accusamus rem. Iusto iste ea autem vitae. Nulla commodi molestiae veniam nihil sed.\nQuia harum saepe maxime odit error nisi. Deleniti quis non totam dignissimos rem et omnis. Et optio animi alias iure nisi placeat est. Sed incidunt aspernatur ut laborum quo reprehenderit dolorem."], ["available_on", "2017-10-07 13:59:26.544071"], ["slug", "product-2-3850"], ["shipping_category_id", 142], ["created_at", "2018-10-07 13:59:26.585133"], ["updated_at", "2018-10-07 13:59:26.585133"]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 124], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 124], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 13:59:26.590573"], ["created_at", "2018-10-07 13:59:26.590573"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 122], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 122], ["stock_location_id", 100], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 100], ["variant_id", 122], ["created_at", "2018-10-07 13:59:26.606208"], ["updated_at", "2018-10-07 13:59:26.606208"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:59:26.608185"], ["id", 122]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 124], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 124], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 124], ["sluggable_type", "Spree::Product"], ["slug", "product-2-3850"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-3850"], ["sluggable_id", 124], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 13:59:26.617077"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 124]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:59:26.620801' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:59:26.622111' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:59:26.609650"], ["id", 124]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:59:26.625119' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:59:26.626284' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 124], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 122], ["id", 109], ["stock_location_id", 100], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 13:59:26.639410"], ["id", 109]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:59:26.641706"], ["id", 122]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:59:26.645017"], ["id", 124]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 124]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:59:26.649002' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:59:26.650204' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 124], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 13:59:26.694691"], ["updated_at", "2018-10-07 13:59:26.694691"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 12], ["product_id", 124], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 124], ["taxon_id", 12], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 12], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 12], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 12], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 13:59:26.711312"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 12 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:59:26.716890' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 12) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:59:26.703924"], ["id", 124]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:59:26.723582' WHERE "spree_taxons"."id" = 12[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:59:26.726664' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 13:59:26.704238"], ["id", 12]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:59:26.729862' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 12) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 124], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 13:59:26.740318"], ["updated_at", "2018-10-07 13:59:26.740318"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 13:59:26.755280"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 99], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 99], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 99], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 99], ["updated_at", "2018-10-07 13:59:26.762680"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 13:59:26.765422"], ["updated_at", "2018-10-07 13:59:26.765422"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 99], ["country_id", 99], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-8307"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-8307') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-8307"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 8307"], ["description", "Tempore tempora natus dolor voluptates. Minima vitae fugit quo qui ut. Natus dolore est est et nulla et culpa. Qui nam necessitatibus labore autem. Aspernatur et esse repellat non voluptates veniam magni."], ["available_on", "2017-10-07 13:59:26.748407"], ["slug", "product-3-8307"], ["shipping_category_id", 143], ["created_at", "2018-10-07 13:59:26.778534"], ["updated_at", "2018-10-07 13:59:26.778534"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 125], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 125], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 13:59:26.782457"], ["created_at", "2018-10-07 13:59:26.782457"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 123], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (2.0ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 123], ["stock_location_id", 101], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 101], ["variant_id", 123], ["created_at", "2018-10-07 13:59:26.799739"], ["updated_at", "2018-10-07 13:59:26.799739"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:59:26.802283"], ["id", 123]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 125], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 125], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 125], ["sluggable_type", "Spree::Product"], ["slug", "product-3-8307"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-8307"], ["sluggable_id", 125], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 13:59:26.812132"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 125]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:59:26.815830' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:59:26.817016' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:59:26.803898"], ["id", 125]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:59:26.819938' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:59:26.821207' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 125], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 123], ["id", 110], ["stock_location_id", 101], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 13:59:26.833007"], ["id", 110]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 13:59:26.835089"], ["id", 123]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:59:26.838154"], ["id", 125]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 125]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:59:26.841937' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:59:26.843098' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 125], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 13:59:26.852478"], ["updated_at", "2018-10-07 13:59:26.852478"]]
  [1m[36mSpree::Classification Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 13], ["product_id", 125], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.4ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 13], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 125], ["taxon_id", 13], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 13], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 13], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 13], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 13:59:26.865710"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 13 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:59:26.870364' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 13) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 13:59:26.860045"], ["id", 125]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:59:26.874990' WHERE "spree_taxons"."id" = 13[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 13:59:26.877718' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 13:59:26.860353"], ["id", 13]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 13:59:26.880759' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 13) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 125]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 130], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "madelaine@prohaskathiel.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "da0fdd7d96c1b03d04a08092047c2fe3eb4b76f1065f07958a9cddf2da6545aa0820e5ab0029736139ef171b773389c46396c5bb569ca6139d22b42bfae41c76"], ["password_salt", "R8RNRzu2k8wfwEti52SZ"], ["email", "madelaine@prohaskathiel.ca"], ["login", "madelaine@prohaskathiel.ca"], ["authentication_token", "xxxx15389207666721xxxxxxxxxxxxx"], ["created_at", "2018-10-07 13:59:26.971213"], ["updated_at", "2018-10-07 13:59:26.971213"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 130], ["user_id", 160]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 15:59:26 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 13:59:27.000685"], ["last_sign_in_at", "2018-10-07 13:59:27.000685"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 13:59:27.001605"], ["id", 160]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "HAXSm52TXIt9XhuCzQUlBA1538920767143"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 13:59:27.176867"], ["spree_api_key", "a7153daa0d9502c51158af6248f6e3fd6d45a84a1943abdc"], ["id", 160]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 515ms (ActiveRecord: 12.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:02:15.526496"], ["updated_at", "2018-10-07 14:02:15.526496"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:02:15.708639"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 100], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 100], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 100], ["updated_at", "2018-10-07 14:02:15.741743"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:02:15.748594"], ["updated_at", "2018-10-07 14:02:15.748594"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 100], ["country_id", 100], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-3167"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-3167') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-3167"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 3167"], ["description", "Assumenda fugit quod quibusdam a officiis et minus sint. Veniam cupiditate suscipit aut voluptates blanditiis voluptas. Quisquam perspiciatis natus et et dolor similique in. Et mollitia ratione aut aut atque sit.\nEveniet dolore ut nihil aliquid quibusdam. Qui alias dignissimos deserunt consequuntur minima corrupti molestiae. Enim labore a id earum consequatur sequi ut quae.\nNulla fuga debitis omnis illo. Recusandae quidem omnis sit et. Error consequatur laboriosam libero minima quasi et dignissimos eaque. Sed repudiandae debitis distinctio quia sunt voluptas.\nMagnam ad suscipit voluptate nihil eligendi quos officia sit. Veritatis itaque quis distinctio quis vel iste. Quis provident eos rerum necessitatibus ipsam hic est. Odio repellat voluptas tempore similique ab doloremque.\nQuia facilis quam blanditiis voluptate corporis maiores et. Autem nulla asperiores voluptatem animi pariatur suscipit. Quo consequatur suscipit est ut dolorum nulla molestiae. Aperiam quisquam ducimus est voluptas error sapiente sunt enim. Iste occaecati voluptate est molestias harum veritatis."], ["available_on", "2017-10-07 14:02:15.627888"], ["slug", "product-1-3167"], ["shipping_category_id", 144], ["created_at", "2018-10-07 14:02:15.776302"], ["updated_at", "2018-10-07 14:02:15.776302"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 126], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 126], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:02:15.781034"], ["created_at", "2018-10-07 14:02:15.781034"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 124], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 124], ["stock_location_id", 102], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 102], ["variant_id", 124], ["created_at", "2018-10-07 14:02:15.826516"], ["updated_at", "2018-10-07 14:02:15.826516"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:02:15.829769"], ["id", 124]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 126], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 126], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 126], ["sluggable_type", "Spree::Product"], ["slug", "product-1-3167"]]
  [1m[35mSQL (2.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-3167"], ["sluggable_id", 126], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:02:15.858273"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 126]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:02:15.893533' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:02:15.898072' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:02:15.831388"], ["id", 126]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:02:15.907652' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:02:15.909133' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:02:15.942341"], ["updated_at", "2018-10-07 14:02:15.942341"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:02:15.957662"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 101], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 101], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 101], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 101], ["updated_at", "2018-10-07 14:02:15.965409"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:02:15.968003"], ["updated_at", "2018-10-07 14:02:15.968003"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 101], ["country_id", 101], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (4.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-912"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-912') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-912"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 912"], ["description", "Tenetur est et ut similique. Quidem ad officiis commodi voluptatibus at. Iusto nemo maxime reiciendis qui est earum neque eligendi. Nihil enim iste velit odit accusantium.\nFacilis vitae veniam qui qui ullam. Pariatur illo repellendus at voluptas molestias quaerat dolorum. Dolorum soluta laboriosam et harum consequatur voluptatem architecto aliquam. Voluptates consequatur velit tenetur dolores rerum accusamus ducimus. Labore atque eos debitis nisi.\nDolor laudantium dolorem voluptatem ipsum. Qui occaecati aut autem aperiam magni sed placeat culpa. Facilis nemo nisi quia eveniet quasi nobis ut. Dolore blanditiis aspernatur nihil tempore sed. Neque sequi ea nihil repudiandae."], ["available_on", "2017-10-07 14:02:15.950813"], ["slug", "product-2-912"], ["shipping_category_id", 145], ["created_at", "2018-10-07 14:02:15.985347"], ["updated_at", "2018-10-07 14:02:15.985347"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 127], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 127], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:02:15.989413"], ["created_at", "2018-10-07 14:02:15.989413"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 125], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 125], ["stock_location_id", 103], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 103], ["variant_id", 125], ["created_at", "2018-10-07 14:02:16.006645"], ["updated_at", "2018-10-07 14:02:16.006645"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:02:16.009054"], ["id", 125]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 127], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 127], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 127], ["sluggable_type", "Spree::Product"], ["slug", "product-2-912"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-912"], ["sluggable_id", 127], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:02:16.018410"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 127]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:02:16.022513' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:02:16.023846' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:02:16.010557"], ["id", 127]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:02:16.026979' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:02:16.028153' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 127], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 125], ["id", 112], ["stock_location_id", 103], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:02:16.042273"], ["id", 112]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:02:16.044413"], ["id", 125]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:02:16.047521"], ["id", 127]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 127]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:02:16.051437' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:02:16.052749' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 127], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:02:16.099727"], ["updated_at", "2018-10-07 14:02:16.099727"]]
  [1m[36mSpree::Classification Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 14], ["product_id", 127], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.4ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 14], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 127], ["taxon_id", 14], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 14], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 14], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 14], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:02:16.116601"]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 14 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:02:16.122740' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 14) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:02:16.108904"], ["id", 127]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:02:16.132183' WHERE "spree_taxons"."id" = 14[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:02:16.135027' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:02:16.109235"], ["id", 14]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:02:16.138449' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 14) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 127], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:02:16.148618"], ["updated_at", "2018-10-07 14:02:16.148618"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:02:16.167428"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 102], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 102], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 102], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 102], ["updated_at", "2018-10-07 14:02:16.175190"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:02:16.181644"], ["updated_at", "2018-10-07 14:02:16.181644"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 102], ["country_id", 102], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-6901"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-6901') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-6901"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 6901"], ["description", "Accusantium consequatur placeat eligendi incidunt dolores. Optio illum pariatur hic et veritatis. Illo facere aliquid est nihil. Aliquam possimus debitis id cumque.\nQuasi quos atque occaecati odio. Animi recusandae rerum asperiores laborum repudiandae numquam eum molestiae. Odit quisquam perferendis eius tempora illum fugit tenetur.\nDeleniti optio recusandae quod dolor et ut a. Pariatur nisi quos quo similique. Doloribus optio ducimus rem cum et eos non dolorem.\nVoluptatem error quidem provident aut et. Sed fugit est libero aut recusandae reiciendis perferendis eos. Quia facere ducimus expedita voluptas aut. Reprehenderit cum in qui et perferendis omnis assumenda provident.\nNecessitatibus molestiae autem omnis velit. Eveniet neque aut similique est. Iusto ut quae voluptas inventore voluptatum ea dolores. Praesentium cupiditate adipisci iste commodi nam magnam voluptatibus voluptatem. Sed ut quia non reiciendis ducimus."], ["available_on", "2017-10-07 14:02:16.159667"], ["slug", "product-3-6901"], ["shipping_category_id", 146], ["created_at", "2018-10-07 14:02:16.195619"], ["updated_at", "2018-10-07 14:02:16.195619"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 128], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 128], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:02:16.201186"], ["created_at", "2018-10-07 14:02:16.201186"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 126], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 126], ["stock_location_id", 104], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 104], ["variant_id", 126], ["created_at", "2018-10-07 14:02:16.219926"], ["updated_at", "2018-10-07 14:02:16.219926"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:02:16.222150"], ["id", 126]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 128], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 128], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 128], ["sluggable_type", "Spree::Product"], ["slug", "product-3-6901"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-6901"], ["sluggable_id", 128], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:02:16.232049"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 128]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:02:16.236248' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:02:16.237627' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:02:16.223629"], ["id", 128]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:02:16.241028' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:02:16.242353' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 128], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 126], ["id", 113], ["stock_location_id", 104], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:02:16.258243"], ["id", 113]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:02:16.261121"], ["id", 126]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:02:16.265246"], ["id", 128]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 128]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:02:16.269472' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:02:16.270788' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 128], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:02:16.288181"], ["updated_at", "2018-10-07 14:02:16.288181"]]
  [1m[36mSpree::Classification Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 15], ["product_id", 128], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 128], ["taxon_id", 15], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 15], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 15], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 15], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:02:16.304632"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 15 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:02:16.309855' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 15) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:02:16.297750"], ["id", 128]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:02:16.314920' WHERE "spree_taxons"."id" = 15[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:02:16.318104' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:02:16.298171"], ["id", 15]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:02:16.321180' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 15) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 128]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 131], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "maybelle.parker@davis.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "9988b4ff83a8775d815500a36e99d4d4461e5f0a67ff89cc8cf37a9db5be26212439172ceea9cacdac9fa05361f9e18322031c45b07cd7dd27f2582f9e198536"], ["password_salt", "nN5fNifB2BcGAbQi4_Qr"], ["email", "maybelle.parker@davis.co.uk"], ["login", "maybelle.parker@davis.co.uk"], ["authentication_token", "xxxx15389209363531xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:02:16.420461"], ["updated_at", "2018-10-07 14:02:16.420461"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 131], ["user_id", 161]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:02:16 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:02:16.450336"], ["last_sign_in_at", "2018-10-07 14:02:16.450336"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:02:16.451399"], ["id", 161]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "AtK6k38IYptAtIeEHgHDAg1538920936608"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:02:16.629802"], ["spree_api_key", "e5722a084d443bb32bb3b3e089b857309570cf0917d57ab8"], ["id", 161]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 501ms (ActiveRecord: 7.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:03:24.836520"], ["updated_at", "2018-10-07 14:03:24.836520"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:03:24.991140"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 103], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 103], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 103], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 103], ["updated_at", "2018-10-07 14:03:25.018381"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:03:25.023238"], ["updated_at", "2018-10-07 14:03:25.023238"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 103], ["country_id", 103], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-7929"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-7929') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-7929"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 7929"], ["description", "Quo eos voluptatum veritatis dolores quia repellat reprehenderit non. Vel eos distinctio asperiores sint tempora voluptatem natus doloremque. Similique delectus voluptatem sequi eius culpa aperiam eveniet libero. Ullam officia corporis exercitationem asperiores dolorem.\nConsequuntur nam facilis sint ut tempora ut. Voluptas qui et qui dolorem. Et sit nemo corrupti pariatur qui. Maiores voluptatum beatae quisquam a similique. Culpa et expedita doloribus odio dolorem eaque enim.\nNihil harum pariatur recusandae odio. Veniam molestiae eos explicabo iste at facilis. Quis nihil eos qui et quibusdam. Nobis quas quis ipsum quo inventore."], ["available_on", "2017-10-07 14:03:24.934396"], ["slug", "product-1-7929"], ["shipping_category_id", 147], ["created_at", "2018-10-07 14:03:25.047862"], ["updated_at", "2018-10-07 14:03:25.047862"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 129], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 129], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:03:25.052943"], ["created_at", "2018-10-07 14:03:25.052943"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 127], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 127], ["stock_location_id", 105], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 105], ["variant_id", 127], ["created_at", "2018-10-07 14:03:25.108531"], ["updated_at", "2018-10-07 14:03:25.108531"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.110973"], ["id", 127]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 129], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.6ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 129], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 129], ["sluggable_type", "Spree::Product"], ["slug", "product-1-7929"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-7929"], ["sluggable_id", 129], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:03:25.141297"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 129]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.171841' WHERE 1=0[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:03:25.176270' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.112665"], ["id", 129]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.185743' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:03:25.187609' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 129], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 127], ["id", 114], ["stock_location_id", 105], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:03:25.212979"], ["id", 114]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.215518"], ["id", 127]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.219173"], ["id", 129]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 129]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.223680' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:03:25.225124' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 129], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:03:25.281239"], ["updated_at", "2018-10-07 14:03:25.281239"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 16], ["product_id", 129], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 16], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 129], ["taxon_id", 16], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 16], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 16], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 16], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:03:25.305409"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 16 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.313144' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 16) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.293220"], ["id", 129]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.322383' WHERE "spree_taxons"."id" = 16[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:03:25.326511' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.293536"], ["id", 16]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.330361' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 16) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:03:25.338664"], ["updated_at", "2018-10-07 14:03:25.338664"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:03:25.362820"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 104], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 104], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 104], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 104], ["updated_at", "2018-10-07 14:03:25.372761"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:03:25.376104"], ["updated_at", "2018-10-07 14:03:25.376104"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 104], ["country_id", 104], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-7803"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-7803') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-7803"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 7803"], ["description", "Eos id natus non enim. Aut ab ullam alias officia. Sint quidem mollitia sint voluptate voluptatibus. Reiciendis in consectetur doloremque vero. Eos atque alias suscipit velit magni.\nVoluptatem voluptas odit iusto omnis saepe. Quam nesciunt optio ab molestiae aut placeat officia. Expedita nulla animi et cupiditate sed. Et alias at ipsa aliquam.\nConsequatur atque quaerat molestiae quos occaecati quam dolor est. Sequi omnis placeat quia sit temporibus est veniam quia. Enim sed tempora in deleniti consequatur ut numquam.\nMaxime mollitia reprehenderit sunt aut consequatur nostrum et. Non ut eius nam et minus quidem eveniet. Sed velit quas rerum aut eos deleniti animi. Quasi in exercitationem aperiam aut eum et quia minus. Et et totam ipsam in ut."], ["available_on", "2017-10-07 14:03:25.352635"], ["slug", "product-2-7803"], ["shipping_category_id", 148], ["created_at", "2018-10-07 14:03:25.393832"], ["updated_at", "2018-10-07 14:03:25.393832"]]
  [1m[36mSpree::Variant Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 130], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 130], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:03:25.400460"], ["created_at", "2018-10-07 14:03:25.400460"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 128], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 128], ["stock_location_id", 106], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 106], ["variant_id", 128], ["created_at", "2018-10-07 14:03:25.422327"], ["updated_at", "2018-10-07 14:03:25.422327"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.425107"], ["id", 128]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 130], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 130], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 130], ["sluggable_type", "Spree::Product"], ["slug", "product-2-7803"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-7803"], ["sluggable_id", 130], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:03:25.438582"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 130]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.443785' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:03:25.445182' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.427152"], ["id", 130]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.449151' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:03:25.450416' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 130], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 128], ["id", 115], ["stock_location_id", 106], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:03:25.466230"], ["id", 115]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.469724"], ["id", 128]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.473858"], ["id", 130]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 130]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.479686' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:03:25.480917' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 130], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (2.8ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:03:25.494234"], ["updated_at", "2018-10-07 14:03:25.494234"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 17], ["product_id", 130], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 17], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 130], ["taxon_id", 17], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 17], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 17], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 17], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:03:25.515562"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 17 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.521680' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 17) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.507187"], ["id", 130]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.526765' WHERE "spree_taxons"."id" = 17[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:03:25.530386' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.507470"], ["id", 17]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.534491' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 17) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 130], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:03:25.547112"], ["updated_at", "2018-10-07 14:03:25.547112"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:03:25.581688"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 105], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 105], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 105], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 105], ["updated_at", "2018-10-07 14:03:25.588972"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:03:25.591577"], ["updated_at", "2018-10-07 14:03:25.591577"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 105], ["country_id", 105], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-8322"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-8322') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-8322"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 8322"], ["description", "Quaerat quia est aut accusamus. Reiciendis autem dolores excepturi aut. Iure sed atque rerum dolorum recusandae."], ["available_on", "2017-10-07 14:03:25.574489"], ["slug", "product-3-8322"], ["shipping_category_id", 149], ["created_at", "2018-10-07 14:03:25.605564"], ["updated_at", "2018-10-07 14:03:25.605564"]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 131], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 131], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:03:25.609972"], ["created_at", "2018-10-07 14:03:25.609972"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 129], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 129], ["stock_location_id", 107], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 107], ["variant_id", 129], ["created_at", "2018-10-07 14:03:25.625588"], ["updated_at", "2018-10-07 14:03:25.625588"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.627676"], ["id", 129]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 131], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 131], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 131], ["sluggable_type", "Spree::Product"], ["slug", "product-3-8322"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-8322"], ["sluggable_id", 131], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:03:25.636924"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 131]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.641076' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:03:25.642425' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.629138"], ["id", 131]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.645565' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:03:25.646869' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 131], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 129], ["id", 116], ["stock_location_id", 107], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:03:25.659248"], ["id", 116]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.661482"], ["id", 129]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.664826"], ["id", 131]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 131]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.668976' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:03:25.670216' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 131], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:03:25.679996"], ["updated_at", "2018-10-07 14:03:25.679996"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 18], ["product_id", 131], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 18], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 131], ["taxon_id", 18], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 18], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 18], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 18], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:03:25.694006"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 18 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.699130' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 18) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (2.2ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.687975"], ["id", 131]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.705978' WHERE "spree_taxons"."id" = 18[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:03:25.708635' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:03:25.688279"], ["id", 18]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:03:25.711782' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 18) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 131]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 132], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "charity.langosh@brown.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "6625ad46f1f4a18a5704b28d00cacb3c32fc34df92ae23cec3fc8a16383d26c11d6e10e8387b4b80524c9ea5096ef0fca227433f8da7b4fb490e298b0be4131f"], ["password_salt", "nv1LdDeG5eLyMQ1sG6hq"], ["email", "charity.langosh@brown.info"], ["login", "charity.langosh@brown.info"], ["authentication_token", "xxxx15389210057591xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:03:25.807051"], ["updated_at", "2018-10-07 14:03:25.807051"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 132], ["user_id", 162]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:03:25 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:03:25.834547"], ["last_sign_in_at", "2018-10-07 14:03:25.834547"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:03:25.835556"], ["id", 162]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "HxAYIKTZukIb4HW6TH9nTQ1538921005961"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:03:25.979603"], ["spree_api_key", "97d9cacbe248fd6e3f6ff10e980609cd50d85ebf479462db"], ["id", 162]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 490ms (ActiveRecord: 6.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:06:08.867675"], ["updated_at", "2018-10-07 14:06:08.867675"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.6ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.8ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:06:09.064210"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 106], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 106], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 106], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 106], ["updated_at", "2018-10-07 14:06:09.095975"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:06:09.101277"], ["updated_at", "2018-10-07 14:06:09.101277"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 106], ["country_id", 106], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.1ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-8723"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-8723') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-8723"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 8723"], ["description", "Molestiae aut architecto beatae delectus. Vel fuga omnis repudiandae omnis molestias. Asperiores illum delectus doloremque et facilis nemo. Aut temporibus voluptatem soluta quis rerum libero harum.\nUllam et saepe qui eum nesciunt. Itaque culpa sint praesentium quia sequi incidunt placeat expedita. Vel dolorem molestiae quam non in voluptate et. Qui in vel est reprehenderit autem quisquam atque.\nMagnam quis sed atque sit mollitia. Illo est quia non officiis veritatis et. Qui aut inventore ullam recusandae corporis.\nReiciendis tempora molestias est veniam consequatur. Dolores aut voluptatem laboriosam dolor quis iste minima et. Consequuntur vitae nostrum fugiat neque. Omnis ut at voluptatibus autem ullam ut."], ["available_on", "2017-10-07 14:06:08.973395"], ["slug", "product-1-8723"], ["shipping_category_id", 150], ["created_at", "2018-10-07 14:06:09.134449"], ["updated_at", "2018-10-07 14:06:09.134449"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 132], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 132], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:06:09.139359"], ["created_at", "2018-10-07 14:06:09.139359"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 130], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (2.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 130], ["stock_location_id", 108], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 108], ["variant_id", 130], ["created_at", "2018-10-07 14:06:09.186178"], ["updated_at", "2018-10-07 14:06:09.186178"], ["backorderable", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.188570"], ["id", 130]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 132], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 132], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 132], ["sluggable_type", "Spree::Product"], ["slug", "product-1-8723"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-8723"], ["sluggable_id", 132], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:06:09.217641"]]
  [1m[36mSpree::Taxon Load (1.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 132]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.247574' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:06:09.252065' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.190476"], ["id", 132]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.260196' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:06:09.261639' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 132], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 130], ["id", 117], ["stock_location_id", 108], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:06:09.284937"], ["id", 117]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.287334"], ["id", 130]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.290692"], ["id", 132]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 132]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.294889' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:06:09.296173' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 132], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:06:09.340390"], ["updated_at", "2018-10-07 14:06:09.340390"]]
  [1m[36mSpree::Classification Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 19], ["product_id", 132], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.4ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 19], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 132], ["taxon_id", 19], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 19], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 19], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 19], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:06:09.357747"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 19 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.363460' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 19) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.350149"], ["id", 132]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.370258' WHERE "spree_taxons"."id" = 19[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:06:09.373126' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.350468"], ["id", 19]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.376373' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 19) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:06:09.383657"], ["updated_at", "2018-10-07 14:06:09.383657"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:06:09.399283"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 107], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 107], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 107], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 107], ["updated_at", "2018-10-07 14:06:09.406612"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:06:09.409446"], ["updated_at", "2018-10-07 14:06:09.409446"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 107], ["country_id", 107], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-1340"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-1340') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-1340"], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 1340"], ["description", "Distinctio vero amet temporibus sed sapiente. Sequi libero illum quia aliquam. Molestiae temporibus omnis dignissimos ut saepe id odio. Voluptas quae dolorum sint et voluptatem. Explicabo ea temporibus reprehenderit excepturi est.\nLaborum modi rerum error qui. Sit nihil hic voluptate quia sint. Aliquam consequatur molestias quis voluptate eligendi reiciendis vel.\nAspernatur ducimus nisi ullam voluptate similique temporibus. Inventore iusto vitae pariatur officia voluptate et quo. Ipsum repudiandae ea est possimus. Ut minima nihil esse non eligendi similique.\nAut quis sit reiciendis omnis delectus ea. Modi ipsa sed ut qui dolores aut. Aliquam qui non molestiae doloremque consequatur fuga repellendus est."], ["available_on", "2017-10-07 14:06:09.392431"], ["slug", "product-2-1340"], ["shipping_category_id", 151], ["created_at", "2018-10-07 14:06:09.422428"], ["updated_at", "2018-10-07 14:06:09.422428"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 133], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 133], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:06:09.428186"], ["created_at", "2018-10-07 14:06:09.428186"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 131], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 131], ["stock_location_id", 109], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 109], ["variant_id", 131], ["created_at", "2018-10-07 14:06:09.444475"], ["updated_at", "2018-10-07 14:06:09.444475"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.446506"], ["id", 131]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 133], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 133], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 133], ["sluggable_type", "Spree::Product"], ["slug", "product-2-1340"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-1340"], ["sluggable_id", 133], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:06:09.455663"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 133]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.459655' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:06:09.460991' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.447971"], ["id", 133]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.463954' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:06:09.465164' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 133], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 131], ["id", 118], ["stock_location_id", 109], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:06:09.477705"], ["id", 118]]
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.480114"], ["id", 131]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.485008"], ["id", 133]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 133]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.489141' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:06:09.490399' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 133], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:06:09.500698"], ["updated_at", "2018-10-07 14:06:09.500698"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 20], ["product_id", 133], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 20], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 133], ["taxon_id", 20], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 20], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 20], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 20], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:06:09.515036"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 20 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.519809' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 20) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.509236"], ["id", 133]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.524684' WHERE "spree_taxons"."id" = 20[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:06:09.529171' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.509553"], ["id", 20]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.532404' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 20) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 133], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:06:09.543103"], ["updated_at", "2018-10-07 14:06:09.543103"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:06:09.558187"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 108], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 108], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 108], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 108], ["updated_at", "2018-10-07 14:06:09.565396"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:06:09.568135"], ["updated_at", "2018-10-07 14:06:09.568135"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 108], ["country_id", 108], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-9756"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-9756') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-9756"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 9756"], ["description", "Nihil sed eligendi voluptatem et explicabo. Eligendi enim ullam culpa id id nulla voluptatum. Asperiores ut et sint quo."], ["available_on", "2017-10-07 14:06:09.551377"], ["slug", "product-3-9756"], ["shipping_category_id", 152], ["created_at", "2018-10-07 14:06:09.581454"], ["updated_at", "2018-10-07 14:06:09.581454"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 134], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 134], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:06:09.585558"], ["created_at", "2018-10-07 14:06:09.585558"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 132], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 132], ["stock_location_id", 110], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 110], ["variant_id", 132], ["created_at", "2018-10-07 14:06:09.601194"], ["updated_at", "2018-10-07 14:06:09.601194"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.603245"], ["id", 132]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 134], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 134], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 134], ["sluggable_type", "Spree::Product"], ["slug", "product-3-9756"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-9756"], ["sluggable_id", 134], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:06:09.612439"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 134]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.616474' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:06:09.617861' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.604738"], ["id", 134]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.620865' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:06:09.622169' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.0ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 134], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 132], ["id", 119], ["stock_location_id", 110], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:06:09.635754"], ["id", 119]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.637993"], ["id", 132]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.641366"], ["id", 134]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 134]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.645445' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:06:09.646766' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 134], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:06:09.657329"], ["updated_at", "2018-10-07 14:06:09.657329"]]
  [1m[36mSpree::Classification Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 21], ["product_id", 134], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.4ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 134], ["taxon_id", 21], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 21], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 21], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 21], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:06:09.671382"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 21 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.676314' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 21) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.665452"], ["id", 134]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.681231' WHERE "spree_taxons"."id" = 21[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:06:09.684137' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:06:09.665765"], ["id", 21]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:06:09.687403' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 21) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 134]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 133], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "elke@lueilwitz.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "f98533fbddc51bb1be9dde9e4c6ec6dee1a860c3c1d5d9747e2c4c9fdf77a63b95d7f79b581a067d0a2eaf1ca9c8357e92f82177efbb6d6ddce8968cdb7adf91"], ["password_salt", "mdyF2utfeEzgukrFbmfH"], ["email", "elke@lueilwitz.ca"], ["login", "elke@lueilwitz.ca"], ["authentication_token", "xxxx15389211692721xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:06:09.787155"], ["updated_at", "2018-10-07 14:06:09.787155"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 133], ["user_id", 163]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:06:09 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:06:09.816142"], ["last_sign_in_at", "2018-10-07 14:06:09.816142"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:06:09.817146"], ["id", 163]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "IaDV2u2H5XtVxA-xn835UA1538921169964"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:06:09.983655"], ["spree_api_key", "c661b05a98d08c934aa78248cb22917c9e9ef9ed89fb3fe2"], ["id", 163]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 499ms (ActiveRecord: 6.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:07:06.609197"], ["updated_at", "2018-10-07 14:07:06.609197"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:07:06.773489"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 109], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 109], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 109], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 109], ["updated_at", "2018-10-07 14:07:06.797499"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:07:06.802180"], ["updated_at", "2018-10-07 14:07:06.802180"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 109], ["country_id", 109], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-1178"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-1178') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-1178"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 1178"], ["description", "Dignissimos soluta provident eius voluptas suscipit magnam. Incidunt omnis magnam fugit maiores et. Rerum harum corrupti vitae alias.\nPlaceat et facere exercitationem autem vitae tenetur. Possimus incidunt ratione odio sed qui quaerat. Porro est earum esse voluptatum doloribus et dicta rem.\nItaque corrupti consequatur sed ipsa fuga. Reprehenderit voluptatem enim quia doloribus. Harum sed magni qui ratione quae. Aspernatur exercitationem mollitia quidem itaque et.\nDistinctio eveniet laudantium voluptas veniam. Sit omnis voluptates iste a excepturi molestias. Qui similique sunt id voluptates suscipit cumque ipsum. Quae consectetur illo quasi eos id aperiam sunt enim."], ["available_on", "2017-10-07 14:07:06.705557"], ["slug", "product-1-1178"], ["shipping_category_id", 153], ["created_at", "2018-10-07 14:07:06.827710"], ["updated_at", "2018-10-07 14:07:06.827710"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 135], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 135], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:07:06.832556"], ["created_at", "2018-10-07 14:07:06.832556"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 133], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 133], ["stock_location_id", 111], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 111], ["variant_id", 133], ["created_at", "2018-10-07 14:07:06.874342"], ["updated_at", "2018-10-07 14:07:06.874342"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:07:06.876707"], ["id", 133]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 135], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 135], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 135], ["sluggable_type", "Spree::Product"], ["slug", "product-1-1178"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-1178"], ["sluggable_id", 135], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:07:06.905432"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 135]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:07:06.933647' WHERE 1=0[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:07:06.938099' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:07:06.878418"], ["id", 135]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:07:06.947354' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:07:06.948967' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:07:06.964667"], ["updated_at", "2018-10-07 14:07:06.964667"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:07:06.979858"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 110], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 110], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 110], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 110], ["updated_at", "2018-10-07 14:07:06.987025"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:07:06.991432"], ["updated_at", "2018-10-07 14:07:06.991432"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 110], ["country_id", 110], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-9241"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-9241') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-9241"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 9241"], ["description", "Enim est harum sapiente corrupti ut facere. Et consequatur sit quo asperiores. Dolores dolores quam est temporibus voluptas in placeat ut. Veniam amet placeat quidem voluptas dolorem.\nSunt quae perferendis sed omnis eligendi dolorum. Aspernatur modi nobis voluptatem eligendi. Minus tempora quibusdam repellat accusantium laudantium qui sunt sint. Accusamus eius aliquam non commodi. Voluptatem exercitationem sed odio dolores voluptas quas sed possimus.\nOdio blanditiis odit reprehenderit voluptas et optio est quia. Repellendus qui amet illo modi dolorem molestiae error impedit. Veniam ea repudiandae optio itaque aut commodi velit. Ut debitis aspernatur consequuntur delectus ab culpa sint."], ["available_on", "2017-10-07 14:07:06.972858"], ["slug", "product-2-9241"], ["shipping_category_id", 154], ["created_at", "2018-10-07 14:07:07.005036"], ["updated_at", "2018-10-07 14:07:07.005036"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 136], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 136], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:07:07.010179"], ["created_at", "2018-10-07 14:07:07.010179"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 134], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 134], ["stock_location_id", 112], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 112], ["variant_id", 134], ["created_at", "2018-10-07 14:07:07.027129"], ["updated_at", "2018-10-07 14:07:07.027129"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:07:07.029234"], ["id", 134]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 136], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 136], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 136], ["sluggable_type", "Spree::Product"], ["slug", "product-2-9241"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-9241"], ["sluggable_id", 136], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:07:07.038686"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 136]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:07:07.042795' WHERE 1=0[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:07:07.044107' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:07:07.030780"], ["id", 136]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:07:07.048037' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:07:07.049332' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:07:07.055735"], ["updated_at", "2018-10-07 14:07:07.055735"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:07:07.070935"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 111], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 111], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 111], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 111], ["updated_at", "2018-10-07 14:07:07.077994"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:07:07.082137"], ["updated_at", "2018-10-07 14:07:07.082137"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 111], ["country_id", 111], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-8498"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-8498') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-8498"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 8498"], ["description", "Iste aliquam ad perferendis quia sunt rerum. Id debitis ad consequatur aut beatae eligendi non dolore. Explicabo tenetur aut voluptatem mollitia adipisci. Rerum odit nihil neque error voluptates aliquid quibusdam. Asperiores molestiae dolores qui sunt voluptatum fuga."], ["available_on", "2017-10-07 14:07:07.063730"], ["slug", "product-3-8498"], ["shipping_category_id", 155], ["created_at", "2018-10-07 14:07:07.095382"], ["updated_at", "2018-10-07 14:07:07.095382"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 137], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 137], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:07:07.099472"], ["created_at", "2018-10-07 14:07:07.099472"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 135], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 135], ["stock_location_id", 113], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 113], ["variant_id", 135], ["created_at", "2018-10-07 14:07:07.115266"], ["updated_at", "2018-10-07 14:07:07.115266"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:07:07.117366"], ["id", 135]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 137], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 137], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 137], ["sluggable_type", "Spree::Product"], ["slug", "product-3-8498"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-8498"], ["sluggable_id", 137], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:07:07.126927"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 137]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:07:07.130943' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:07:07.132241' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:07:07.118858"], ["id", 137]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:07:07.135355' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:07:07.136683' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 134], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "virgilio@hahnstiedemann.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "c114a449779d4e719dce6e6ab22d66219e7f9dadb6a956665f4663c546791a82447402d04fe40555332c7f997074774e900365abda1a7501b0dfa855a006da77"], ["password_salt", "hTSnT6PYyvcCFec5jon-"], ["email", "virgilio@hahnstiedemann.name"], ["login", "virgilio@hahnstiedemann.name"], ["authentication_token", "xxxx15389212279151xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:07:07.229097"], ["updated_at", "2018-10-07 14:07:07.229097"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 134], ["user_id", 164]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:07:07 +0200
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:07:07.258798"], ["last_sign_in_at", "2018-10-07 14:07:07.258798"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:07:07.260036"], ["id", 164]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "BKt3yVxhsOtAdY_16luLSQ1538921227389"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:07:07.408923"], ["spree_api_key", "b6319eaea211ba954cd61c68f3e1c56049438570b4b0fb39"], ["id", 164]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 493ms (ActiveRecord: 7.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:24:59.686515"], ["updated_at", "2018-10-07 14:24:59.686515"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:24:59.859810"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 112], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 112], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 112], ["LIMIT", 1]]
  [1m[35mSQL (3.8ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 112], ["updated_at", "2018-10-07 14:24:59.891803"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:24:59.900163"], ["updated_at", "2018-10-07 14:24:59.900163"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 112], ["country_id", 112], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.1ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-6742"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-6742') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-6742"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 6742"], ["description", "Qui nisi in eligendi soluta praesentium voluptas nihil aspernatur. Deserunt iste qui et id nulla fugit repudiandae. Omnis voluptate praesentium ut ea impedit est laudantium voluptatem. Et dolore iure enim dolorem."], ["available_on", "2017-10-07 14:24:59.782697"], ["slug", "product-1-6742"], ["shipping_category_id", 156], ["created_at", "2018-10-07 14:24:59.927993"], ["updated_at", "2018-10-07 14:24:59.927993"]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 138], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 138], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:24:59.933190"], ["created_at", "2018-10-07 14:24:59.933190"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 136], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 136], ["stock_location_id", 114], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 114], ["variant_id", 136], ["created_at", "2018-10-07 14:24:59.977735"], ["updated_at", "2018-10-07 14:24:59.977735"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:24:59.980273"], ["id", 136]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 138], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 138], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 138], ["sluggable_type", "Spree::Product"], ["slug", "product-1-6742"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-6742"], ["sluggable_id", 138], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:25:00.009186"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 138]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.037129' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:25:00.041058' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:24:59.981901"], ["id", 138]]
  [1m[35mSQL (3.3ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.048836' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:25:00.053306' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.8ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 138], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (3.1ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 136], ["id", 123], ["stock_location_id", 114], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:25:00.078937"], ["id", 123]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:25:00.081289"], ["id", 136]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:25:00.084961"], ["id", 138]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 138]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.091845' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:25:00.093387' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (4.9ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 138], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:25:00.143935"], ["updated_at", "2018-10-07 14:25:00.143935"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 22], ["product_id", 138], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 22], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 138], ["taxon_id", 22], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 22], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 22], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 22], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:25:00.161399"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 22 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.166970' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 22) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:25:00.153755"], ["id", 138]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.173766' WHERE "spree_taxons"."id" = 22[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:25:00.176639' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:25:00.154096"], ["id", 22]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.180208' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 22) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:25:00.187368"], ["updated_at", "2018-10-07 14:25:00.187368"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:25:00.204040"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 113], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 113], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 113], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 113], ["updated_at", "2018-10-07 14:25:00.211393"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:25:00.214034"], ["updated_at", "2018-10-07 14:25:00.214034"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 113], ["country_id", 113], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-561"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-561') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-561"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 561"], ["description", "Libero non ducimus rem eius quae culpa eveniet ratione. Quia atque nam quo aliquam deserunt et totam beatae. Accusamus esse ad culpa et ut sint. Accusamus est debitis non libero praesentium sed. Cupiditate et facere est et quae voluptatem deleniti accusantium.\nOmnis dignissimos fuga temporibus odit aut amet ex. Hic ducimus numquam architecto illo veniam quis labore. Voluptatem ducimus veniam voluptatem nesciunt eius blanditiis ullam.\nConsectetur est modi excepturi iste. Deleniti voluptatibus exercitationem eos reiciendis a. Omnis corrupti excepturi minus quo porro.\nDucimus eum vel autem sit deleniti perspiciatis repellat. Numquam qui tempora sit exercitationem et. Dignissimos modi sequi officia amet nostrum. Dolor dolores sit molestiae incidunt. Modi tempore minus eius nam sed dolores sunt nihil.\nQuia saepe et sunt ducimus nostrum vero. Beatae vel cum eius est doloribus quia. Possimus doloribus sequi hic aut iste dolorem. Sunt unde soluta vero praesentium iusto."], ["available_on", "2017-10-07 14:25:00.196238"], ["slug", "product-2-561"], ["shipping_category_id", 157], ["created_at", "2018-10-07 14:25:00.226946"], ["updated_at", "2018-10-07 14:25:00.226946"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 139], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 139], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:25:00.231025"], ["created_at", "2018-10-07 14:25:00.231025"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 137], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 139], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 137], ["stock_location_id", 115], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 115], ["variant_id", 137], ["created_at", "2018-10-07 14:25:00.246105"], ["updated_at", "2018-10-07 14:25:00.246105"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:25:00.248106"], ["id", 137]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 139], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 139], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 139], ["sluggable_type", "Spree::Product"], ["slug", "product-2-561"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-561"], ["sluggable_id", 139], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:25:00.257142"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 139]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.261091' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:25:00.262396' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:25:00.249555"], ["id", 139]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.265457' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:25:00.266734' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 139], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 137], ["id", 124], ["stock_location_id", 115], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:25:00.279227"], ["id", 124]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:25:00.281457"], ["id", 137]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 139], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:25:00.284774"], ["id", 139]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 139]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.288739' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:25:00.289992' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 139], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:25:00.300351"], ["updated_at", "2018-10-07 14:25:00.300351"]]
  [1m[36mSpree::Classification Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 23], ["product_id", 139], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 23], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 139], ["taxon_id", 23], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 23], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 23], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 23], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:25:00.314840"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 23 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.319705' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 23) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:25:00.309058"], ["id", 139]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.324667' WHERE "spree_taxons"."id" = 23[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:25:00.327508' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:25:00.309379"], ["id", 23]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.330656' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 23) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 139], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:25:00.340676"], ["updated_at", "2018-10-07 14:25:00.340676"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:25:00.355667"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 114], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 114], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 114], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 114], ["updated_at", "2018-10-07 14:25:00.362924"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:25:00.365527"], ["updated_at", "2018-10-07 14:25:00.365527"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 114], ["country_id", 114], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-1') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 1"], ["description", "Nihil incidunt et illo autem id ullam est. Et porro ipsum dolorem accusantium sit quia eos. Sed unde repellendus cupiditate fuga veniam. Sunt officia labore dolore ut aliquid.\nAccusamus natus at omnis voluptates sint temporibus consequatur. Optio et at sint et facilis sapiente est. Sequi modi deleniti eum nulla aut aliquam accusamus.\nRerum excepturi dolorem qui sit veniam. Qui doloremque cum qui optio iure. Est sequi ipsam quo impedit eum at. At accusantium dolorem sequi consectetur ut illum libero.\nCumque sapiente et occaecati autem ut. Et reiciendis cum necessitatibus perspiciatis recusandae enim dolorem at. Nemo delectus nam quis voluptatem sed dolore sequi non."], ["available_on", "2017-10-07 14:25:00.349118"], ["slug", "product-3-1"], ["shipping_category_id", 158], ["created_at", "2018-10-07 14:25:00.378472"], ["updated_at", "2018-10-07 14:25:00.378472"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 140], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 140], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:25:00.382575"], ["created_at", "2018-10-07 14:25:00.382575"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 138], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 138], ["stock_location_id", 116], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 116], ["variant_id", 138], ["created_at", "2018-10-07 14:25:00.397754"], ["updated_at", "2018-10-07 14:25:00.397754"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:25:00.399763"], ["id", 138]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 140], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 140], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 140], ["sluggable_type", "Spree::Product"], ["slug", "product-3-1"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-1"], ["sluggable_id", 140], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:25:00.408891"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 140]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.412876' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:25:00.414216' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:25:00.401273"], ["id", 140]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.417175' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:25:00.418352' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 140], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 138], ["id", 125], ["stock_location_id", 116], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:25:00.430527"], ["id", 125]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:25:00.432766"], ["id", 138]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:25:00.436030"], ["id", 140]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 140]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.439986' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:25:00.441321' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 140], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:25:00.451771"], ["updated_at", "2018-10-07 14:25:00.451771"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 24], ["product_id", 140], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 24], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 140], ["taxon_id", 24], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 24], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 24], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 24], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:25:00.465546"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 24 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.470215' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 24) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:25:00.459758"], ["id", 140]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.474825' WHERE "spree_taxons"."id" = 24[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:25:00.477585' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:25:00.460071"], ["id", 24]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:25:00.480696' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 24) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 140]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 135], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "katelin.jakubowski@stracke.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "abfacc5ad69ed357a506b124d7bddf5076719e6c7d0de062b5b7b6d708f34f9d288630b806fc6d0596a052694e5d2e499e855b7c8152188809bf4ad8844c8fa7"], ["password_salt", "2G6JCioFmXvyRjvnt8aK"], ["email", "katelin.jakubowski@stracke.biz"], ["login", "katelin.jakubowski@stracke.biz"], ["authentication_token", "xxxx15389223007051xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:25:00.572180"], ["updated_at", "2018-10-07 14:25:00.572180"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 135], ["user_id", 165]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:25:00 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:25:00.601504"], ["last_sign_in_at", "2018-10-07 14:25:00.601504"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:25:00.602477"], ["id", 165]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "_WoQDCGXjZCDjchU-32qtw1538922300743"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:25:00.761972"], ["spree_api_key", "ac8cbeb1398316a64ade620fd85f1328eb3df8697500964d"], ["id", 165]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 486ms (ActiveRecord: 6.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:29:16.926879"], ["updated_at", "2018-10-07 14:29:16.926879"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:29:17.101083"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 115], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 115], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 115], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 115], ["updated_at", "2018-10-07 14:29:17.125022"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:29:17.129813"], ["updated_at", "2018-10-07 14:29:17.129813"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 115], ["country_id", 115], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-3526"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-3526') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-3526"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 3526"], ["description", "Vel enim sed quidem maiores. Ipsum at quae assumenda error et aperiam incidunt. Similique quis non a ea eveniet quia harum.\nAt doloribus ipsa magnam earum exercitationem quod. Amet tenetur itaque aut aut veniam quia sunt. Voluptas sequi delectus commodi vitae corrupti dolore.\nConsectetur pariatur dolore nisi magnam quam. Fuga accusantium sit voluptatibus voluptatem omnis. Sunt qui dolore molestias placeat. Tempora impedit enim et quasi quidem.\nAut velit consequatur sit molestias. Repudiandae nam unde itaque assumenda id pariatur. Corrupti ducimus nobis corporis suscipit fugiat deleniti earum.\nPerspiciatis laudantium incidunt qui quas animi et est. Voluptatem aliquid facilis modi voluptatum. Est libero fugit nesciunt dolores."], ["available_on", "2017-10-07 14:29:17.030862"], ["slug", "product-1-3526"], ["shipping_category_id", 159], ["created_at", "2018-10-07 14:29:17.153528"], ["updated_at", "2018-10-07 14:29:17.153528"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 141], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 141], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:29:17.157888"], ["created_at", "2018-10-07 14:29:17.157888"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 139], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 139], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 139], ["stock_location_id", 117], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 117], ["variant_id", 139], ["created_at", "2018-10-07 14:29:17.199312"], ["updated_at", "2018-10-07 14:29:17.199312"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:29:17.201712"], ["id", 139]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 141], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 141], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 141], ["sluggable_type", "Spree::Product"], ["slug", "product-1-3526"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-3526"], ["sluggable_id", 141], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:29:17.230431"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 141]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:29:17.257884' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:29:17.262614' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:29:17.203285"], ["id", 141]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:29:17.270871' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:29:17.272351' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:29:17.286742"], ["updated_at", "2018-10-07 14:29:17.286742"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:29:17.302952"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 116], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 116], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 116], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 116], ["updated_at", "2018-10-07 14:29:17.310742"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:29:17.314108"], ["updated_at", "2018-10-07 14:29:17.314108"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 116], ["country_id", 116], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-649"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-649') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-649"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 649"], ["description", "Aperiam et quae dolorem eum et. Molestiae deleniti possimus dolor non tenetur ad. Dolores minima cumque excepturi nam maiores.\nEt laudantium incidunt velit repellat nemo esse. Quam debitis distinctio deserunt similique fugiat beatae quo. Quae cupiditate dolorem fugit voluptatem aut eos harum.\nCumque natus autem quam quia harum aut voluptatem. Quis quidem quam rerum est. Veniam nemo molestias vel quia quidem. Id assumenda reiciendis et aut suscipit. Et ipsam nihil accusamus porro."], ["available_on", "2017-10-07 14:29:17.295521"], ["slug", "product-2-649"], ["shipping_category_id", 160], ["created_at", "2018-10-07 14:29:17.328040"], ["updated_at", "2018-10-07 14:29:17.328040"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 142], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 142], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:29:17.332165"], ["created_at", "2018-10-07 14:29:17.332165"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 140], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 142], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 140], ["stock_location_id", 118], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 118], ["variant_id", 140], ["created_at", "2018-10-07 14:29:17.347758"], ["updated_at", "2018-10-07 14:29:17.347758"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:29:17.349870"], ["id", 140]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 142], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 142], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 142], ["sluggable_type", "Spree::Product"], ["slug", "product-2-649"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-649"], ["sluggable_id", 142], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:29:17.359116"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 142]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:29:17.363116' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:29:17.364430' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:29:17.351329"], ["id", 142]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:29:17.367601' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:29:17.368919' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:29:17.375746"], ["updated_at", "2018-10-07 14:29:17.375746"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:29:17.391227"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 117], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 117], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 117], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 117], ["updated_at", "2018-10-07 14:29:17.398595"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:29:17.402661"], ["updated_at", "2018-10-07 14:29:17.402661"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 117], ["country_id", 117], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-9328"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-9328') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-9328"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 9328"], ["description", "Est vel ea praesentium adipisci id quis officiis. Suscipit consequatur officia facere eum mollitia ea voluptas. Ipsa corrupti totam quibusdam qui cum dolores doloremque. Odio facere aliquam aut totam tempora dolorum."], ["available_on", "2017-10-07 14:29:17.384425"], ["slug", "product-3-9328"], ["shipping_category_id", 161], ["created_at", "2018-10-07 14:29:17.416283"], ["updated_at", "2018-10-07 14:29:17.416283"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 143], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 143], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:29:17.420269"], ["created_at", "2018-10-07 14:29:17.420269"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 141], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 141], ["stock_location_id", 119], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 119], ["variant_id", 141], ["created_at", "2018-10-07 14:29:17.435834"], ["updated_at", "2018-10-07 14:29:17.435834"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:29:17.437925"], ["id", 141]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 143], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 143], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 143], ["sluggable_type", "Spree::Product"], ["slug", "product-3-9328"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-9328"], ["sluggable_id", 143], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:29:17.447235"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 143]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:29:17.451299' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:29:17.452657' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:29:17.439382"], ["id", 143]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:29:17.455841' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:29:17.457081' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 136], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "kirby.hansen@rath.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "2bd4f43d22fb78017c56df2d2242730b8a59936d225aa13d01e903a212e69fd011d7d85febfdad3fdde280458faf053653ccd352743584cec278877afe4d4e28"], ["password_salt", "LZCRoDvrmDYzggCRDXgJ"], ["email", "kirby.hansen@rath.com"], ["login", "kirby.hansen@rath.com"], ["authentication_token", "xxxx15389225578481xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:29:17.546774"], ["updated_at", "2018-10-07 14:29:17.546774"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 136], ["user_id", 166]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:29:17 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:29:17.576353"], ["last_sign_in_at", "2018-10-07 14:29:17.576353"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:29:17.577412"], ["id", 166]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "ZsbhcUzqNRHK_evp8Lw_oA1538922557702"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:29:17.725184"], ["spree_api_key", "84facf777d664148a51ca79fdf586906219d7781d5686b64"], ["id", 166]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 494ms (ActiveRecord: 9.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:29:57.312654"], ["updated_at", "2018-10-07 14:29:57.312654"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:29:57.481265"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 118], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 118], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 118], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 118], ["updated_at", "2018-10-07 14:29:57.505838"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:29:57.511168"], ["updated_at", "2018-10-07 14:29:57.511168"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 118], ["country_id", 118], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-38"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-38') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-38"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 38"], ["description", "Neque odio magnam aut ea suscipit. Veniam in minus non exercitationem beatae consequatur consectetur. Error nemo voluptatem expedita ad nihil qui. Id quia vero maiores vel aperiam quidem.\nMaxime aperiam modi corporis omnis sunt. Perferendis nam incidunt ab facere nihil dolores quo voluptas. Rerum ut omnis aliquam blanditiis cum. Non ut sed eveniet quae sed. Ut soluta molestias nihil rerum error et.\nQuis blanditiis velit maxime illo unde dolor laudantium ducimus. Ad error labore omnis rem voluptas. Sunt animi quam porro nam. Unde eius voluptatem eveniet nam."], ["available_on", "2017-10-07 14:29:57.409370"], ["slug", "product-1-38"], ["shipping_category_id", 162], ["created_at", "2018-10-07 14:29:57.535475"], ["updated_at", "2018-10-07 14:29:57.535475"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 144], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 144], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:29:57.540168"], ["created_at", "2018-10-07 14:29:57.540168"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 142], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 142], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 142], ["stock_location_id", 120], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 120], ["variant_id", 142], ["created_at", "2018-10-07 14:29:57.579640"], ["updated_at", "2018-10-07 14:29:57.579640"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:29:57.582088"], ["id", 142]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 144], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 144], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 144], ["sluggable_type", "Spree::Product"], ["slug", "product-1-38"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-38"], ["sluggable_id", 144], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:29:57.608393"]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 144]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:29:57.637078' WHERE 1=0[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:29:57.641858' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:29:57.583627"], ["id", 144]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:29:57.651212' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:29:57.653060' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:29:57.668466"], ["updated_at", "2018-10-07 14:29:57.668466"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:29:57.683252"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 119], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 119], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 119], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 119], ["updated_at", "2018-10-07 14:29:57.690455"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:29:57.695248"], ["updated_at", "2018-10-07 14:29:57.695248"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 119], ["country_id", 119], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-6790"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-6790') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-6790"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 6790"], ["description", "Neque recusandae eius repudiandae unde omnis et aut. Omnis eaque vero nostrum optio in et. Quos saepe voluptas sit nihil et.\nNihil libero voluptatem sint eveniet perferendis ut. Quas id deserunt odio sunt. Mollitia voluptatibus quae omnis esse officiis. Deserunt rerum sed dolores quo.\nNatus est commodi dolorem magnam hic odio sequi. Voluptatem quos quasi non nostrum. Debitis mollitia laboriosam harum provident. Qui voluptatem hic quia molestiae vel similique et aliquam.\nIncidunt ducimus ipsum porro nihil. Distinctio quo eum et soluta ut ad et. Dicta nulla deleniti ratione fugiat voluptas reprehenderit omnis sint. Sed rerum dicta officia dolor. Officiis et vel laudantium facilis."], ["available_on", "2017-10-07 14:29:57.676279"], ["slug", "product-2-6790"], ["shipping_category_id", 163], ["created_at", "2018-10-07 14:29:57.708222"], ["updated_at", "2018-10-07 14:29:57.708222"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 145], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 145], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:29:57.712408"], ["created_at", "2018-10-07 14:29:57.712408"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 143], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 143], ["stock_location_id", 121], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 121], ["variant_id", 143], ["created_at", "2018-10-07 14:29:57.727953"], ["updated_at", "2018-10-07 14:29:57.727953"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:29:57.730091"], ["id", 143]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 145], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 145], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 145], ["sluggable_type", "Spree::Product"], ["slug", "product-2-6790"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-6790"], ["sluggable_id", 145], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:29:57.739461"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 145]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:29:57.743461' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:29:57.744794' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:29:57.731545"], ["id", 145]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:29:57.747845' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:29:57.749094' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:29:57.755492"], ["updated_at", "2018-10-07 14:29:57.755492"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:29:57.770348"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 120], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 120], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 120], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 120], ["updated_at", "2018-10-07 14:29:57.777382"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:29:57.780799"], ["updated_at", "2018-10-07 14:29:57.780799"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 120], ["country_id", 120], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-6995"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-6995') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-6995"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 6995"], ["description", "Eum sit dolorem eos quam ut ut iste enim. Repudiandae delectus dolore nobis cupiditate praesentium molestiae asperiores. Eos placeat tenetur et id non hic. Molestiae pariatur quia delectus ipsa dolor doloremque quo. Est perspiciatis dolorem alias qui."], ["available_on", "2017-10-07 14:29:57.762945"], ["slug", "product-3-6995"], ["shipping_category_id", 164], ["created_at", "2018-10-07 14:29:57.794836"], ["updated_at", "2018-10-07 14:29:57.794836"]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 146], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 146], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:29:57.799011"], ["created_at", "2018-10-07 14:29:57.799011"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 144], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 144], ["stock_location_id", 122], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 122], ["variant_id", 144], ["created_at", "2018-10-07 14:29:57.814390"], ["updated_at", "2018-10-07 14:29:57.814390"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:29:57.816487"], ["id", 144]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 146], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 146], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 146], ["sluggable_type", "Spree::Product"], ["slug", "product-3-6995"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-6995"], ["sluggable_id", 146], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:29:57.825978"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 146]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:29:57.830018' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:29:57.831319' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:29:57.818004"], ["id", 146]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:29:57.834571' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:29:57.835860' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 137], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "junie@corkeryconnelly.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "d6b022f7b1c9dbe04834e121f7132486c346da78f5f0528242e82efbd6f2d3e3cd09cdf0cee18f9ec33b6dfaecd44cb8a7c68d31d139b7c057a8523f85dfae94"], ["password_salt", "CfkxE6Jw2eaPwKDBZanz"], ["email", "junie@corkeryconnelly.us"], ["login", "junie@corkeryconnelly.us"], ["authentication_token", "xxxx15389225979341xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:29:57.926519"], ["updated_at", "2018-10-07 14:29:57.926519"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 137], ["user_id", 167]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:29:57 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:29:57.955082"], ["last_sign_in_at", "2018-10-07 14:29:57.955082"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:29:57.956133"], ["id", 167]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "pyzNSaBIDwMuM8mWRCGsaA1538922598083"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:29:58.103516"], ["spree_api_key", "a252705168f4b9320c1e8fad65b41198b3bdc0daee923661"], ["id", 167]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 494ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:30:49.320861"], ["updated_at", "2018-10-07 14:30:49.320861"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:30:49.468228"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 121], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 121], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 121], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 121], ["updated_at", "2018-10-07 14:30:49.493577"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:30:49.511053"], ["updated_at", "2018-10-07 14:30:49.511053"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 121], ["country_id", 121], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-5214"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-5214') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-5214"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 5214"], ["description", "Molestias dolores modi impedit et nulla repellat accusantium. Id cumque neque hic nam repellat nulla aut natus. Dignissimos eos minus quis nobis."], ["available_on", "2017-10-07 14:30:49.414755"], ["slug", "product-1-5214"], ["shipping_category_id", 165], ["created_at", "2018-10-07 14:30:49.533068"], ["updated_at", "2018-10-07 14:30:49.533068"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 147], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 147], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:30:49.537482"], ["created_at", "2018-10-07 14:30:49.537482"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 145], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 145], ["stock_location_id", 123], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 123], ["variant_id", 145], ["created_at", "2018-10-07 14:30:49.578897"], ["updated_at", "2018-10-07 14:30:49.578897"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:30:49.581298"], ["id", 145]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 147], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 147], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 147], ["sluggable_type", "Spree::Product"], ["slug", "product-1-5214"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-5214"], ["sluggable_id", 147], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:30:49.607257"]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 147]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:30:49.635439' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:30:49.640000' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:30:49.582771"], ["id", 147]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:30:49.647804' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:30:49.649111' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:30:49.665516"], ["updated_at", "2018-10-07 14:30:49.665516"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:30:49.682042"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 122], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 122], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 122], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 122], ["updated_at", "2018-10-07 14:30:49.689591"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:30:49.692748"], ["updated_at", "2018-10-07 14:30:49.692748"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 122], ["country_id", 122], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-936"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-936') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-936"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 936"], ["description", "Labore dolores dolores libero quae iusto sed eaque iste. Ea inventore aliquam qui aut modi consectetur. Ullam ad qui repudiandae odio id deleniti pariatur cum. Accusamus ratione cum tenetur dolor quos. Non nulla recusandae sed temporibus voluptatem incidunt unde.\nEum ea rerum qui facere occaecati animi illo reiciendis. Debitis est tempore iusto sunt doloribus. Molestias dolor aut ratione repudiandae vero. Neque ea harum ab odio sed corrupti autem numquam.\nId velit enim voluptatem explicabo vero consequatur. Eum quaerat ut debitis non distinctio dolorem. Eos vel natus nobis consequuntur explicabo ab harum.\nOfficia quo culpa dolorem modi officiis ut et perspiciatis. Cum molestiae nostrum nesciunt asperiores numquam ab atque id. Totam nemo sed iure voluptatibus sed sit.\nEt vel et omnis vitae dolorem animi. Sint molestiae autem quam cum placeat similique molestias. Quidem perferendis unde quas odio et doloremque."], ["available_on", "2017-10-07 14:30:49.675431"], ["slug", "product-2-936"], ["shipping_category_id", 166], ["created_at", "2018-10-07 14:30:49.706010"], ["updated_at", "2018-10-07 14:30:49.706010"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 148], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 148], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:30:49.709848"], ["created_at", "2018-10-07 14:30:49.709848"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 146], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 146], ["stock_location_id", 124], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 124], ["variant_id", 146], ["created_at", "2018-10-07 14:30:49.725373"], ["updated_at", "2018-10-07 14:30:49.725373"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:30:49.727376"], ["id", 146]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 148], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 148], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 148], ["sluggable_type", "Spree::Product"], ["slug", "product-2-936"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-936"], ["sluggable_id", 148], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:30:49.736557"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 148]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:30:49.740539' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:30:49.741930' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:30:49.728880"], ["id", 148]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:30:49.744919' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:30:49.746212' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:30:49.752628"], ["updated_at", "2018-10-07 14:30:49.752628"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:30:49.768381"]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 123], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 123], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 123], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 123], ["updated_at", "2018-10-07 14:30:49.776794"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:30:49.781147"], ["updated_at", "2018-10-07 14:30:49.781147"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 123], ["country_id", 123], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-2241"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-2241') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-2241"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 2241"], ["description", "Nihil et doloremque aut sed est. Ullam vel aut nisi non sint est ipsam eligendi. Tempore recusandae animi consequuntur illo qui adipisci illum. Necessitatibus unde eveniet neque dolorem autem voluptatem blanditiis cum. Amet a ut in delectus at dolorum."], ["available_on", "2017-10-07 14:30:49.761116"], ["slug", "product-3-2241"], ["shipping_category_id", 167], ["created_at", "2018-10-07 14:30:49.794843"], ["updated_at", "2018-10-07 14:30:49.794843"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 149], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 149], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:30:49.798742"], ["created_at", "2018-10-07 14:30:49.798742"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 147], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 147], ["stock_location_id", 125], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 125], ["variant_id", 147], ["created_at", "2018-10-07 14:30:49.817220"], ["updated_at", "2018-10-07 14:30:49.817220"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:30:49.819332"], ["id", 147]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 149], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 149], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 149], ["sluggable_type", "Spree::Product"], ["slug", "product-3-2241"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-2241"], ["sluggable_id", 149], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:30:49.831921"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 149]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:30:49.835922' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:30:49.837276' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:30:49.820781"], ["id", 149]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:30:49.840414' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:30:49.841718' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 138], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "booker.hansen@bahringer.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "f45f81c337f079a52554cba6537b297fd961d9ed5190ee1ed109b89ad06166bc912709b72545a3eb0c267ebecfa10372ff21559080b0405e6816834e23b0bdef"], ["password_salt", "pFp6NCEPpWc2Py3Mxx6_"], ["email", "booker.hansen@bahringer.biz"], ["login", "booker.hansen@bahringer.biz"], ["authentication_token", "xxxx15389226492501xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:30:49.942050"], ["updated_at", "2018-10-07 14:30:49.942050"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 138], ["user_id", 168]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:30:49 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:30:49.971266"], ["last_sign_in_at", "2018-10-07 14:30:49.971266"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:30:49.972107"], ["id", 168]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "WpUJwLzzCEht3BuFP2jzvQ1538922650120"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:30:50.145662"], ["spree_api_key", "53284253bf25d938e6db0e242e45a472dc13de238f569b52"], ["id", 168]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 516ms (ActiveRecord: 9.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:31:45.531166"], ["updated_at", "2018-10-07 14:31:45.531166"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:31:45.696542"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.7ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 124], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 124], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 124], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 124], ["updated_at", "2018-10-07 14:31:45.724985"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:31:45.729684"], ["updated_at", "2018-10-07 14:31:45.729684"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 124], ["country_id", 124], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-6564"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-6564') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-6564"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 6564"], ["description", "Ullam qui explicabo labore numquam magni aperiam. Repudiandae dignissimos est minima quia. Quidem sint odit est sapiente ea quos cupiditate. Pariatur ipsam consectetur suscipit aut dolorem nihil inventore et.\nQuis delectus molestiae fuga debitis doloremque. Officiis inventore voluptatibus quia et accusamus. Rerum illum in consequatur at.\nNecessitatibus atque maiores dolorum quod vitae ut. Quia consequatur quo ut aut maxime nulla nemo. Rem voluptas suscipit et dolore consequatur porro blanditiis. Illum omnis aut minus delectus voluptatem nemo et vel."], ["available_on", "2017-10-07 14:31:45.625988"], ["slug", "product-1-6564"], ["shipping_category_id", 168], ["created_at", "2018-10-07 14:31:45.754617"], ["updated_at", "2018-10-07 14:31:45.754617"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 150], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 150], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:31:45.759429"], ["created_at", "2018-10-07 14:31:45.759429"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 148], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 148], ["stock_location_id", 126], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 126], ["variant_id", 148], ["created_at", "2018-10-07 14:31:45.801599"], ["updated_at", "2018-10-07 14:31:45.801599"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:31:45.803916"], ["id", 148]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 150], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 150], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 150], ["sluggable_type", "Spree::Product"], ["slug", "product-1-6564"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-6564"], ["sluggable_id", 150], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:31:45.832278"]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 150]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:31:45.859106' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:31:45.863726' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:31:45.805497"], ["id", 150]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:31:45.872442' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:31:45.874081' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:31:45.888524"], ["updated_at", "2018-10-07 14:31:45.888524"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:31:45.903916"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 125], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 125], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 125], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 125], ["updated_at", "2018-10-07 14:31:45.911029"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:31:45.914796"], ["updated_at", "2018-10-07 14:31:45.914796"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 125], ["country_id", 125], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-6866"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-6866') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-6866"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 6866"], ["description", "Quos ut fugit sunt sed officiis laudantium. Officia repellat quam libero voluptate dolores dolor fuga. Molestiae eos velit asperiores qui officia autem dignissimos in. Tenetur reiciendis fuga nihil dolores deserunt blanditiis. Voluptatibus tenetur ex dolor ullam sed ut doloremque qui.\nQuia quasi repellendus officia sunt neque. Voluptas doloremque qui ut et provident quasi quisquam laborum. Fugit doloribus qui non qui eum necessitatibus laborum aut. Aut deleniti quo quis explicabo est error occaecati.\nOfficiis culpa vel voluptatem quis sit qui ut. Repellendus dolores qui odit qui. Natus qui eum consectetur magnam in occaecati sed itaque. Deserunt error quas veritatis in et et.\nEius consequatur ullam rerum autem odit alias cupiditate. Est sit non iste iusto. Et sequi ut officia aut. Sed molestiae fugiat sit hic. Odit impedit qui et cumque aut.\nItaque error impedit adipisci cupiditate et animi. Accusamus nihil sit recusandae ducimus enim perferendis odit nam. Omnis placeat distinctio facere aut dolores totam qui. Tempore est numquam commodi quo cupiditate."], ["available_on", "2017-10-07 14:31:45.896937"], ["slug", "product-2-6866"], ["shipping_category_id", 169], ["created_at", "2018-10-07 14:31:45.927977"], ["updated_at", "2018-10-07 14:31:45.927977"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 151], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 151], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:31:45.931911"], ["created_at", "2018-10-07 14:31:45.931911"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 149], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 149], ["stock_location_id", 127], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 127], ["variant_id", 149], ["created_at", "2018-10-07 14:31:45.947027"], ["updated_at", "2018-10-07 14:31:45.947027"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:31:45.949112"], ["id", 149]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 151], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 151], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 151], ["sluggable_type", "Spree::Product"], ["slug", "product-2-6866"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-6866"], ["sluggable_id", 151], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:31:45.958351"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 151]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:31:45.962367' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:31:45.963703' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:31:45.950554"], ["id", 151]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:31:45.966779' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:31:45.968043' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:31:45.974628"], ["updated_at", "2018-10-07 14:31:45.974628"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:31:45.990151"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 126], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 126], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 126], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 126], ["updated_at", "2018-10-07 14:31:45.997279"]]
  [1m[35m (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:31:46.001794"], ["updated_at", "2018-10-07 14:31:46.001794"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 126], ["country_id", 126], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-3466"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-3466') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-3466"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 3466"], ["description", "Omnis velit voluptatem saepe praesentium harum aspernatur eum. Earum perferendis exercitationem ipsa rem error placeat amet. Voluptatum fuga sapiente molestiae iusto qui.\nVoluptatem fugiat nam vel dolore soluta ducimus provident. Molestiae vel eveniet molestias ut vitae asperiores saepe veniam. Qui dolores repellendus tempore nostrum eum consequatur. Animi tempore modi exercitationem aut.\nPerspiciatis delectus porro labore alias quo exercitationem accusantium a. Officiis mollitia non provident similique. Aut molestiae voluptatem ducimus totam repellat.\nDucimus explicabo tempore eos distinctio. Harum dignissimos ut ipsam ut. Alias beatae doloribus minima qui culpa velit et quae. Provident soluta fugiat facere cumque dolorem ut."], ["available_on", "2017-10-07 14:31:45.983225"], ["slug", "product-3-3466"], ["shipping_category_id", 170], ["created_at", "2018-10-07 14:31:46.015877"], ["updated_at", "2018-10-07 14:31:46.015877"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 152], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 152], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:31:46.020022"], ["created_at", "2018-10-07 14:31:46.020022"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 150], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 152], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 150], ["stock_location_id", 128], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 128], ["variant_id", 150], ["created_at", "2018-10-07 14:31:46.035319"], ["updated_at", "2018-10-07 14:31:46.035319"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:31:46.037458"], ["id", 150]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 152], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 152], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 152], ["sluggable_type", "Spree::Product"], ["slug", "product-3-3466"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-3466"], ["sluggable_id", 152], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:31:46.046796"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 152]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:31:46.050808' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:31:46.052094' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:31:46.038899"], ["id", 152]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:31:46.055526' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:31:46.056900' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 139], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "joan_langworth@graham.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "937f7d1de477b208f0c8ac5af986a43f5748d1c44a0b8e93dff2e31b40deb4f826170249ba122143bdf199b0e3691e17be0a7f83cdc6e7a113607748f92b7ada"], ["password_salt", "7C2GmgscdNGuG72oD-nA"], ["email", "joan_langworth@graham.us"], ["login", "joan_langworth@graham.us"], ["authentication_token", "xxxx15389227066031xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:31:46.147371"], ["updated_at", "2018-10-07 14:31:46.147371"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 139], ["user_id", 169]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:31:46 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:31:46.175843"], ["last_sign_in_at", "2018-10-07 14:31:46.175843"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:31:46.176818"], ["id", 169]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "4gcXhmqNR10y0by6nYgWnQ1538922706305"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:31:46.324970"], ["spree_api_key", "7acb435786bb5fa0535338361680317224cefff6193c6133"], ["id", 169]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 487ms (ActiveRecord: 7.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:35:11.090339"], ["updated_at", "2018-10-07 14:35:11.090339"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:35:11.250826"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 127], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 127], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 127], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 127], ["updated_at", "2018-10-07 14:35:11.274606"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:35:11.279504"], ["updated_at", "2018-10-07 14:35:11.279504"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 127], ["country_id", 127], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-1030"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-1030') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-1030"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 1030"], ["description", "Consectetur minus laboriosam consequatur voluptatem voluptas. Qui aspernatur aut eaque sunt praesentium eum. Qui dolores nulla et et. Ad ut ab accusantium optio.\nDolorem sit repudiandae quia quo consectetur sit deserunt illum. Hic dignissimos quam sapiente deserunt quidem illo excepturi. Facilis omnis excepturi quia laborum. Exercitationem commodi labore eligendi nihil ipsam mollitia.\nSint labore delectus soluta tempora odio minima. Quo molestiae ad dolorem autem maxime suscipit quibusdam sunt. Illum laborum sequi sed quae id nam quod adipisci. Sunt ut aut vitae voluptates nesciunt aliquam cupiditate amet. Minima commodi nobis numquam aliquid assumenda cum eveniet.\nDolore enim dignissimos amet sit aut. Doloribus totam quis pariatur et dolore ut molestias. Quam incidunt deleniti qui saepe. Nostrum non quasi nisi illum itaque voluptatem accusantium."], ["available_on", "2017-10-07 14:35:11.182005"], ["slug", "product-1-1030"], ["shipping_category_id", 171], ["created_at", "2018-10-07 14:35:11.301817"], ["updated_at", "2018-10-07 14:35:11.301817"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 153], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 153], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:35:11.306040"], ["created_at", "2018-10-07 14:35:11.306040"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 151], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 153], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 151], ["stock_location_id", 129], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 129], ["variant_id", 151], ["created_at", "2018-10-07 14:35:11.348052"], ["updated_at", "2018-10-07 14:35:11.348052"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:11.350377"], ["id", 151]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 153], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 153], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 153], ["sluggable_type", "Spree::Product"], ["slug", "product-1-1030"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-1030"], ["sluggable_id", 153], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:35:11.376253"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 153]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:11.403367' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:11.407798' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:11.351844"], ["id", 153]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:11.416436' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:11.417919' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:35:11.432969"], ["updated_at", "2018-10-07 14:35:11.432969"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.6ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:35:11.446556"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 128], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 128], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 128], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 128], ["updated_at", "2018-10-07 14:35:11.453040"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:35:11.455326"], ["updated_at", "2018-10-07 14:35:11.455326"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 128], ["country_id", 128], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-4537"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-4537') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-4537"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 4537"], ["description", "Est expedita ipsa nesciunt doloremque. Vel omnis facilis blanditiis aperiam voluptatibus est. Ipsam ea rerum dolor dolorem omnis explicabo. Unde veritatis sunt consequatur ut hic.\nQuas assumenda necessitatibus consequatur qui non est est. Ex voluptatem cumque voluptate at dolores praesentium. Omnis quia modi esse in accusamus.\nMinima quisquam et possimus natus voluptas eum ducimus. Autem possimus aperiam qui minus provident quis. Enim non nisi commodi tenetur ut quia."], ["available_on", "2017-10-07 14:35:11.439907"], ["slug", "product-2-4537"], ["shipping_category_id", 172], ["created_at", "2018-10-07 14:35:11.467095"], ["updated_at", "2018-10-07 14:35:11.467095"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 154], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 154], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:35:11.470826"], ["created_at", "2018-10-07 14:35:11.470826"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 152], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 152], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 154], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 152], ["stock_location_id", 130], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 130], ["variant_id", 152], ["created_at", "2018-10-07 14:35:11.485102"], ["updated_at", "2018-10-07 14:35:11.485102"], ["backorderable", "t"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:11.487035"], ["id", 152]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 154], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 154], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 154], ["sluggable_type", "Spree::Product"], ["slug", "product-2-4537"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-4537"], ["sluggable_id", 154], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:35:11.495491"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 154]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:11.499139' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:11.500318' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:11.488365"], ["id", 154]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:11.503175' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:11.504279' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:35:11.510420"], ["updated_at", "2018-10-07 14:35:11.510420"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:35:11.524653"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 129], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 129], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 129], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 129], ["updated_at", "2018-10-07 14:35:11.531222"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:35:11.533703"], ["updated_at", "2018-10-07 14:35:11.533703"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 129], ["country_id", 129], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-4271"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-4271') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-4271"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 4271"], ["description", "Nemo aut quam magnam est ratione alias voluptates nobis. Modi et maxime perferendis aperiam eum harum quia est. Voluptas amet necessitatibus molestias non. Aut sint accusamus itaque magnam a dolores.\nDolorem quia repellat expedita consequatur culpa et nihil. Est sint adipisci perspiciatis architecto deleniti id et. Culpa sunt ea voluptatem deserunt consequatur praesentium. Ratione laboriosam ducimus placeat et nihil velit et.\nAutem tempore est eos ut neque. Voluptatum ipsum officia repellendus sit qui inventore assumenda nulla. Qui est recusandae qui officiis laborum. Delectus rerum nemo corporis aut.\nQuam aut esse eos voluptates. Dolore et corrupti ex sed. Porro inventore ea ratione dolores harum fuga consequatur quae. Voluptate ut officiis sed beatae. Sunt hic qui et aliquid in est dolor expedita."], ["available_on", "2017-10-07 14:35:11.517853"], ["slug", "product-3-4271"], ["shipping_category_id", 173], ["created_at", "2018-10-07 14:35:11.545993"], ["updated_at", "2018-10-07 14:35:11.545993"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 155], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 155], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:35:11.549812"], ["created_at", "2018-10-07 14:35:11.549812"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 153], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 153], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 155], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 153], ["stock_location_id", 131], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 131], ["variant_id", 153], ["created_at", "2018-10-07 14:35:11.564113"], ["updated_at", "2018-10-07 14:35:11.564113"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:11.565987"], ["id", 153]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 155], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 155], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 155], ["sluggable_type", "Spree::Product"], ["slug", "product-3-4271"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-4271"], ["sluggable_id", 155], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:35:11.574500"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 155]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:11.578215' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:11.579402' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:11.567314"], ["id", 155]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:11.582186' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:11.583366' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 140], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "frank.trantow@lefflerharber.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "6ba0f3b0694819ab86aebb6cdc4486bc4da6081c4bc4cc4a726f6be519a8eb893486e0fbba3293fc002128a761cac278501f2c39fca5d039eeed202c25ddf898"], ["password_salt", "6qZcf6xw2jsn8iYuizTE"], ["email", "frank.trantow@lefflerharber.ca"], ["login", "frank.trantow@lefflerharber.ca"], ["authentication_token", "xxxx15389229111931xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:35:11.668422"], ["updated_at", "2018-10-07 14:35:11.668422"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 140], ["user_id", 170]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:35:11 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:35:11.695574"], ["last_sign_in_at", "2018-10-07 14:35:11.695574"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:35:11.696514"], ["id", 170]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "HQ7zp2223u-qDmalyu7QiA1538922911823"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:35:11.841865"], ["spree_api_key", "524ce730e610c3b16f5b16b594cd49825ba02a3fd0b8036f"], ["id", 170]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 488ms (ActiveRecord: 6.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:35:27.500836"], ["updated_at", "2018-10-07 14:35:27.500836"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:35:27.667079"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 130], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 130], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 130], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 130], ["updated_at", "2018-10-07 14:35:27.691757"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:35:27.696950"], ["updated_at", "2018-10-07 14:35:27.696950"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 130], ["country_id", 130], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-5840"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-5840') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-5840"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 5840"], ["description", "Sit quisquam eos dolores et quo. Quibusdam voluptates enim molestiae velit quidem. Repudiandae reiciendis non cupiditate vel labore. Magnam id fugiat deleniti delectus non voluptas.\nAsperiores quisquam aut harum aut quaerat eligendi est quidem. Ut dolores omnis et velit dolor deserunt dignissimos. Exercitationem temporibus consequatur inventore sunt laborum. Accusantium et illo quia neque."], ["available_on", "2017-10-07 14:35:27.597983"], ["slug", "product-1-5840"], ["shipping_category_id", 174], ["created_at", "2018-10-07 14:35:27.723568"], ["updated_at", "2018-10-07 14:35:27.723568"]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 156], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 156], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:35:27.729218"], ["created_at", "2018-10-07 14:35:27.729218"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 154], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 154], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 154], ["stock_location_id", 132], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 132], ["variant_id", 154], ["created_at", "2018-10-07 14:35:27.771729"], ["updated_at", "2018-10-07 14:35:27.771729"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:27.774194"], ["id", 154]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 156], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 156], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 156], ["sluggable_type", "Spree::Product"], ["slug", "product-1-5840"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-5840"], ["sluggable_id", 156], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:35:27.800470"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 156]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:27.829090' WHERE 1=0[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:27.833834' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:27.775762"], ["id", 156]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:27.843184' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:27.844901' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:35:27.860703"], ["updated_at", "2018-10-07 14:35:27.860703"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:35:27.875499"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 131], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 131], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 131], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 131], ["updated_at", "2018-10-07 14:35:27.882567"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:35:27.885822"], ["updated_at", "2018-10-07 14:35:27.885822"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 131], ["country_id", 131], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-8901"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-8901') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-8901"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 8901"], ["description", "In expedita totam exercitationem et consequatur. Officia perspiciatis iure sint incidunt dolor non qui iusto. Totam distinctio nostrum sequi nobis consequatur explicabo.\nVoluptas quia molestias et labore pariatur unde. Ipsam eos libero minus perspiciatis ad et praesentium. Adipisci beatae aliquid quisquam id commodi totam. Beatae cupiditate rerum quos tenetur.\nConsequatur sequi ut minima facere placeat. Illo voluptas magni dignissimos est eos. Sunt et numquam excepturi consequatur.\nNihil tenetur velit officiis amet labore cupiditate quaerat laboriosam. Error hic aspernatur soluta asperiores fugiat. Voluptatem vitae qui eum voluptate facere sed quis. Voluptatum fuga sint quia non.\nAliquam corrupti accusamus et deserunt tenetur earum. Est et doloremque odio eius neque nesciunt. Unde voluptas possimus omnis velit. Officia ut odio illo qui dicta ad reiciendis. Mollitia cumque autem veniam nesciunt dolor."], ["available_on", "2017-10-07 14:35:27.868923"], ["slug", "product-2-8901"], ["shipping_category_id", 175], ["created_at", "2018-10-07 14:35:27.899858"], ["updated_at", "2018-10-07 14:35:27.899858"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 157], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 157], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:35:27.904025"], ["created_at", "2018-10-07 14:35:27.904025"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 155], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 155], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 157], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 155], ["stock_location_id", 133], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 133], ["variant_id", 155], ["created_at", "2018-10-07 14:35:27.919458"], ["updated_at", "2018-10-07 14:35:27.919458"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:27.921497"], ["id", 155]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 157], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 157], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 157], ["sluggable_type", "Spree::Product"], ["slug", "product-2-8901"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-8901"], ["sluggable_id", 157], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:35:27.930652"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 157]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:27.934753' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:27.936070' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:27.922956"], ["id", 157]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:27.939216' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:27.940416' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:35:27.947252"], ["updated_at", "2018-10-07 14:35:27.947252"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:35:27.963635"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 132], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 132], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 132], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 132], ["updated_at", "2018-10-07 14:35:27.971384"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:35:27.975563"], ["updated_at", "2018-10-07 14:35:27.975563"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 132], ["country_id", 132], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-8560"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-8560') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-8560"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 8560"], ["description", "Aut totam dicta itaque est id a et aperiam. Sunt ullam esse quia est exercitationem blanditiis provident ipsum. Qui voluptatem ut corrupti est sequi et similique quas. Repudiandae fugiat beatae atque pariatur et velit ea. Ipsam quod iste perspiciatis eos aut.\nFuga molestiae ut voluptas expedita quaerat sed hic. Modi ipsa mollitia cupiditate architecto similique blanditiis. Voluptatem est illo animi aut expedita possimus debitis impedit. Voluptatem optio placeat ad velit. Numquam architecto cum unde quam quo.\nEligendi sint facere animi laudantium natus. Voluptatum voluptate ab vero repellendus quas aut. Ut repellendus blanditiis ex quae. Recusandae rerum sunt sed repellat unde tenetur. Asperiores vel velit facilis doloremque.\nVoluptas deserunt ducimus est voluptate. Aliquid nihil sunt voluptatum provident. Aperiam quisquam consequatur perferendis enim qui sed assumenda id. Occaecati reprehenderit quod quo aliquid non voluptas.\nItaque magni similique veritatis fugiat. Odio saepe quam eos in sequi commodi quo maiores. Vel aut minima veritatis blanditiis dolorum eum repudiandae. Ut sit eum ratione officia rerum. Nobis ut sint rerum aut et hic omnis sint."], ["available_on", "2017-10-07 14:35:27.956636"], ["slug", "product-3-8560"], ["shipping_category_id", 176], ["created_at", "2018-10-07 14:35:27.988986"], ["updated_at", "2018-10-07 14:35:27.988986"]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 158], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 158], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:35:27.993146"], ["created_at", "2018-10-07 14:35:27.993146"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 156], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 156], ["stock_location_id", 134], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 134], ["variant_id", 156], ["created_at", "2018-10-07 14:35:28.008389"], ["updated_at", "2018-10-07 14:35:28.008389"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:28.010542"], ["id", 156]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 158], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 158], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 158], ["sluggable_type", "Spree::Product"], ["slug", "product-3-8560"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-8560"], ["sluggable_id", 158], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:35:28.019771"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 158]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:28.023739' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:28.025063' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:28.012020"], ["id", 158]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:28.028050' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:28.029250' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 141], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "jaclyn_connelly@block.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "bde6ea60916fc035d117c5494580cd18cefa17b7b2e2b56e28c89e06ba2eabda0c7041f914fa9608d795f9fe5bab4cd6ae23277d9b7b9b1a89a8a5711dd18491"], ["password_salt", "FbW8ceXkAHz8D2tx3f7Q"], ["email", "jaclyn_connelly@block.info"], ["login", "jaclyn_connelly@block.info"], ["authentication_token", "xxxx1538922928741xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:35:28.119900"], ["updated_at", "2018-10-07 14:35:28.119900"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 141], ["user_id", 171]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:35:28 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:35:28.147232"], ["last_sign_in_at", "2018-10-07 14:35:28.147232"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:35:28.148077"], ["id", 171]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "jx4Txek4uYsZVZlpDKvvJA1538922928274"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:35:28.294246"], ["spree_api_key", "b3d840a94db69f14db00bd1244e2590d22bed272092991be"], ["id", 171]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 488ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:35:51.739264"], ["updated_at", "2018-10-07 14:35:51.739264"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:35:51.891541"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 133], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 133], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 133], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 133], ["updated_at", "2018-10-07 14:35:51.918748"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:35:51.923453"], ["updated_at", "2018-10-07 14:35:51.923453"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 133], ["country_id", 133], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-5551"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-5551') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-5551"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 5551"], ["description", "Quisquam inventore id labore fugiat voluptatem quia. Fuga unde asperiores in architecto facere sapiente praesentium consectetur. Quae voluptatem porro magnam voluptatem."], ["available_on", "2017-10-07 14:35:51.835073"], ["slug", "product-1-5551"], ["shipping_category_id", 177], ["created_at", "2018-10-07 14:35:51.947923"], ["updated_at", "2018-10-07 14:35:51.947923"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 159], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 159], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:35:51.953001"], ["created_at", "2018-10-07 14:35:51.953001"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 157], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 157], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 159], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 157], ["stock_location_id", 135], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 135], ["variant_id", 157], ["created_at", "2018-10-07 14:35:52.007301"], ["updated_at", "2018-10-07 14:35:52.007301"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:52.009913"], ["id", 157]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 159], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 159], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 159], ["sluggable_type", "Spree::Product"], ["slug", "product-1-5551"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-5551"], ["sluggable_id", 159], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:35:52.039995"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 159]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:52.070545' WHERE 1=0[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:52.075024' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:52.011533"], ["id", 159]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:52.083654' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:52.085416' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:35:52.102023"], ["updated_at", "2018-10-07 14:35:52.102023"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:35:52.118923"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 134], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 134], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 134], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 134], ["updated_at", "2018-10-07 14:35:52.128195"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:35:52.130948"], ["updated_at", "2018-10-07 14:35:52.130948"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 134], ["country_id", 134], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-3416"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-3416') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-3416"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 3416"], ["description", "Et est maxime cupiditate sed. Ea non sed rerum voluptate. Velit eum laborum officia quod quae nam id.\nNihil quasi ut eius amet voluptatem dolores qui. Omnis animi deserunt illum autem et voluptas minima dolores. Similique fugiat commodi pariatur voluptas.\nEt aspernatur quasi non quas blanditiis sunt omnis. Modi eaque aliquam praesentium sit. Earum magnam non sint enim quo possimus quasi.\nVoluptatum ut voluptas non reiciendis unde. Esse eum harum nulla fugit quo eligendi. Id quia dolore non amet rerum laboriosam. Sapiente facilis sunt reiciendis magni quae ipsum qui fugiat. Ipsa inventore dolores numquam aliquam."], ["available_on", "2017-10-07 14:35:52.111082"], ["slug", "product-2-3416"], ["shipping_category_id", 178], ["created_at", "2018-10-07 14:35:52.145103"], ["updated_at", "2018-10-07 14:35:52.145103"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 160], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 160], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:35:52.149360"], ["created_at", "2018-10-07 14:35:52.149360"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 158], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 160], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 158], ["stock_location_id", 136], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 136], ["variant_id", 158], ["created_at", "2018-10-07 14:35:52.166340"], ["updated_at", "2018-10-07 14:35:52.166340"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:52.168546"], ["id", 158]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.6ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 160], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 160], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 160], ["sluggable_type", "Spree::Product"], ["slug", "product-2-3416"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-3416"], ["sluggable_id", 160], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:35:52.179535"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 160]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:52.185779' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:52.187829' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:52.170253"], ["id", 160]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:52.192321' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:52.193579' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:35:52.202407"], ["updated_at", "2018-10-07 14:35:52.202407"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:35:52.223659"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 135], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 135], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 135], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 135], ["updated_at", "2018-10-07 14:35:52.233713"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:35:52.237255"], ["updated_at", "2018-10-07 14:35:52.237255"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 135], ["country_id", 135], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-964"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-964') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-964"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 964"], ["description", "Facilis voluptatem voluptatum sed qui aut voluptas nesciunt. Accusantium animi laudantium est explicabo dolorem. Quia nemo est doloremque et occaecati.\nQuia omnis eos et aut. Fuga quaerat sed aut at deleniti temporibus. Iusto architecto ullam veritatis debitis.\nQuam sit minima sapiente sint. Vitae dicta necessitatibus nisi enim nemo. Corrupti sunt ipsam architecto numquam.\nExpedita sed et ut incidunt. Reiciendis soluta quia ullam hic est eum sapiente. Itaque porro numquam voluptate eligendi sit non iusto.\nBlanditiis amet possimus deserunt velit facere eum eaque voluptatem. Dolor dicta est voluptatem tempore corporis. Sint est debitis voluptatem voluptas. Consequuntur non et ex aut rerum animi sed. Mollitia quae tempora culpa rem vel in suscipit."], ["available_on", "2017-10-07 14:35:52.214544"], ["slug", "product-3-964"], ["shipping_category_id", 179], ["created_at", "2018-10-07 14:35:52.255988"], ["updated_at", "2018-10-07 14:35:52.255988"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 161], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 161], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:35:52.261472"], ["created_at", "2018-10-07 14:35:52.261472"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 159], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 159], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 159], ["stock_location_id", 137], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 137], ["variant_id", 159], ["created_at", "2018-10-07 14:35:52.283201"], ["updated_at", "2018-10-07 14:35:52.283201"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:52.286032"], ["id", 159]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 161], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 161], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 161], ["sluggable_type", "Spree::Product"], ["slug", "product-3-964"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-964"], ["sluggable_id", 161], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:35:52.299203"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 161]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:52.305250' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:52.306558' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:35:52.287498"], ["id", 161]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:35:52.310285' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:35:52.312232' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 142], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "lavenia@lebsackwaelchi.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "427eaf3a8656769060fbd74c186d70ca3d14a59b0fe7a52d7d610f7c356b494fb8c113b1e7f553d92c37bda85cdab2b65841b9f4345afecd4827f4e3ebc2f58d"], ["password_salt", "EH8tzZD9WphAS2YbPwST"], ["email", "lavenia@lebsackwaelchi.co.uk"], ["login", "lavenia@lebsackwaelchi.co.uk"], ["authentication_token", "xxxx15389229526741xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:35:52.453833"], ["updated_at", "2018-10-07 14:35:52.453833"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 142], ["user_id", 172]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:35:52 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:35:52.482055"], ["last_sign_in_at", "2018-10-07 14:35:52.482055"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:35:52.483005"], ["id", 172]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "1m08rMXrYYsRr52Dmnll9g1538922952612"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:35:52.632230"], ["spree_api_key", "373b62295b3d35ea117b807a1de2fc4943d6d3d8b1a64ff6"], ["id", 172]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 496ms (ActiveRecord: 7.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (7.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:37:59.820863"], ["updated_at", "2018-10-07 14:37:59.820863"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:37:59.989978"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 136], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 136], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 136], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 136], ["updated_at", "2018-10-07 14:38:00.015392"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:38:00.020366"], ["updated_at", "2018-10-07 14:38:00.020366"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 136], ["country_id", 136], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-5017"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-5017') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-5017"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 5017"], ["description", "Ad numquam eveniet aperiam aut quod. Corporis aperiam fugiat adipisci qui expedita. Commodi non numquam ut perferendis autem modi veritatis.\nUnde eius ea nobis placeat aut et distinctio. Magni non facere eaque nulla fugiat atque. Sint rerum tempora et at.\nIncidunt ea sunt voluptas a quae. Consequatur esse error est illo rem et modi consectetur. Iste repellat dignissimos omnis ipsam error aut. Delectus et officia nihil ducimus. Sed aperiam ratione tenetur quibusdam est velit corrupti.\nEt excepturi libero nam sed quidem neque. Quia neque sunt sint dolores et est. Eos modi sapiente voluptatibus et omnis blanditiis soluta. Voluptates illo quo officiis quaerat id similique odio.\nConsequatur aliquid expedita deserunt ut recusandae quos. Voluptas ut enim unde laborum repudiandae vitae. At et ipsum aut natus cum magni. Quia quasi sunt sit temporibus enim non."], ["available_on", "2017-10-07 14:37:59.918964"], ["slug", "product-1-5017"], ["shipping_category_id", 180], ["created_at", "2018-10-07 14:38:00.043890"], ["updated_at", "2018-10-07 14:38:00.043890"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 162], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 162], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:38:00.048639"], ["created_at", "2018-10-07 14:38:00.048639"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 160], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 160], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 160], ["stock_location_id", 138], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 138], ["variant_id", 160], ["created_at", "2018-10-07 14:38:00.093558"], ["updated_at", "2018-10-07 14:38:00.093558"], ["backorderable", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:38:00.095897"], ["id", 160]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 162], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 162], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 162], ["sluggable_type", "Spree::Product"], ["slug", "product-1-5017"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-5017"], ["sluggable_id", 162], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:38:00.130016"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 162]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:38:00.160793' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:38:00.168931' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:38:00.097550"], ["id", 162]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:38:00.176263' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:38:00.177929' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:38:00.196058"], ["updated_at", "2018-10-07 14:38:00.196058"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:38:00.211231"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 137], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 137], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 137], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 137], ["updated_at", "2018-10-07 14:38:00.224056"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:38:00.226682"], ["updated_at", "2018-10-07 14:38:00.226682"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 137], ["country_id", 137], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-1376"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-1376') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-1376"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 1376"], ["description", "Vel sapiente quibusdam laborum in saepe voluptatem suscipit. Iusto veritatis velit occaecati inventore. Nobis possimus distinctio omnis recusandae ad voluptates quae aut. Assumenda voluptates voluptatibus dolores quia. Quae possimus quia voluptatibus quis quia impedit eos molestias.\nAnimi expedita et aliquam dolores suscipit aut nisi. Et deleniti placeat dignissimos aspernatur cumque atque minus. Eos et quia et est maiores."], ["available_on", "2017-10-07 14:38:00.203965"], ["slug", "product-2-1376"], ["shipping_category_id", 181], ["created_at", "2018-10-07 14:38:00.239642"], ["updated_at", "2018-10-07 14:38:00.239642"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 163], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 163], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:38:00.243798"], ["created_at", "2018-10-07 14:38:00.243798"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 161], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 163], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 161], ["stock_location_id", 139], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 139], ["variant_id", 161], ["created_at", "2018-10-07 14:38:00.259092"], ["updated_at", "2018-10-07 14:38:00.259092"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:38:00.262534"], ["id", 161]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 163], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 163], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 163], ["sluggable_type", "Spree::Product"], ["slug", "product-2-1376"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-1376"], ["sluggable_id", 163], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:38:00.275433"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 163]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:38:00.279501' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:38:00.280880' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:38:00.264051"], ["id", 163]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:38:00.284010' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:38:00.285241' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:38:00.295366"], ["updated_at", "2018-10-07 14:38:00.295366"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:38:00.310574"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 138], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 138], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 138], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 138], ["updated_at", "2018-10-07 14:38:00.323044"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:38:00.325561"], ["updated_at", "2018-10-07 14:38:00.325561"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 138], ["country_id", 138], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-2858"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-2858') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-2858"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 2858"], ["description", "Accusamus soluta nesciunt quo voluptatem cupiditate dicta. Debitis recusandae similique architecto corrupti inventore. Eum velit ut odit voluptatem atque quos.\nRepudiandae repellat cumque et ut dolore ipsa natus dicta. Autem tempore et accusantium distinctio. Autem pariatur sed recusandae impedit earum nostrum. Quia quisquam possimus et neque quis. Quo tenetur velit rem ducimus est corrupti excepturi.\nNihil aliquam quasi pariatur ut rerum. Nisi fugit quia tenetur quas molestiae dignissimos inventore et. Occaecati odit enim ut quia reprehenderit. Aut aut laborum ea amet et architecto."], ["available_on", "2017-10-07 14:38:00.303678"], ["slug", "product-3-2858"], ["shipping_category_id", 182], ["created_at", "2018-10-07 14:38:00.341804"], ["updated_at", "2018-10-07 14:38:00.341804"]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 164], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 164], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:38:00.346033"], ["created_at", "2018-10-07 14:38:00.346033"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 162], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 164], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (3.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 162], ["stock_location_id", 140], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 140], ["variant_id", 162], ["created_at", "2018-10-07 14:38:00.364766"], ["updated_at", "2018-10-07 14:38:00.364766"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:38:00.366823"], ["id", 162]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 164], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 164], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 164], ["sluggable_type", "Spree::Product"], ["slug", "product-3-2858"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-2858"], ["sluggable_id", 164], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:38:00.376197"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 164]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:38:00.380211' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:38:00.381585' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:38:00.368335"], ["id", 164]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:38:00.384543' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:38:00.390289' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 143], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "consuela.okon@okonkilback.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "69cb30fd46a45f149e7a6e746e24727c500f6b8601d70e9eba1bfbcf7b38f1e57151fff6f25849b2e90fb895e6311b2297051bb1ba89f01676e236a18f09ba92"], ["password_salt", "9TfktxmicoVzKZ3RxfMj"], ["email", "consuela.okon@okonkilback.us"], ["login", "consuela.okon@okonkilback.us"], ["authentication_token", "xxxx15389230809001xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:38:00.480622"], ["updated_at", "2018-10-07 14:38:00.480622"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 143], ["user_id", 173]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:38:00 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:38:00.510028"], ["last_sign_in_at", "2018-10-07 14:38:00.510028"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:38:00.511015"], ["id", 173]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "Yr8cLlMh9Du91LUCdT_tZw1538923080639"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:38:00.658673"], ["spree_api_key", "9c861848ad43cca2b26cf799baecd3e76bfecbe0f7f120c9"], ["id", 173]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 486ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:40:28.360955"], ["updated_at", "2018-10-07 14:40:28.360955"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:40:28.544329"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 139], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 139], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 139], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 139], ["updated_at", "2018-10-07 14:40:28.573030"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:40:28.577720"], ["updated_at", "2018-10-07 14:40:28.577720"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 139], ["country_id", 139], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-6014"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-6014') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-6014"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 6014"], ["description", "Nostrum nihil libero et quia. Provident eum sunt sint fuga. Ullam ut odit eaque harum consectetur animi.\nAut et ut nostrum ut aut animi necessitatibus. Quia corrupti laborum veritatis quae similique. Nostrum molestiae quia ea fuga. Odit nesciunt dolor voluptatem dolores perspiciatis est maxime. Saepe sint assumenda sit ut dolores cumque impedit."], ["available_on", "2017-10-07 14:40:28.458976"], ["slug", "product-1-6014"], ["shipping_category_id", 183], ["created_at", "2018-10-07 14:40:28.604930"], ["updated_at", "2018-10-07 14:40:28.604930"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 165], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 165], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:40:28.609441"], ["created_at", "2018-10-07 14:40:28.609441"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 163], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 163], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 163], ["stock_location_id", 141], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 141], ["variant_id", 163], ["created_at", "2018-10-07 14:40:28.653388"], ["updated_at", "2018-10-07 14:40:28.653388"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:40:28.655701"], ["id", 163]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 165], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 165], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 165], ["sluggable_type", "Spree::Product"], ["slug", "product-1-6014"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-6014"], ["sluggable_id", 165], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:40:28.686078"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 165]]
  [1m[35mSQL (2.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:40:28.717434' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:40:28.724024' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:40:28.657333"], ["id", 165]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:40:28.732492' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:40:28.734107' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:40:28.751419"], ["updated_at", "2018-10-07 14:40:28.751419"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:40:28.773808"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 140], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 140], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 140], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 140], ["updated_at", "2018-10-07 14:40:28.781862"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:40:28.784527"], ["updated_at", "2018-10-07 14:40:28.784527"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 140], ["country_id", 140], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-4565"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-4565') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-4565"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 4565"], ["description", "Et minus qui neque consequuntur in voluptates. Molestiae minus nemo eius odit ipsum ut ex saepe. Ullam quaerat nihil ut mollitia iure sit. Quod id rerum magnam voluptatem minima velit eum.\nIpsa sint et odio similique voluptatem quos consectetur. Vero autem sed laudantium quibusdam impedit laboriosam. Aut non hic deserunt laborum aut dolorem sit ut. Itaque voluptatem magni maxime consequatur debitis et. Harum optio eos minus laudantium exercitationem."], ["available_on", "2017-10-07 14:40:28.761931"], ["slug", "product-2-4565"], ["shipping_category_id", 184], ["created_at", "2018-10-07 14:40:28.797794"], ["updated_at", "2018-10-07 14:40:28.797794"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 166], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 166], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:40:28.801629"], ["created_at", "2018-10-07 14:40:28.801629"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 164], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 164], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 166], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 164], ["stock_location_id", 142], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 142], ["variant_id", 164], ["created_at", "2018-10-07 14:40:28.816481"], ["updated_at", "2018-10-07 14:40:28.816481"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:40:28.818588"], ["id", 164]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 166], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 166], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 166], ["sluggable_type", "Spree::Product"], ["slug", "product-2-4565"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-4565"], ["sluggable_id", 166], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:40:28.827653"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 166]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:40:28.831661' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:40:28.833001' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:40:28.820050"], ["id", 166]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:40:28.836174' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:40:28.837447' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:40:28.843812"], ["updated_at", "2018-10-07 14:40:28.843812"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.2ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:40:28.858915"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 141], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 141], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 141], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 141], ["updated_at", "2018-10-07 14:40:28.865970"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:40:28.869259"], ["updated_at", "2018-10-07 14:40:28.869259"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 141], ["country_id", 141], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-8262"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-8262') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-8262"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 8262"], ["description", "Dolores distinctio ut libero debitis occaecati illum. Voluptatum est quasi et asperiores. Vel voluptatem inventore quidem incidunt eius. Nesciunt nam odio et vero eaque.\nMolestias sint commodi explicabo est blanditiis omnis delectus. Sapiente sequi et molestiae in nihil ipsam dolores. Quis sit voluptatem aut nostrum non.\nCommodi quia rerum deleniti eos iusto magnam debitis cum. Nisi enim asperiores dicta dolores minus. Aspernatur incidunt velit quae voluptatem voluptas ut hic. Voluptate mollitia expedita similique eum assumenda tempore quae. Laudantium omnis vitae tempore similique at est ut."], ["available_on", "2017-10-07 14:40:28.852323"], ["slug", "product-3-8262"], ["shipping_category_id", 185], ["created_at", "2018-10-07 14:40:28.883579"], ["updated_at", "2018-10-07 14:40:28.883579"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 167], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 167], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:40:28.887959"], ["created_at", "2018-10-07 14:40:28.887959"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 165], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 167], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 165], ["stock_location_id", 143], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 143], ["variant_id", 165], ["created_at", "2018-10-07 14:40:28.905596"], ["updated_at", "2018-10-07 14:40:28.905596"], ["backorderable", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:40:28.907778"], ["id", 165]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 167], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 167], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 167], ["sluggable_type", "Spree::Product"], ["slug", "product-3-8262"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-8262"], ["sluggable_id", 167], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:40:28.917192"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 167]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:40:28.921195' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:40:28.922473' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:40:28.909505"], ["id", 167]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:40:28.925647' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:40:28.926893' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 144], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "josephine@ondricka.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "19cfab757e0cf2126d2e2ba46cc75d903a308d5bc02b3076d3cd28c7656839d9f41cadd23bd3318b5c6aaa8355215fdb62968b56906b947ca6a46df34d9e250b"], ["password_salt", "Vg18yeH9HEKsPavu68cS"], ["email", "josephine@ondricka.name"], ["login", "josephine@ondricka.name"], ["authentication_token", "xxxx15389232283841xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:40:29.017478"], ["updated_at", "2018-10-07 14:40:29.017478"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 144], ["user_id", 174]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:40:29 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:40:29.046468"], ["last_sign_in_at", "2018-10-07 14:40:29.046468"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:40:29.047475"], ["id", 174]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "zka3HirqblWPg81_nUrOmA1538923229173"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:40:29.192382"], ["spree_api_key", "e48f77ba1cca7ee6d9bb07a0e9b952a71c0726c72a778a35"], ["id", 174]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 487ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:41:35.743276"], ["updated_at", "2018-10-07 14:41:35.743276"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:41:35.894805"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 142], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 142], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 142], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 142], ["updated_at", "2018-10-07 14:41:35.931953"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:41:35.937240"], ["updated_at", "2018-10-07 14:41:35.937240"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 142], ["country_id", 142], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-9351"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-9351') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-9351"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 9351"], ["description", "Laborum labore perferendis nihil sed qui ducimus velit. Aliquid voluptas est qui id illo laboriosam et ex. Odit et nesciunt molestiae minima cumque quam.\nRepellendus enim laborum voluptate consequatur inventore et ducimus commodi. Pariatur corporis est aut ut accusamus. Voluptatibus voluptatum quo et ut quam.\nTempora et blanditiis aspernatur quaerat omnis consectetur ea. Ut sit aperiam iure ad illum aspernatur blanditiis. Perferendis cupiditate est voluptatem adipisci maiores fugiat dolore qui."], ["available_on", "2017-10-07 14:41:35.837589"], ["slug", "product-1-9351"], ["shipping_category_id", 186], ["created_at", "2018-10-07 14:41:35.963329"], ["updated_at", "2018-10-07 14:41:35.963329"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 168], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 168], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:41:35.968021"], ["created_at", "2018-10-07 14:41:35.968021"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 166], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 166], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 166], ["stock_location_id", 144], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 144], ["variant_id", 166], ["created_at", "2018-10-07 14:41:36.010655"], ["updated_at", "2018-10-07 14:41:36.010655"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:36.013018"], ["id", 166]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 168], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 168], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 168], ["sluggable_type", "Spree::Product"], ["slug", "product-1-9351"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-9351"], ["sluggable_id", 168], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:41:36.040899"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 168]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:36.068352' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:36.073505' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:36.014613"], ["id", 168]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:36.082714' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:36.084288' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:41:36.099729"], ["updated_at", "2018-10-07 14:41:36.099729"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:41:36.114104"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 143], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 143], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 143], ["updated_at", "2018-10-07 14:41:36.121456"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:41:36.124768"], ["updated_at", "2018-10-07 14:41:36.124768"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 143], ["country_id", 143], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-831"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-831') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-831"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 831"], ["description", "Aut eum aliquam illo et nesciunt vitae fuga. Quibusdam voluptatem officia voluptas itaque a. Inventore doloremque qui non et. Esse fugit consequatur placeat nulla ab.\nAliquid praesentium saepe sunt asperiores. Nobis voluptatem sint libero recusandae. Doloremque enim quia animi nihil nisi ducimus deleniti omnis. Repellendus ipsam adipisci animi quo ratione voluptas tempore.\nQui eius voluptatibus corrupti amet. Aut modi veritatis ea rerum debitis saepe ratione nemo. Facere nihil omnis et nulla esse. Et non veritatis reiciendis non placeat autem enim et.\nOfficia voluptatum eos in exercitationem. Excepturi esse aut dolorum facere in explicabo. Adipisci maxime aut porro ipsam sit architecto commodi qui."], ["available_on", "2017-10-07 14:41:36.107193"], ["slug", "product-2-831"], ["shipping_category_id", 187], ["created_at", "2018-10-07 14:41:36.138249"], ["updated_at", "2018-10-07 14:41:36.138249"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 169], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 169], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:41:36.142069"], ["created_at", "2018-10-07 14:41:36.142069"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 167], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 167], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 167], ["stock_location_id", 145], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 145], ["variant_id", 167], ["created_at", "2018-10-07 14:41:36.157010"], ["updated_at", "2018-10-07 14:41:36.157010"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:36.159092"], ["id", 167]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 169], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 169], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 169], ["sluggable_type", "Spree::Product"], ["slug", "product-2-831"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-831"], ["sluggable_id", 169], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:41:36.168152"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 169]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:36.172171' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:36.173583' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:36.160590"], ["id", 169]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:36.176638' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:36.178279' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:41:36.184756"], ["updated_at", "2018-10-07 14:41:36.184756"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:41:36.199809"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 144], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 144], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 144], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 144], ["updated_at", "2018-10-07 14:41:36.206968"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:41:36.210270"], ["updated_at", "2018-10-07 14:41:36.210270"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 144], ["country_id", 144], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-7617"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-7617') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-7617"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 7617"], ["description", "Voluptatem ea voluptas iste voluptatum nisi. Eaque illo aspernatur qui eveniet quo veniam. Debitis veritatis voluptas deserunt saepe inventore ipsa voluptates.\nNatus sed vitae tempore omnis. Placeat possimus necessitatibus soluta ducimus qui. Voluptatum voluptatem odit dolor quos impedit quod. Laboriosam sed doloremque aut exercitationem facere cumque omnis eum. Tempora rerum ad dolorum aut maiores quia."], ["available_on", "2017-10-07 14:41:36.192814"], ["slug", "product-3-7617"], ["shipping_category_id", 188], ["created_at", "2018-10-07 14:41:36.224402"], ["updated_at", "2018-10-07 14:41:36.224402"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 170], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 170], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:41:36.228773"], ["created_at", "2018-10-07 14:41:36.228773"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 168], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 168], ["stock_location_id", 146], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 146], ["variant_id", 168], ["created_at", "2018-10-07 14:41:36.244204"], ["updated_at", "2018-10-07 14:41:36.244204"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:36.246306"], ["id", 168]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 170], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 170], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 170], ["sluggable_type", "Spree::Product"], ["slug", "product-3-7617"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-7617"], ["sluggable_id", 170], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:41:36.255597"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 170]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:36.259556' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:36.260850' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:36.247773"], ["id", 170]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:36.263916' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:36.265185' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 145], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "martha_stamm@osinski.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "0d62de29f273c09322d6eb4b05e8452185f96f8a4b5a40282236db32cb1886abe3edbdfb22fcc560aec6a9c2f87e02c30d504439d2adf29744955a14d931e174"], ["password_salt", "E1zJ1AkEjPsD4TDgprRH"], ["email", "martha_stamm@osinski.info"], ["login", "martha_stamm@osinski.info"], ["authentication_token", "xxxx15389232966091xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:41:36.354473"], ["updated_at", "2018-10-07 14:41:36.354473"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 145], ["user_id", 175]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:41:36 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:41:36.383203"], ["last_sign_in_at", "2018-10-07 14:41:36.383203"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:41:36.384153"], ["id", 175]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "BvcPzITsUqdziopkTi6bzQ1538923296510"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:41:36.528866"], ["spree_api_key", "237bea6aa8761fae6129716d802455b8cb8db620e89b428f"], ["id", 175]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 489ms (ActiveRecord: 6.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:41:56.201021"], ["updated_at", "2018-10-07 14:41:56.201021"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:41:56.367145"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 145], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 145], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 145], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 145], ["updated_at", "2018-10-07 14:41:56.391737"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:41:56.397018"], ["updated_at", "2018-10-07 14:41:56.397018"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 145], ["country_id", 145], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-2520"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-2520') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-2520"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 2520"], ["description", "Ullam nesciunt et recusandae earum corrupti. Eum aut id dicta exercitationem officia atque sint. Enim ducimus accusamus debitis voluptatem est. Inventore fugit aut eum est odit perspiciatis et. Sunt qui voluptatem iste maxime quasi ut excepturi mollitia.\nVeritatis atque ipsum tenetur reiciendis repudiandae explicabo. Ipsa repellendus libero quas ea sit. Reprehenderit voluptatem at amet et.\nQuisquam recusandae quos et voluptates eligendi nihil. Vel sunt fugit corporis doloribus illo quia cum eveniet. Ipsam molestias non omnis sit cumque nihil vel. Sit voluptatum eum rerum a explicabo omnis. Consectetur cum sit cumque qui dolor est rerum sit.\nError facere nam consequatur qui praesentium. Eos ut quisquam incidunt ea fuga repellat aut. Fugiat eligendi facilis quos eveniet eum ducimus et et."], ["available_on", "2017-10-07 14:41:56.297643"], ["slug", "product-1-2520"], ["shipping_category_id", 189], ["created_at", "2018-10-07 14:41:56.421373"], ["updated_at", "2018-10-07 14:41:56.421373"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 171], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 171], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:41:56.426072"], ["created_at", "2018-10-07 14:41:56.426072"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 169], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 169], ["stock_location_id", 147], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 147], ["variant_id", 169], ["created_at", "2018-10-07 14:41:56.466596"], ["updated_at", "2018-10-07 14:41:56.466596"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.468926"], ["id", 169]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 171], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 171], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 171], ["sluggable_type", "Spree::Product"], ["slug", "product-1-2520"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-2520"], ["sluggable_id", 171], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:41:56.497762"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 171]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.525338' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:56.529677' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.470509"], ["id", 171]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.537531' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:56.539123' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 171], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 169], ["id", 156], ["stock_location_id", 147], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:41:56.561160"], ["id", 156]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.563504"], ["id", 169]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.566837"], ["id", 171]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 171]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.570850' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:56.572174' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 171], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:41:56.616749"], ["updated_at", "2018-10-07 14:41:56.616749"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 25], ["product_id", 171], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 25], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 171], ["taxon_id", 25], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 25], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 25], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 25], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:41:56.634141"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 25 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.639927' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 25) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.626540"], ["id", 171]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.646791' WHERE "spree_taxons"."id" = 25[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:56.649660' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.626849"], ["id", 25]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.652874' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 25) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:41:56.659994"], ["updated_at", "2018-10-07 14:41:56.659994"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:41:56.675733"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 146], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 146], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 146], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 146], ["updated_at", "2018-10-07 14:41:56.683685"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:41:56.687856"], ["updated_at", "2018-10-07 14:41:56.687856"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 146], ["country_id", 146], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-2093"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-2093') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-2093"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 2093"], ["description", "Dolores reprehenderit sint maiores quia. Deserunt officiis ipsum qui aut cumque similique eius est. Autem dignissimos fugiat distinctio voluptatum nesciunt vel aut harum. Debitis consequatur vel nemo minima.\nAsperiores quaerat velit et ut quibusdam distinctio recusandae. Amet molestiae quia in qui. Sint inventore architecto qui necessitatibus eum quo. Cumque distinctio eos in minus aut commodi non. Est asperiores delectus quia fuga ipsa."], ["available_on", "2017-10-07 14:41:56.668767"], ["slug", "product-2-2093"], ["shipping_category_id", 190], ["created_at", "2018-10-07 14:41:56.701245"], ["updated_at", "2018-10-07 14:41:56.701245"]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 172], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 172], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:41:56.705348"], ["created_at", "2018-10-07 14:41:56.705348"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 170], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 170], ["stock_location_id", 148], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 148], ["variant_id", 170], ["created_at", "2018-10-07 14:41:56.720647"], ["updated_at", "2018-10-07 14:41:56.720647"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.722818"], ["id", 170]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 172], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 172], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 172], ["sluggable_type", "Spree::Product"], ["slug", "product-2-2093"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-2093"], ["sluggable_id", 172], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:41:56.732108"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 172]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.736544' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:56.737919' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.724298"], ["id", 172]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.741002' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:56.742236' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 172], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 170], ["id", 157], ["stock_location_id", 148], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:41:56.754502"], ["id", 157]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.756859"], ["id", 170]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.760280"], ["id", 172]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 172]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.765607' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:56.766863' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 172], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:41:56.777169"], ["updated_at", "2018-10-07 14:41:56.777169"]]
  [1m[36mSpree::Classification Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 26], ["product_id", 172], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 26], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 172], ["taxon_id", 26], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 26], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 26], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 26], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:41:56.791364"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 26 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.796153' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 26) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.785483"], ["id", 172]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.800993' WHERE "spree_taxons"."id" = 26[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:56.803717' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.785797"], ["id", 26]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.806880' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 26) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 172], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:41:56.816797"], ["updated_at", "2018-10-07 14:41:56.816797"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:41:56.832397"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 147], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 147], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 147], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 147], ["updated_at", "2018-10-07 14:41:56.839564"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:41:56.844199"], ["updated_at", "2018-10-07 14:41:56.844199"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 147], ["country_id", 147], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-1365"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-1365') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-1365"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 1365"], ["description", "Quibusdam pariatur in provident consequatur sunt consequuntur est voluptas. Ullam ipsa quo voluptatem consequatur ex velit veritatis harum. Dignissimos omnis eligendi omnis qui fugiat. Repellendus sed nobis labore provident. Non dolorem impedit non quis porro.\nAb quibusdam rerum eligendi placeat occaecati culpa alias cum. Accusamus eos voluptas voluptas fugit. Aliquam enim vel dolore inventore quod omnis. Error quas tempora perferendis possimus dolorum.\nConsequatur perferendis amet corrupti quo. Sequi qui alias consequuntur error ipsa suscipit. Est optio ad est similique.\nQui reprehenderit odit aut qui. Et consequatur aut tempora cum vero voluptates. Aperiam qui voluptas voluptates numquam consequatur. Nostrum autem nihil aspernatur voluptatem et ipsa maiores numquam."], ["available_on", "2017-10-07 14:41:56.825708"], ["slug", "product-3-1365"], ["shipping_category_id", 191], ["created_at", "2018-10-07 14:41:56.857009"], ["updated_at", "2018-10-07 14:41:56.857009"]]
  [1m[36mSpree::Variant Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 173], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 173], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:41:56.861718"], ["created_at", "2018-10-07 14:41:56.861718"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 171], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 171], ["stock_location_id", 149], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 149], ["variant_id", 171], ["created_at", "2018-10-07 14:41:56.877269"], ["updated_at", "2018-10-07 14:41:56.877269"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.879331"], ["id", 171]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 173], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 173], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 173], ["sluggable_type", "Spree::Product"], ["slug", "product-3-1365"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-1365"], ["sluggable_id", 173], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:41:56.888520"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 173]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.892503' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:56.893894' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.880801"], ["id", 173]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.896919' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:56.898127' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 173], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 171], ["id", 158], ["stock_location_id", 149], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:41:56.910485"], ["id", 158]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.912819"], ["id", 171]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.916179"], ["id", 173]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 173]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.920135' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:56.921360' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 173], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:41:56.931894"], ["updated_at", "2018-10-07 14:41:56.931894"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 27], ["product_id", 173], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.4ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 27], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 173], ["taxon_id", 27], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 27], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 27], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 27], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:41:56.946450"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 27 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.951289' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 27) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.940198"], ["id", 173]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.956047' WHERE "spree_taxons"."id" = 27[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:41:56.958815' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:41:56.940598"], ["id", 27]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:41:56.961872' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 27) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 173]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 146], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "malinda.torp@fisher.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "57b3ce9c41d49bb396db3cb992010ac8e0e22b14202d652d099b40d4f92a791bfe4ec218feae07b8ec4b6dfbf48413c6402a155cbda9ff34f4f73305c45bb359"], ["password_salt", "zSioirg9vx4Yaot5tJJA"], ["email", "malinda.torp@fisher.ca"], ["login", "malinda.torp@fisher.ca"], ["authentication_token", "xxxx15389233175951xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:41:57.055696"], ["updated_at", "2018-10-07 14:41:57.055696"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 146], ["user_id", 176]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:41:57 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:41:57.086722"], ["last_sign_in_at", "2018-10-07 14:41:57.086722"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:41:57.087733"], ["id", 176]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "jjUMYKgcU_AXt4jjIYrokw1538923317229"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:41:57.249165"], ["spree_api_key", "041ad791e6def6c1153f6469c795beb3e20dfc210ddb4c6e"], ["id", 176]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 489ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:47:54.724880"], ["updated_at", "2018-10-07 14:47:54.724880"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:47:54.894489"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 148], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 148], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 148], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 148], ["updated_at", "2018-10-07 14:47:54.919702"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:47:54.924932"], ["updated_at", "2018-10-07 14:47:54.924932"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 148], ["country_id", 148], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-6017"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-6017') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-6017"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 6017"], ["description", "Neque facere vel ullam enim eum provident mollitia et. Tempore et quod sit deleniti fuga consequatur quo. Sit fuga blanditiis a eum excepturi.\nUllam animi consequatur dolorem aliquam. Beatae et velit ipsum quia omnis. Et iure aut accusantium esse voluptatem dignissimos doloribus omnis. Fugit ut magnam autem doloribus autem nihil.\nVoluptas ad facere id aut consequatur sunt cum cupiditate. Perferendis unde consequatur dolorem esse modi dicta magnam id. Qui aliquid saepe neque voluptatem numquam. Ex ea eius pariatur architecto odio. Tempora quis voluptatem error adipisci veniam mollitia temporibus voluptas.\nDoloremque voluptatum cumque velit id aliquam quo ducimus amet. Sint in ut omnis possimus beatae facere cupiditate. Sed aut reiciendis consequatur quo repellat. Et qui possimus et quibusdam maxime quia quia.\nFugiat rem aut in ipsum. Eos commodi consequuntur dolores quis accusantium pariatur libero. Velit labore in est maxime voluptatum perferendis nulla mollitia. Magnam omnis ex non tempore occaecati facere quia possimus."], ["available_on", "2017-10-07 14:47:54.822981"], ["slug", "product-1-6017"], ["shipping_category_id", 192], ["created_at", "2018-10-07 14:47:54.949503"], ["updated_at", "2018-10-07 14:47:54.949503"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 174], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 174], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:47:54.954237"], ["created_at", "2018-10-07 14:47:54.954237"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 172], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 172], ["stock_location_id", 150], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 150], ["variant_id", 172], ["created_at", "2018-10-07 14:47:54.996357"], ["updated_at", "2018-10-07 14:47:54.996357"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:47:54.998675"], ["id", 172]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 174], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 174], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 174], ["sluggable_type", "Spree::Product"], ["slug", "product-1-6017"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-6017"], ["sluggable_id", 174], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:47:55.027821"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 174]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:47:55.054502' WHERE 1=0[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:47:55.059162' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:47:55.000221"], ["id", 174]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:47:55.067986' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:47:55.069617' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:47:55.084251"], ["updated_at", "2018-10-07 14:47:55.084251"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:47:55.101376"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 149], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 149], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 149], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 149], ["updated_at", "2018-10-07 14:47:55.109112"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:47:55.112492"], ["updated_at", "2018-10-07 14:47:55.112492"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 149], ["country_id", 149], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-7282"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-7282') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-7282"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 7282"], ["description", "Aut voluptatum autem ipsum minus modi fuga. Magnam est est magni velit vel quia asperiores. Incidunt corporis ut sunt quis natus rerum. Rerum eos beatae facilis quasi ut. Omnis ipsum cumque voluptatem qui velit.\nIste aut ea velit vel praesentium quos incidunt saepe. Occaecati nemo quis ea consectetur eos commodi. Non excepturi est officia id ut.\nSint occaecati ut temporibus sunt neque. Quas et est explicabo est aspernatur totam. Fugit qui iusto quod sed amet. Totam molestias officia ea assumenda magnam tempora vel veritatis. Beatae repellendus necessitatibus incidunt quasi dolorem eaque."], ["available_on", "2017-10-07 14:47:55.093995"], ["slug", "product-2-7282"], ["shipping_category_id", 193], ["created_at", "2018-10-07 14:47:55.126118"], ["updated_at", "2018-10-07 14:47:55.126118"]]
  [1m[36mSpree::Variant Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 175], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 175], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:47:55.130593"], ["created_at", "2018-10-07 14:47:55.130593"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 173], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 175], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 173], ["stock_location_id", 151], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 151], ["variant_id", 173], ["created_at", "2018-10-07 14:47:55.147245"], ["updated_at", "2018-10-07 14:47:55.147245"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:47:55.149519"], ["id", 173]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 175], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 175], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 175], ["sluggable_type", "Spree::Product"], ["slug", "product-2-7282"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-7282"], ["sluggable_id", 175], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:47:55.159319"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 175]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:47:55.163453' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:47:55.164867' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:47:55.151074"], ["id", 175]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:47:55.167962' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:47:55.169218' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:47:55.176095"], ["updated_at", "2018-10-07 14:47:55.176095"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:47:55.193218"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 150], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 150], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 150], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 150], ["updated_at", "2018-10-07 14:47:55.201883"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:47:55.205142"], ["updated_at", "2018-10-07 14:47:55.205142"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 150], ["country_id", 150], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-8514"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-8514') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-8514"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 8514"], ["description", "Optio quod aspernatur quia ut debitis necessitatibus voluptatem corrupti. Sunt nesciunt occaecati non omnis minima nemo. Vero quaerat qui est itaque illum. Ut dignissimos architecto quas consequatur.\nVoluptatem et officia unde asperiores est consequatur rerum doloremque. Earum in consequuntur numquam minima est. Soluta delectus ut in consectetur officia et."], ["available_on", "2017-10-07 14:47:55.185914"], ["slug", "product-3-8514"], ["shipping_category_id", 194], ["created_at", "2018-10-07 14:47:55.219479"], ["updated_at", "2018-10-07 14:47:55.219479"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 176], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 176], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:47:55.223497"], ["created_at", "2018-10-07 14:47:55.223497"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 174], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 176], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 174], ["stock_location_id", 152], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 152], ["variant_id", 174], ["created_at", "2018-10-07 14:47:55.239172"], ["updated_at", "2018-10-07 14:47:55.239172"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:47:55.241288"], ["id", 174]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 176], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 176], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 176], ["sluggable_type", "Spree::Product"], ["slug", "product-3-8514"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-8514"], ["sluggable_id", 176], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:47:55.250656"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 176]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:47:55.254687' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:47:55.255990' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:47:55.242742"], ["id", 176]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:47:55.259136' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:47:55.260384' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 147], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "lavera@rau.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "a60127ec27d12efadb8a19adf1af9e23858e3831c33ae7d2fce6340f345f74db1a8b6ef608ed8c0f1aaefc2fb0e1ac6a6ee9653294afd19b5930f34b14c7edce"], ["password_salt", "qX3xsma7iR9BGZ4t9ZeM"], ["email", "lavera@rau.co.uk"], ["login", "lavera@rau.co.uk"], ["authentication_token", "xxxx15389236759101xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:47:55.352544"], ["updated_at", "2018-10-07 14:47:55.352544"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 147], ["user_id", 177]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:47:55 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:47:55.383004"], ["last_sign_in_at", "2018-10-07 14:47:55.383004"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:47:55.384002"], ["id", 177]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "h0ol02i-H1Ta2hJkLGcrrQ1538923675511"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:47:55.531050"], ["spree_api_key", "8bbb03764e7d0e81960ecde8a24ac5ae3e986e63b55fa0e2"], ["id", 177]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 491ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:50:23.827196"], ["updated_at", "2018-10-07 14:50:23.827196"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:50:23.990706"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 151], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 151], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 151], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 151], ["updated_at", "2018-10-07 14:50:24.015537"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:50:24.020994"], ["updated_at", "2018-10-07 14:50:24.020994"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 151], ["country_id", 151], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-1571"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-1571') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-1571"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 1571"], ["description", "Eaque perferendis dicta voluptates repellat ex eius id. Consectetur architecto optio nesciunt esse eius. Iste perspiciatis libero aut voluptatem commodi amet reiciendis iusto. Perspiciatis quae ut fugiat accusamus iste reiciendis. Nisi occaecati eum accusamus quia numquam rem animi voluptatem."], ["available_on", "2017-10-07 14:50:23.921239"], ["slug", "product-1-1571"], ["shipping_category_id", 195], ["created_at", "2018-10-07 14:50:24.045178"], ["updated_at", "2018-10-07 14:50:24.045178"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 177], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 177], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:50:24.049814"], ["created_at", "2018-10-07 14:50:24.049814"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 175], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 175], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 175], ["stock_location_id", 153], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 153], ["variant_id", 175], ["created_at", "2018-10-07 14:50:24.091986"], ["updated_at", "2018-10-07 14:50:24.091986"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:50:24.094329"], ["id", 175]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 177], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 177], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 177], ["sluggable_type", "Spree::Product"], ["slug", "product-1-1571"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-1571"], ["sluggable_id", 177], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:50:24.122646"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 177]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:50:24.150705' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:50:24.155410' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:50:24.095868"], ["id", 177]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:50:24.164049' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:50:24.165704' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:50:24.181593"], ["updated_at", "2018-10-07 14:50:24.181593"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:50:24.196923"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 152], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 152], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 152], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 152], ["updated_at", "2018-10-07 14:50:24.204270"]]
  [1m[35m (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:50:24.208681"], ["updated_at", "2018-10-07 14:50:24.208681"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 152], ["country_id", 152], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-7952"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-7952') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-7952"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 7952"], ["description", "Quidem nisi porro architecto aut. Omnis dolorem quisquam facilis earum. Hic dolorum numquam culpa distinctio reprehenderit. Est nobis tempora expedita laborum non illum.\nEligendi qui ut sit optio esse amet voluptatem. Sed eveniet atque et odio. Ut impedit velit quidem illo quo officia odio explicabo. Maiores quidem voluptatum itaque sunt velit. Nobis rerum vitae voluptatum omnis voluptatem qui ut.\nVoluptas vel tenetur omnis iure molestiae. Consequatur in vitae tenetur sunt totam eum sed eveniet. Optio tempora commodi omnis magnam autem molestiae repudiandae. Animi quae possimus voluptas alias."], ["available_on", "2017-10-07 14:50:24.189859"], ["slug", "product-2-7952"], ["shipping_category_id", 196], ["created_at", "2018-10-07 14:50:24.221777"], ["updated_at", "2018-10-07 14:50:24.221777"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 178], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 178], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:50:24.226114"], ["created_at", "2018-10-07 14:50:24.226114"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 176], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 176], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 176], ["stock_location_id", 154], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 154], ["variant_id", 176], ["created_at", "2018-10-07 14:50:24.241701"], ["updated_at", "2018-10-07 14:50:24.241701"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:50:24.243721"], ["id", 176]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 178], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 178], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 178], ["sluggable_type", "Spree::Product"], ["slug", "product-2-7952"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-7952"], ["sluggable_id", 178], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:50:24.252973"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 178]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:50:24.256974' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:50:24.258299' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:50:24.245205"], ["id", 178]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:50:24.261427' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:50:24.262691' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:50:24.269256"], ["updated_at", "2018-10-07 14:50:24.269256"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:50:24.284565"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 153], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 153], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 153], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 153], ["updated_at", "2018-10-07 14:50:24.292079"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:50:24.296290"], ["updated_at", "2018-10-07 14:50:24.296290"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 153], ["country_id", 153], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-3268"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-3268') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-3268"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 3268"], ["description", "Tenetur eos maiores nobis eligendi. Aut laborum quia reprehenderit et ipsam voluptatem. Quibusdam ut quo tempore adipisci distinctio minima.\nQuia sed odit reprehenderit laboriosam necessitatibus neque. Et dolorem velit explicabo et soluta assumenda. Aut iste minus possimus ea sint sint."], ["available_on", "2017-10-07 14:50:24.277603"], ["slug", "product-3-3268"], ["shipping_category_id", 197], ["created_at", "2018-10-07 14:50:24.309255"], ["updated_at", "2018-10-07 14:50:24.309255"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 179], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 179], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:50:24.313257"], ["created_at", "2018-10-07 14:50:24.313257"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 177], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 177], ["stock_location_id", 155], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 155], ["variant_id", 177], ["created_at", "2018-10-07 14:50:24.328550"], ["updated_at", "2018-10-07 14:50:24.328550"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:50:24.330682"], ["id", 177]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 179], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 179], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 179], ["sluggable_type", "Spree::Product"], ["slug", "product-3-3268"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-3268"], ["sluggable_id", 179], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:50:24.339942"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 179]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:50:24.343934' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:50:24.345261' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:50:24.332131"], ["id", 179]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:50:24.348313' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:50:24.349598' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 148], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "emily.kassulke@ullrich.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "73cf186039fc51bd417da422023df2d7039c9aeec588fe923e3d39e401beb5e3cd8419c415bbfd224d0f28d528bc6225fe64c96b092494c40bb3916804e54275"], ["password_salt", "5PzDykuZS1Ch23Ly7_f2"], ["email", "emily.kassulke@ullrich.us"], ["login", "emily.kassulke@ullrich.us"], ["authentication_token", "xxxx15389238248201xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:50:24.442995"], ["updated_at", "2018-10-07 14:50:24.442995"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 148], ["user_id", 178]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:50:24 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:50:24.474652"], ["last_sign_in_at", "2018-10-07 14:50:24.474652"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:50:24.475652"], ["id", 178]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "H4-07JXfDZuRNXctLoDNOQ1538923824624"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:50:24.648474"], ["spree_api_key", "5f93d90203f2eea78d9c2741d1e72b0b581b86e0292bbd33"], ["id", 178]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 505ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:51:31.683554"], ["updated_at", "2018-10-07 14:51:31.683554"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:51:31.851793"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 154], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 154], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 154], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 154], ["updated_at", "2018-10-07 14:51:31.877300"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:51:31.881967"], ["updated_at", "2018-10-07 14:51:31.881967"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 154], ["country_id", 154], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-4471"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-4471') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-4471"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 4471"], ["description", "Ipsum asperiores sunt est beatae. Molestias incidunt ab velit et. Corrupti itaque qui fuga voluptas et eum. Voluptate cupiditate qui eius expedita eaque aperiam.\nOdit illo exercitationem iusto nemo laborum eos doloremque unde. Quia aut unde et quam fugiat illum eum. Facilis soluta eos et est ut accusantium exercitationem aliquid.\nCulpa ut voluptatem quis ipsam laborum id eos. Saepe omnis excepturi numquam fuga perspiciatis. Iure dicta dolore voluptatibus facere et illo.\nQui quo vero cumque sed cum. Sit dolorum cumque eum blanditiis provident. Reiciendis recusandae dolorem nesciunt enim praesentium rerum. Doloribus rerum nisi hic reiciendis accusamus.\nIllum quo ratione est impedit praesentium enim. Porro vitae reprehenderit qui labore blanditiis aliquid. Recusandae nobis aperiam et dicta ratione. Voluptas ut ut fugit provident doloribus quos."], ["available_on", "2017-10-07 14:51:31.780612"], ["slug", "product-1-4471"], ["shipping_category_id", 198], ["created_at", "2018-10-07 14:51:31.906434"], ["updated_at", "2018-10-07 14:51:31.906434"]]
  [1m[36mSpree::Variant Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 180], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 180], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:51:31.911226"], ["created_at", "2018-10-07 14:51:31.911226"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 178], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 180], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 178], ["stock_location_id", 156], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 156], ["variant_id", 178], ["created_at", "2018-10-07 14:51:31.953777"], ["updated_at", "2018-10-07 14:51:31.953777"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:51:31.956384"], ["id", 178]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 180], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 180], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 180], ["sluggable_type", "Spree::Product"], ["slug", "product-1-4471"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-4471"], ["sluggable_id", 180], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:51:31.983042"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 180]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:51:32.011175' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:51:32.015665' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:51:31.958021"], ["id", 180]]
  [1m[35mSQL (4.1ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:51:32.024216' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:51:32.029453' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:51:32.045789"], ["updated_at", "2018-10-07 14:51:32.045789"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:51:32.061159"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 155], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 155], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 155], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 155], ["updated_at", "2018-10-07 14:51:32.068272"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:51:32.072139"], ["updated_at", "2018-10-07 14:51:32.072139"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 155], ["country_id", 155], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-1127"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-1127') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-1127"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 1127"], ["description", "Sed illum minima sunt ut laborum quod. Ad minima maxime et harum voluptas rem consequatur. Possimus architecto cupiditate sit et dolores. Enim quibusdam rerum animi qui laudantium. Omnis ipsam architecto omnis soluta est sit explicabo quibusdam.\nQui nobis accusantium facere cum. Amet et provident praesentium ut consequuntur voluptates et error. Adipisci quo commodi assumenda saepe ab. Eos esse quod autem ea debitis necessitatibus.\nAliquam sit consequuntur sapiente id in iusto eum. Vitae nisi animi et fugit dolor voluptatem et. Ducimus esse et et aut.\nCum velit ea et veniam aliquid culpa. Asperiores eveniet velit enim consequatur ipsa eum. Eveniet quos alias optio veniam."], ["available_on", "2017-10-07 14:51:32.054125"], ["slug", "product-2-1127"], ["shipping_category_id", 199], ["created_at", "2018-10-07 14:51:32.088116"], ["updated_at", "2018-10-07 14:51:32.088116"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 181], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 181], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:51:32.092672"], ["created_at", "2018-10-07 14:51:32.092672"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 179], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (2.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 179], ["stock_location_id", 157], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 157], ["variant_id", 179], ["created_at", "2018-10-07 14:51:32.110897"], ["updated_at", "2018-10-07 14:51:32.110897"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:51:32.113249"], ["id", 179]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 181], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 181], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 181], ["sluggable_type", "Spree::Product"], ["slug", "product-2-1127"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-1127"], ["sluggable_id", 181], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:51:32.122893"]]
  [1m[36mSpree::Taxon Load (2.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 181]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:51:32.129241' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:51:32.130672' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:51:32.114906"], ["id", 181]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:51:32.134021' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:51:32.135311' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:51:32.141951"], ["updated_at", "2018-10-07 14:51:32.141951"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (3.9ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:51:32.160511"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 156], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 156], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 156], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 156], ["updated_at", "2018-10-07 14:51:32.167893"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:51:32.171218"], ["updated_at", "2018-10-07 14:51:32.171218"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 156], ["country_id", 156], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-9507"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-9507') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-9507"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 9507"], ["description", "Ut repudiandae excepturi reiciendis quia sint illum et quam. Optio voluptatem omnis qui dolor ullam omnis similique. Esse impedit sequi aut non enim fuga. Et laudantium ipsa odio atque.\nMagni sit architecto quia repudiandae. Quod tempora mollitia quia ut facilis quidem consequatur possimus. Eum ullam molestias consequatur error placeat enim magnam. Qui molestias impedit odio a nesciunt quia libero sed.\nAspernatur et temporibus consequuntur consectetur deleniti nesciunt doloremque. Praesentium deserunt dolor iusto placeat aperiam dolor. Et earum consequatur architecto quia ipsa. Adipisci assumenda sit eveniet occaecati expedita vitae. Eaque ut omnis dolor et non alias in sit.\nMaxime et aut quos aut odio ut. Et error perspiciatis vel blanditiis aut. Ut excepturi autem omnis eos magni. Aut tempora recusandae aperiam temporibus. Necessitatibus sed et rem veniam tenetur voluptatum ipsa suscipit.\nDoloribus soluta maiores itaque reprehenderit voluptates debitis suscipit tempore. Dolore praesentium eveniet est similique fugiat id maxime. Rem esse nostrum dolorem et praesentium. Aut et aut vitae corrupti molestiae. In sed velit beatae eligendi aut ad autem."], ["available_on", "2017-10-07 14:51:32.149519"], ["slug", "product-3-9507"], ["shipping_category_id", 200], ["created_at", "2018-10-07 14:51:32.186022"], ["updated_at", "2018-10-07 14:51:32.186022"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 182], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 182], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:51:32.190174"], ["created_at", "2018-10-07 14:51:32.190174"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 180], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 180], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (3.8ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 182], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 180], ["stock_location_id", 158], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 158], ["variant_id", 180], ["created_at", "2018-10-07 14:51:32.210339"], ["updated_at", "2018-10-07 14:51:32.210339"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:51:32.212395"], ["id", 180]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 182], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 182], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 182], ["sluggable_type", "Spree::Product"], ["slug", "product-3-9507"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-9507"], ["sluggable_id", 182], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:51:32.222138"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 182]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:51:32.229765' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:51:32.231114' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:51:32.214056"], ["id", 182]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:51:32.234164' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:51:32.235352' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (5.7ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 149], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "clair.stark@hyatt.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "218d478ac048a3d9cad2df662f9557268ecf910056a2d55291ed76c399bb29dc23f9deac5e8056a5689769491d26eedd046dad2ee1bedd6c2c7b50eed3bb1d0e"], ["password_salt", "-uTQ1USRkqUMEAPH5rEj"], ["email", "clair.stark@hyatt.com"], ["login", "clair.stark@hyatt.com"], ["authentication_token", "xxxx15389238923081xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:51:32.338098"], ["updated_at", "2018-10-07 14:51:32.338098"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 149], ["user_id", 179]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:51:32 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:51:32.366128"], ["last_sign_in_at", "2018-10-07 14:51:32.366128"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:51:32.367077"], ["id", 179]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "r-u8Cm7EVRoO3I6rMsKpaA1538923892493"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:51:32.513237"], ["spree_api_key", "a817a63c07cded68a996dee3a4f515fb0e8f8457d8a76c62"], ["id", 179]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 487ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:52:45.414841"], ["updated_at", "2018-10-07 14:52:45.414841"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:52:45.423701"], ["updated_at", "2018-10-07 14:52:45.423701"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:52:45.588533"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 157], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 157], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 157], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 157], ["updated_at", "2018-10-07 14:52:45.614111"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:52:45.618674"], ["updated_at", "2018-10-07 14:52:45.618674"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 157], ["country_id", 157], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-731"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-731') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-731"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 731"], ["description", "Magni laboriosam qui quod ipsa laborum sed. Ut sed similique provident minima. Soluta molestiae blanditiis fugiat eum est non in.\nSint neque ut ab commodi qui mollitia voluptatem nihil. Tenetur qui ex qui dicta. Cumque eos quod commodi vero enim earum quia unde.\nCum aliquid quae et rerum aut voluptatem sapiente omnis. Et corporis libero sed sit quod vitae debitis voluptatem. Nihil tempore sint unde aperiam quisquam earum excepturi voluptatem.\nEt cupiditate accusamus sit in. Et sed id qui corrupti eos. Sunt aliquam et eos occaecati in ullam culpa deleniti."], ["available_on", "2017-10-07 14:52:45.519201"], ["slug", "product-1-731"], ["shipping_category_id", 202], ["created_at", "2018-10-07 14:52:45.641453"], ["updated_at", "2018-10-07 14:52:45.641453"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 183], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 183], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:52:45.645891"], ["created_at", "2018-10-07 14:52:45.645891"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 181], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 183], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 181], ["stock_location_id", 159], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 159], ["variant_id", 181], ["created_at", "2018-10-07 14:52:45.686113"], ["updated_at", "2018-10-07 14:52:45.686113"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:52:45.688304"], ["id", 181]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 183], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 183], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 183], ["sluggable_type", "Spree::Product"], ["slug", "product-1-731"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-731"], ["sluggable_id", 183], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:52:45.714905"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 183]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:52:45.741027' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:52:45.744674' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:52:45.689778"], ["id", 183]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:52:45.752953' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:52:45.754354' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:52:45.769005"], ["updated_at", "2018-10-07 14:52:45.769005"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:52:45.783550"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 158], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 158], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 158], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 158], ["updated_at", "2018-10-07 14:52:45.790685"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:52:45.794479"], ["updated_at", "2018-10-07 14:52:45.794479"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 158], ["country_id", 158], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-4900"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-4900') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-4900"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 4900"], ["description", "Ipsa eum iusto dolor culpa vitae. Quidem eum et quam minima voluptatem quasi. Quia autem et nihil est. Autem eum id suscipit qui atque eius.\nQui modi possimus omnis et tempora eos. Illo ad sed et qui est. Voluptas laudantium sapiente quae commodi hic soluta. Illo laudantium deserunt ducimus labore et id placeat impedit. Optio et et voluptatem est quis vel eos.\nNesciunt laudantium quam ab molestiae sunt alias. Sint et fuga cumque incidunt reprehenderit est recusandae dolor. Quia eveniet consequuntur labore quaerat dolor. Rerum sint delectus velit assumenda dolor. Delectus laborum vitae impedit placeat consequatur sit aliquid aspernatur."], ["available_on", "2017-10-07 14:52:45.776818"], ["slug", "product-2-4900"], ["shipping_category_id", 203], ["created_at", "2018-10-07 14:52:45.808057"], ["updated_at", "2018-10-07 14:52:45.808057"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 184], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 184], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:52:45.812092"], ["created_at", "2018-10-07 14:52:45.812092"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 182], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 182], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 184], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 182], ["stock_location_id", 160], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 160], ["variant_id", 182], ["created_at", "2018-10-07 14:52:45.827272"], ["updated_at", "2018-10-07 14:52:45.827272"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:52:45.829350"], ["id", 182]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 184], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 184], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 184], ["sluggable_type", "Spree::Product"], ["slug", "product-2-4900"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-4900"], ["sluggable_id", 184], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:52:45.838722"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 184]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:52:45.842712' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:52:45.843980' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:52:45.830806"], ["id", 184]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:52:45.847030' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:52:45.848380' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 150], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "craig@kozey.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "e779dbeb6b1fc42bce5dd9db8be5d240d751a4c8d0dc2a6929c512aec09bac12d8be2fc261bcf60fe4474e0246d263e76782737fd6df2de5e7c735f6fa39d422"], ["password_salt", "5adeZ5rJ5it9Y1g7kueQ"], ["email", "craig@kozey.info"], ["login", "craig@kozey.info"], ["authentication_token", "xxxx15389239659541xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:52:45.939410"], ["updated_at", "2018-10-07 14:52:45.939410"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 150], ["user_id", 180]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:52:45 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:52:45.968953"], ["last_sign_in_at", "2018-10-07 14:52:45.968953"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:52:45.969925"], ["id", 180]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "O2vTI4qCrZZV2ZdkerhWxw1538923966097"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:52:46.116489"], ["spree_api_key", "f86aeb80b62218f56cc7202704c89e874d695668e304e3a1"], ["id", 180]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 485ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:53:39.060870"], ["updated_at", "2018-10-07 14:53:39.060870"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:53:39.075464"], ["updated_at", "2018-10-07 14:53:39.075464"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:53:39.242300"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 159], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 159], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 159], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 159], ["updated_at", "2018-10-07 14:53:39.268163"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:53:39.273569"], ["updated_at", "2018-10-07 14:53:39.273569"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 159], ["country_id", 159], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-7716"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-7716') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-7716"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 7716"], ["description", "Iste praesentium quia alias dignissimos libero quasi. Iure architecto eaque perspiciatis qui hic. Soluta esse dolor asperiores voluptatem aut. Cupiditate culpa accusantium earum maxime aut delectus fugit. Eligendi est qui natus reiciendis doloremque inventore earum ut.\nModi quis occaecati numquam officia repudiandae. Eligendi veniam laudantium temporibus nihil est omnis sed excepturi. Autem dolorem similique exercitationem asperiores quia eaque vero. Repudiandae vitae architecto distinctio sequi quod sit voluptas neque.\nQui aliquam quaerat qui sequi. Non voluptatem doloremque incidunt est animi alias voluptates. Eius ullam minus ea dolorem sint accusamus."], ["available_on", "2017-10-07 14:53:39.171657"], ["slug", "product-1-7716"], ["shipping_category_id", 205], ["created_at", "2018-10-07 14:53:39.297549"], ["updated_at", "2018-10-07 14:53:39.297549"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 185], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 185], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:53:39.302211"], ["created_at", "2018-10-07 14:53:39.302211"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 183], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 183], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 185], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 183], ["stock_location_id", 161], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 161], ["variant_id", 183], ["created_at", "2018-10-07 14:53:39.343947"], ["updated_at", "2018-10-07 14:53:39.343947"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:53:39.346380"], ["id", 183]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.9ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 185], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (1.0ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 185], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 185], ["sluggable_type", "Spree::Product"], ["slug", "product-1-7716"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-7716"], ["sluggable_id", 185], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:53:39.374357"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 185]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:53:39.401860' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:53:39.406287' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:53:39.347957"], ["id", 185]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:53:39.415211' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:53:39.416827' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:53:39.430936"], ["updated_at", "2018-10-07 14:53:39.430936"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:53:39.446896"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 160], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 160], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 160], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 160], ["updated_at", "2018-10-07 14:53:39.454173"]]
  [1m[35m (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:53:39.458597"], ["updated_at", "2018-10-07 14:53:39.458597"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 160], ["country_id", 160], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-2401"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-2401') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-2401"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 2401"], ["description", "Cum eius hic odio rem nobis. Ut odio vitae omnis distinctio est. Ratione beatae ipsum qui perspiciatis qui nisi reprehenderit praesentium. Et maxime dolorem enim ducimus tenetur eos dolor accusantium. Totam impedit consequatur eius deleniti nostrum qui suscipit eos."], ["available_on", "2017-10-07 14:53:39.439939"], ["slug", "product-2-2401"], ["shipping_category_id", 206], ["created_at", "2018-10-07 14:53:39.471933"], ["updated_at", "2018-10-07 14:53:39.471933"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 186], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 186], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:53:39.475931"], ["created_at", "2018-10-07 14:53:39.475931"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 184], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 184], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 184], ["stock_location_id", 162], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 162], ["variant_id", 184], ["created_at", "2018-10-07 14:53:39.491176"], ["updated_at", "2018-10-07 14:53:39.491176"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:53:39.493246"], ["id", 184]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 186], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 186], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 186], ["sluggable_type", "Spree::Product"], ["slug", "product-2-2401"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-2401"], ["sluggable_id", 186], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:53:39.502441"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 186]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:53:39.506452' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:53:39.507728' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:53:39.494665"], ["id", 186]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:53:39.510782' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:53:39.512055' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 151], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "kelsie@schoencremin.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "0e0bccc0a83ae7c2fb13b7093a52bf727ff57fffd8b70fd10d415bb5c6e6fcc15b03bb191c9b4efc40410305e503dd58cf1b8b88917419cbee3e05e80f143ee7"], ["password_salt", "6oyJsPnwmkP32JeMdHvL"], ["email", "kelsie@schoencremin.com"], ["login", "kelsie@schoencremin.com"], ["authentication_token", "xxxx15389240196061xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:53:39.602663"], ["updated_at", "2018-10-07 14:53:39.602663"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 151], ["user_id", 181]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:53:39 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:53:39.631002"], ["last_sign_in_at", "2018-10-07 14:53:39.631002"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:53:39.631974"], ["id", 181]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "LEOM6LwNeUWjxr_oYwwu4w1538924019757"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:53:39.776869"], ["spree_api_key", "47b4d1bac17a7559f7145b511b65e3f7218af7e6431e897a"], ["id", 181]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 510ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:54:25.713660"], ["updated_at", "2018-10-07 14:54:25.713660"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:54:25.722145"], ["updated_at", "2018-10-07 14:54:25.722145"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:54:25.884545"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 161], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 161], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 161], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 161], ["updated_at", "2018-10-07 14:54:25.910416"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:54:25.915123"], ["updated_at", "2018-10-07 14:54:25.915123"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 161], ["country_id", 161], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-7048"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-7048') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-7048"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 7048"], ["description", "Voluptas recusandae saepe rem et. Recusandae nam esse pariatur eius sunt quisquam magnam dolores. Voluptatem eligendi nihil quia omnis voluptatem. Quis quam debitis at totam earum suscipit. Dolorem officiis atque explicabo minima repellat.\nQui culpa eius perferendis et molestias facere. Molestias voluptatem commodi non beatae dolore id iure. Officiis recusandae accusantium adipisci perspiciatis nihil. Expedita atque nisi culpa itaque quia nesciunt quos.\nConsequuntur illo expedita sit earum fugiat est explicabo libero. Deserunt laborum dolores consectetur et id odit maiores est. Aperiam voluptatem voluptatem placeat dolores veritatis rerum necessitatibus."], ["available_on", "2017-10-07 14:54:25.815495"], ["slug", "product-1-7048"], ["shipping_category_id", 208], ["created_at", "2018-10-07 14:54:25.939041"], ["updated_at", "2018-10-07 14:54:25.939041"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 187], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 187], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:54:25.943734"], ["created_at", "2018-10-07 14:54:25.943734"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 185], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 185], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 185], ["stock_location_id", 163], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 163], ["variant_id", 185], ["created_at", "2018-10-07 14:54:25.985006"], ["updated_at", "2018-10-07 14:54:25.985006"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:54:25.987309"], ["id", 185]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 187], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 187], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 187], ["sluggable_type", "Spree::Product"], ["slug", "product-1-7048"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-7048"], ["sluggable_id", 187], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:54:26.015248"]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 187]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:54:26.041856' WHERE 1=0[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:54:26.046368' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:54:25.988881"], ["id", 187]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:54:26.055000' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:54:26.056528' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:54:26.071181"], ["updated_at", "2018-10-07 14:54:26.071181"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:54:26.086296"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 162], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 162], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 162], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 162], ["updated_at", "2018-10-07 14:54:26.093457"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:54:26.097397"], ["updated_at", "2018-10-07 14:54:26.097397"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 162], ["country_id", 162], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-6209"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-6209') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-6209"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 6209"], ["description", "Possimus temporibus dolorum ut ab dolorem. Rem itaque rerum officia qui voluptatem rerum aperiam. Repellendus occaecati labore explicabo veritatis qui quia velit amet. Earum deleniti ut consectetur sed.\nLaborum qui et illo ab unde. Placeat culpa voluptatem omnis rem consectetur rerum. Delectus facilis error laborum perferendis aliquid ut dolore. Quae et quis vel id impedit. Omnis et unde autem rerum nesciunt magni.\nEa architecto quia et sed. Voluptas magnam iusto nostrum sint. Officiis dicta omnis saepe quia et blanditiis provident id. Voluptatibus totam ipsam modi qui non repudiandae dolorem quaerat. Sequi non explicabo sed sint ad quis quidem.\nVeritatis qui quae asperiores rerum tenetur. Aut quibusdam maiores enim reprehenderit quasi dolor minima. Exercitationem tempora sint quod nobis aspernatur neque quia excepturi. Ducimus amet magnam et ut.\nDolorem voluptas placeat laboriosam sint. Dolorum non dicta ut est. Rerum cupiditate quibusdam sed quo repudiandae odio saepe et. Suscipit non velit eum qui iure dolore aut necessitatibus."], ["available_on", "2017-10-07 14:54:26.079376"], ["slug", "product-2-6209"], ["shipping_category_id", 209], ["created_at", "2018-10-07 14:54:26.110716"], ["updated_at", "2018-10-07 14:54:26.110716"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 188], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 188], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:54:26.114625"], ["created_at", "2018-10-07 14:54:26.114625"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 186], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 188], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 186], ["stock_location_id", 164], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 164], ["variant_id", 186], ["created_at", "2018-10-07 14:54:26.129649"], ["updated_at", "2018-10-07 14:54:26.129649"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:54:26.131766"], ["id", 186]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 188], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 188], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 188], ["sluggable_type", "Spree::Product"], ["slug", "product-2-6209"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-6209"], ["sluggable_id", 188], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:54:26.140884"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 188]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:54:26.144771' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:54:26.146077' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:54:26.133252"], ["id", 188]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:54:26.149145' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:54:26.150343' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 152], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "anitra@hirtheaufderhar.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "49888e84213bb2679b4a089d30d1f03a63968541f6555143f38938965e04ff8bc287e39b86a636ace2ee9cd4d95560b7606d18f33606553979f3a1fe8588da81"], ["password_salt", "-TK6RpLiYKZD83Ckic2_"], ["email", "anitra@hirtheaufderhar.us"], ["login", "anitra@hirtheaufderhar.us"], ["authentication_token", "xxxx1538924066611xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:54:26.239809"], ["updated_at", "2018-10-07 14:54:26.239809"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 152], ["user_id", 182]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:54:26 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:54:26.268792"], ["last_sign_in_at", "2018-10-07 14:54:26.268792"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:54:26.269758"], ["id", 182]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "ltZav9bMsaxaRAd9ubUvUA1538924066413"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:54:26.437138"], ["spree_api_key", "6637a6fce603fa135edb5fa15a397660f60b5add2075f9d8"], ["id", 182]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 491ms (ActiveRecord: 7.1ms)
  [1m[35m (3.5ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:55:53.942838"], ["updated_at", "2018-10-07 14:55:53.942838"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.8ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:55:54.105332"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 163], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 163], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 163], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 163], ["updated_at", "2018-10-07 14:55:54.130135"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:55:54.135478"], ["updated_at", "2018-10-07 14:55:54.135478"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 163], ["country_id", 163], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-4975"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-4975') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-4975"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 4975"], ["description", "Maiores sint voluptatem enim quibusdam enim est et ut. Doloremque nulla officiis commodi repudiandae et ipsam officia. Aut animi quidem et provident."], ["available_on", "2017-10-07 14:55:54.034314"], ["slug", "product-1-4975"], ["shipping_category_id", 210], ["created_at", "2018-10-07 14:55:54.159602"], ["updated_at", "2018-10-07 14:55:54.159602"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 189], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 189], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:55:54.164434"], ["created_at", "2018-10-07 14:55:54.164434"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 187], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 189], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 187], ["stock_location_id", 165], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 165], ["variant_id", 187], ["created_at", "2018-10-07 14:55:54.205986"], ["updated_at", "2018-10-07 14:55:54.205986"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:55:54.208380"], ["id", 187]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 189], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 189], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 189], ["sluggable_type", "Spree::Product"], ["slug", "product-1-4975"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-4975"], ["sluggable_id", 189], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:55:54.236623"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 189]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:55:54.264426' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:55:54.268817' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:55:54.209956"], ["id", 189]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:55:54.277078' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:55:54.278651' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:55:54.288159"], ["updated_at", "2018-10-07 14:55:54.288159"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:55:54.305237"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 164], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 164], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 164], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 164], ["updated_at", "2018-10-07 14:55:54.314557"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:55:54.317293"], ["updated_at", "2018-10-07 14:55:54.317293"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 164], ["country_id", 164], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-6503"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-6503') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-6503"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 6503"], ["description", "Est cupiditate necessitatibus odit ipsum laborum molestias consequatur voluptas. Natus exercitationem dolores iusto blanditiis deserunt quaerat. Nam et dicta et rerum. Modi voluptatem illo ratione dolore consequatur dolores.\nPerspiciatis voluptatem at dolor consequuntur. Quos aliquam ut aperiam reiciendis. Beatae cumque autem ipsa tempore est enim consequatur. Est qui deleniti voluptates neque illo. Tenetur magni occaecati perspiciatis necessitatibus ad laboriosam et.\nQui soluta et aut itaque quia fugiat. Id ut eum ipsam sint sequi dolor dolores. Ipsam dolorem illo quaerat similique. Ut nesciunt quia et quia fugit qui labore. Sed suscipit dolor facere iste beatae.\nAccusantium et aliquam porro accusamus non aperiam voluptatibus quo. Iure ex consequuntur repellat itaque commodi ullam nesciunt officiis. Delectus dolores qui reiciendis distinctio asperiores amet aliquid. Dolorem iure quibusdam et inventore.\nRerum sed molestias accusantium aliquid aliquam. Aut sint et temporibus dolor aut. Quae deleniti ut repellat veniam."], ["available_on", "2017-10-07 14:55:54.298341"], ["slug", "product-2-6503"], ["shipping_category_id", 211], ["created_at", "2018-10-07 14:55:54.331317"], ["updated_at", "2018-10-07 14:55:54.331317"]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 190], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 190], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:55:54.335376"], ["created_at", "2018-10-07 14:55:54.335376"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 188], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 188], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 190], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 188], ["stock_location_id", 166], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 166], ["variant_id", 188], ["created_at", "2018-10-07 14:55:54.350315"], ["updated_at", "2018-10-07 14:55:54.350315"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:55:54.352287"], ["id", 188]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 190], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 190], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 190], ["sluggable_type", "Spree::Product"], ["slug", "product-2-6503"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-6503"], ["sluggable_id", 190], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:55:54.361591"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 190]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:55:54.365686' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:55:54.366989' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:55:54.353791"], ["id", 190]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:55:54.370080' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:55:54.371289' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:55:54.383927"], ["updated_at", "2018-10-07 14:55:54.383927"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:55:54.398641"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 165], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 165], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 165], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 165], ["updated_at", "2018-10-07 14:55:54.405776"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:55:54.409307"], ["updated_at", "2018-10-07 14:55:54.409307"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 165], ["country_id", 165], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-8047"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-8047') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-8047"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 8047"], ["description", "Corporis voluptates non laborum quo ea distinctio. Nobis ipsum sequi praesentium quia ea illum eligendi. Cum accusamus atque officia est sit impedit. Aut autem non excepturi consequatur voluptate iure. Optio odit et omnis a harum omnis blanditiis.\nLaborum accusamus aperiam quaerat labore eos sapiente. Perspiciatis laborum maiores iure cum cumque. Est debitis vitae distinctio minus voluptas nisi et blanditiis. Dignissimos totam sunt consequatur id.\nPlaceat aut accusantium quis est recusandae. Sunt consequatur a et inventore quo eos qui officiis. Velit error distinctio quo enim dolor voluptatem. Et harum numquam accusantium odit distinctio soluta vitae quae. Vel excepturi quasi cupiditate laboriosam qui.\nSint repellat ut voluptatem aut. Neque in quasi magni nostrum odit adipisci vitae enim. Modi nulla est quaerat architecto atque minima velit et. Quaerat et excepturi ut placeat assumenda.\nAut maiores sapiente corporis sed nesciunt labore sed. Voluptatem inventore velit quae libero. Eligendi eos qui quisquam et ex deleniti impedit. Nam nihil accusamus ducimus iste."], ["available_on", "2017-10-07 14:55:54.391825"], ["slug", "product-3-8047"], ["shipping_category_id", 212], ["created_at", "2018-10-07 14:55:54.422942"], ["updated_at", "2018-10-07 14:55:54.422942"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 191], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 191], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:55:54.426952"], ["created_at", "2018-10-07 14:55:54.426952"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 189], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 189], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 189], ["stock_location_id", 167], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 167], ["variant_id", 189], ["created_at", "2018-10-07 14:55:54.442053"], ["updated_at", "2018-10-07 14:55:54.442053"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:55:54.444059"], ["id", 189]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 191], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 191], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 191], ["sluggable_type", "Spree::Product"], ["slug", "product-3-8047"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-8047"], ["sluggable_id", 191], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:55:54.453305"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 191]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:55:54.457322' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:55:54.458612' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:55:54.445539"], ["id", 191]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:55:54.461639' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:55:54.462835' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 153], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "brett@lubowitz.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "f333d86ff8a983b8a0b6876f77dd353ed368865f2cc891d3c3cea1f3e2881c3f3c26adf10c2265b464d1beacad21c1887c882613e0eb6b6eef8c3f239619efc9"], ["password_salt", "Ji8pGEN9hJkFdom7zNti"], ["email", "brett@lubowitz.name"], ["login", "brett@lubowitz.name"], ["authentication_token", "xxxx15389241548311xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:55:54.553276"], ["updated_at", "2018-10-07 14:55:54.553276"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 153], ["user_id", 183]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:55:54 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:55:54.581681"], ["last_sign_in_at", "2018-10-07 14:55:54.581681"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:55:54.582645"], ["id", 183]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "LMZmgg1NIh-Z0jS0NCzwSw1538924154710"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:55:54.730915"], ["spree_api_key", "49fe6b29df9f382706e01ea956289df1f3a3d21955fef5ca"], ["id", 183]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 508ms (ActiveRecord: 7.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:56:09.982252"], ["updated_at", "2018-10-07 14:56:09.982252"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:56:10.148458"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 166], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 166], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 166], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 166], ["updated_at", "2018-10-07 14:56:10.173911"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:56:10.178585"], ["updated_at", "2018-10-07 14:56:10.178585"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 166], ["country_id", 166], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-988"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-988') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-988"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 988"], ["description", "Mollitia earum et repellendus consequatur eum accusantium facilis. Molestiae totam illum nesciunt et ea unde. Expedita quia voluptatem dicta sequi velit. Saepe esse pariatur et similique earum. Libero quo aut qui omnis adipisci eos odio.\nOdio assumenda ipsa est adipisci rem ex animi. Tempore sapiente dolor et et a quis voluptas sed. Sunt enim id impedit eos officiis qui commodi doloribus. Eius non illo voluptas voluptas. Reiciendis sit quaerat sapiente eveniet.\nSuscipit ratione enim est adipisci dolorem accusamus et. Aspernatur rerum reiciendis et quisquam ab qui fugit. Nostrum similique praesentium dolorum a ut eligendi. Cumque voluptas odit quo velit nobis. Rerum non dolore quisquam dignissimos et qui ea illum.\nVoluptatibus optio distinctio qui earum sunt. Praesentium enim cumque dolore error. Eligendi et aperiam qui vel ea. Pariatur nulla facere officia ut et.\nTemporibus voluptas qui autem vitae. Voluptatibus vel natus quam blanditiis optio. Sequi aspernatur occaecati id quibusdam magni est. Voluptas aut qui consequatur pariatur possimus excepturi."], ["available_on", "2017-10-07 14:56:10.077432"], ["slug", "product-1-988"], ["shipping_category_id", 213], ["created_at", "2018-10-07 14:56:10.203242"], ["updated_at", "2018-10-07 14:56:10.203242"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 192], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 192], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:56:10.207873"], ["created_at", "2018-10-07 14:56:10.207873"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 190], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 190], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 190], ["stock_location_id", 168], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 168], ["variant_id", 190], ["created_at", "2018-10-07 14:56:10.249977"], ["updated_at", "2018-10-07 14:56:10.249977"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:10.252380"], ["id", 190]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 192], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 192], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 192], ["sluggable_type", "Spree::Product"], ["slug", "product-1-988"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-988"], ["sluggable_id", 192], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:56:10.279991"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 192]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:10.307537' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:10.312034' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:10.254083"], ["id", 192]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:10.320954' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:10.322477' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:56:10.331966"], ["updated_at", "2018-10-07 14:56:10.331966"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (3.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:56:10.353635"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 167], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 167], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 167], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 167], ["updated_at", "2018-10-07 14:56:10.363256"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:56:10.365807"], ["updated_at", "2018-10-07 14:56:10.365807"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 167], ["country_id", 167], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-8268"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-8268') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-8268"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 8268"], ["description", "Enim aut aspernatur optio ea minima. Vel qui laborum mollitia et atque. Quaerat nostrum veritatis tempore non eius voluptatem dolor in. Sed asperiores ut totam qui ratione.\nQuidem distinctio soluta at est omnis perferendis eius assumenda. Quo repellendus et ut aut. Itaque dolorem nesciunt molestias eum voluptate molestiae nostrum.\nEum voluptas eum recusandae doloremque quibusdam. Molestias ut numquam accusantium cumque. Consequuntur natus autem earum quis quia et. Saepe explicabo ad sit nesciunt expedita natus iure quae. Ut quo sunt at enim a odio.\nQui eum nihil ut modi itaque qui velit autem. Rerum ut quia aut velit nam qui. Explicabo et repellendus similique quod. Ex veritatis dolor rerum numquam perferendis non tempora occaecati. Autem necessitatibus qui explicabo at assumenda nobis.\nCulpa totam et natus in et accusantium vel eum. Voluptatem corporis ut eaque unde adipisci suscipit cumque. Consectetur non voluptates est facere. Enim aut possimus cupiditate architecto impedit."], ["available_on", "2017-10-07 14:56:10.341956"], ["slug", "product-2-8268"], ["shipping_category_id", 214], ["created_at", "2018-10-07 14:56:10.382395"], ["updated_at", "2018-10-07 14:56:10.382395"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 193], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 193], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:56:10.386748"], ["created_at", "2018-10-07 14:56:10.386748"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 191], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 191], ["stock_location_id", 169], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 169], ["variant_id", 191], ["created_at", "2018-10-07 14:56:10.405474"], ["updated_at", "2018-10-07 14:56:10.405474"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:10.407532"], ["id", 191]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 193], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 193], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 193], ["sluggable_type", "Spree::Product"], ["slug", "product-2-8268"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-8268"], ["sluggable_id", 193], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:56:10.416750"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 193]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:10.420625' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:10.425521' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:10.409082"], ["id", 193]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:10.428590' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:10.429832' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:56:10.442304"], ["updated_at", "2018-10-07 14:56:10.442304"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:56:10.460634"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 168], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 168], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 168], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 168], ["updated_at", "2018-10-07 14:56:10.469162"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (3.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:56:10.472473"], ["updated_at", "2018-10-07 14:56:10.472473"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 168], ["country_id", 168], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-1614"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-1614') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-1614"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 1614"], ["description", "In alias ducimus quia perspiciatis aut porro ullam rerum. Et hic explicabo omnis deleniti assumenda qui aliquam qui. Eveniet quis fugit et deleniti inventore delectus ducimus. Sit sit mollitia consectetur non.\nAccusantium corporis libero similique numquam ut. Omnis nostrum dicta quia voluptas asperiores velit nemo et. Voluptas voluptatibus dolorem optio itaque id fuga. Sint amet quibusdam temporibus at qui quisquam.\nVitae autem nam aliquid unde provident assumenda. Facilis impedit qui quia sunt est. Quis officiis architecto ducimus provident qui cumque quisquam."], ["available_on", "2017-10-07 14:56:10.453706"], ["slug", "product-3-1614"], ["shipping_category_id", 215], ["created_at", "2018-10-07 14:56:10.490308"], ["updated_at", "2018-10-07 14:56:10.490308"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 194], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 194], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:56:10.494406"], ["created_at", "2018-10-07 14:56:10.494406"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 192], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 192], ["stock_location_id", 170], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 170], ["variant_id", 192], ["created_at", "2018-10-07 14:56:10.509898"], ["updated_at", "2018-10-07 14:56:10.509898"], ["backorderable", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:10.511973"], ["id", 192]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 194], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 194], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 194], ["sluggable_type", "Spree::Product"], ["slug", "product-3-1614"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-1614"], ["sluggable_id", 194], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:56:10.521335"]]
  [1m[36mSpree::Taxon Load (4.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 194]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:10.528804' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:10.530187' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:10.513502"], ["id", 194]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:10.533248' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:10.534436' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 154], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "sung_champlin@andersonullrich.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "fa9b7fcec92c4de973ba0332fb653a5181c5f0856c112ab0afc19b3c32a986460e02be6f92829224b93f8c85e82ae7e32ec7e52b03402806e1466505ae8d489a"], ["password_salt", "aRfSGHuVSy2DKE5Ed6zZ"], ["email", "sung_champlin@andersonullrich.us"], ["login", "sung_champlin@andersonullrich.us"], ["authentication_token", "xxxx15389241703321xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:56:10.637010"], ["updated_at", "2018-10-07 14:56:10.637010"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 154], ["user_id", 184]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:56:10 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:56:10.669627"], ["last_sign_in_at", "2018-10-07 14:56:10.669627"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:56:10.670643"], ["id", 184]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "RAlWzUTPGyNoP18MIy9tDg1538924170797"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:56:10.816914"], ["spree_api_key", "fbbeeea78a32064c2e0238f5a73a52d332dee92f2d1d5687"], ["id", 184]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 485ms (ActiveRecord: 7.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:56:46.399782"], ["updated_at", "2018-10-07 14:56:46.399782"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:56:46.575959"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 169], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 169], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 169], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 169], ["updated_at", "2018-10-07 14:56:46.604944"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:56:46.609831"], ["updated_at", "2018-10-07 14:56:46.609831"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 169], ["country_id", 169], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-3281"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-3281') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-3281"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 3281"], ["description", "Odio ut et natus ut sed praesentium. Qui neque error est quos provident. Saepe accusantium dolor consequatur voluptatum occaecati ipsam consequuntur. Laudantium numquam saepe voluptatem sit. Rerum est et sunt quis autem.\nAssumenda nemo cupiditate qui consequatur consectetur dignissimos cum. Alias est sapiente architecto voluptas assumenda asperiores sint id. Quia sapiente voluptatum dolores id quia omnis voluptatem eligendi. Totam placeat blanditiis nihil provident alias itaque enim voluptates.\nDeleniti ratione delectus aut est quis et. Aliquid mollitia doloremque inventore quibusdam cumque quia. Sed totam at ad non inventore impedit eos. Et eum illo incidunt error."], ["available_on", "2017-10-07 14:56:46.501616"], ["slug", "product-1-3281"], ["shipping_category_id", 216], ["created_at", "2018-10-07 14:56:46.637276"], ["updated_at", "2018-10-07 14:56:46.637276"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 195], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 195], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:56:46.641752"], ["created_at", "2018-10-07 14:56:46.641752"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 193], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 193], ["stock_location_id", 171], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 171], ["variant_id", 193], ["created_at", "2018-10-07 14:56:46.690183"], ["updated_at", "2018-10-07 14:56:46.690183"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:46.692441"], ["id", 193]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 195], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 195], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 195], ["sluggable_type", "Spree::Product"], ["slug", "product-1-3281"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-3281"], ["sluggable_id", 195], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:56:46.723772"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 195]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:46.751658' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:46.756020' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:46.698708"], ["id", 195]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:46.764669' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:46.766519' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-3281"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-3281"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 216], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-3281-57f6943a-86ac-4b7b-95cd-ebba3243807d"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Product #1 - 3281"], ["available_on", "2017-10-07 14:56:46.501616"], ["slug", "product-1-3281-57f6943a-86ac-4b7b-95cd-ebba3243807d"], ["shipping_category_id", 216], ["created_at", "2018-10-07 14:56:46.786460"], ["updated_at", "2018-10-07 14:56:46.786460"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 196], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 196], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:56:46.788857"], ["created_at", "2018-10-07 14:56:46.788857"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 194], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 196], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 194], ["stock_location_id", 171], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 171], ["variant_id", 194], ["created_at", "2018-10-07 14:56:46.803221"], ["updated_at", "2018-10-07 14:56:46.803221"], ["backorderable", "t"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:46.805241"], ["id", 194]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 196], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 196], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 196], ["sluggable_type", "Spree::Product"], ["slug", "product-1-3281-57f6943a-86ac-4b7b-95cd-ebba3243807d"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-3281-57f6943a-86ac-4b7b-95cd-ebba3243807d"], ["sluggable_id", 196], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:56:46.813980"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 196]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:46.817902' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:46.819152' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:46.806643"], ["id", 196]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:46.822206' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:46.823491' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 196], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 194], ["id", 181], ["stock_location_id", 171], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:56:46.836216"], ["id", 181]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:46.838547"], ["id", 194]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 196], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:46.841776"], ["id", 196]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 196]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:46.845772' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:46.846997' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 196], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:56:46.891076"], ["updated_at", "2018-10-07 14:56:46.891076"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 28], ["product_id", 196], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 28], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 196], ["taxon_id", 28], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 28], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 28], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 28], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:56:46.908170"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 28 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:46.913645' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 28) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:46.900703"], ["id", 196]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:46.920155' WHERE "spree_taxons"."id" = 28[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:46.922872' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:46.901031"], ["id", 28]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:46.925850' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 28) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:56:46.932447"], ["updated_at", "2018-10-07 14:56:46.932447"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:56:46.949558"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 170], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 170], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 170], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 170], ["updated_at", "2018-10-07 14:56:46.957670"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:56:46.960860"], ["updated_at", "2018-10-07 14:56:46.960860"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 170], ["country_id", 170], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-2291"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-2291') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-2291"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 2291"], ["description", "Ut cum accusantium aut ipsum. Praesentium repellat earum explicabo nostrum. Dolorem optio nihil repudiandae natus cupiditate repellendus.\nDebitis ut rerum itaque hic aut sint consequatur. Ut magni laudantium voluptas recusandae nam. Quam fugiat sequi libero expedita est et cupiditate. Tempore labore et ullam iusto sequi laborum natus. Nihil excepturi voluptas maxime itaque.\nNon exercitationem nesciunt eligendi est. Nihil numquam est tempore minima. Et iure doloribus tempore error est. Deserunt aut omnis ut natus molestiae aut. Doloribus aut iure architecto dolores.\nRem at quisquam velit laboriosam. Porro velit omnis aut et vitae itaque. Quia ut consectetur id repellat dolorem ut. Quos dolores tenetur optio incidunt officiis aut. Atque quod reprehenderit deserunt corrupti nemo eum magnam.\nIn laudantium voluptates ut enim. Totam quod molestiae culpa et architecto. Voluptatem commodi est qui debitis omnis."], ["available_on", "2017-10-07 14:56:46.942742"], ["slug", "product-2-2291"], ["shipping_category_id", 217], ["created_at", "2018-10-07 14:56:46.973742"], ["updated_at", "2018-10-07 14:56:46.973742"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 197], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 197], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:56:46.977718"], ["created_at", "2018-10-07 14:56:46.977718"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 195], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 197], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 195], ["stock_location_id", 172], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 172], ["variant_id", 195], ["created_at", "2018-10-07 14:56:46.992648"], ["updated_at", "2018-10-07 14:56:46.992648"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:46.994804"], ["id", 195]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 197], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 197], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 197], ["sluggable_type", "Spree::Product"], ["slug", "product-2-2291"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-2291"], ["sluggable_id", 197], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:56:47.003930"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 197]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:47.008065' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:47.009452' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:46.996245"], ["id", 197]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:47.012464' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:47.013750' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 197], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 195], ["id", 182], ["stock_location_id", 172], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:56:47.031444"], ["id", 182]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:47.033675"], ["id", 195]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 197], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:47.036965"], ["id", 197]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 197]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:47.041081' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:47.042357' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 197], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:56:47.052276"], ["updated_at", "2018-10-07 14:56:47.052276"]]
  [1m[36mSpree::Classification Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 29], ["product_id", 197], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.4ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 29], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 197], ["taxon_id", 29], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 29], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 29], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 29], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:56:47.066458"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 29 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:47.071350' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 29) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:47.060437"], ["id", 197]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:47.076123' WHERE "spree_taxons"."id" = 29[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:47.079000' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:47.060772"], ["id", 29]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:47.082195' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 29) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:56:47.088597"], ["updated_at", "2018-10-07 14:56:47.088597"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:56:47.104201"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 171], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 171], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 171], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 171], ["updated_at", "2018-10-07 14:56:47.112126"]]
  [1m[35m (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:56:47.116065"], ["updated_at", "2018-10-07 14:56:47.116065"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 171], ["country_id", 171], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-4275"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-4275') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-4275"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 4275"], ["description", "Qui totam error laboriosam in eos. Officiis in nisi aut neque aspernatur nam molestiae temporibus. Illum praesentium assumenda reiciendis est consequatur libero architecto."], ["available_on", "2017-10-07 14:56:47.097421"], ["slug", "product-3-4275"], ["shipping_category_id", 218], ["created_at", "2018-10-07 14:56:47.130756"], ["updated_at", "2018-10-07 14:56:47.130756"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 198], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 198], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:56:47.134834"], ["created_at", "2018-10-07 14:56:47.134834"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 196], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 196], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 198], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 196], ["stock_location_id", 173], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 173], ["variant_id", 196], ["created_at", "2018-10-07 14:56:47.150356"], ["updated_at", "2018-10-07 14:56:47.150356"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:47.152377"], ["id", 196]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 198], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (1.1ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 198], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 198], ["sluggable_type", "Spree::Product"], ["slug", "product-3-4275"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-4275"], ["sluggable_id", 198], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:56:47.163247"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 198]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:47.167634' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:47.169043' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:47.153887"], ["id", 198]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:47.172312' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:47.173654' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 198], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 196], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 196], ["id", 183], ["stock_location_id", 173], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:56:47.186902"], ["id", 183]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:47.189260"], ["id", 196]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 198], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:47.192521"], ["id", 198]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 198]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:47.196349' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:47.197626' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 198], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:56:47.207777"], ["updated_at", "2018-10-07 14:56:47.207777"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 30], ["product_id", 198], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 30], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 198], ["taxon_id", 30], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.3ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 30], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 30], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 30], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:56:47.222038"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 30 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:47.227031' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 30) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:47.216259"], ["id", 198]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:47.231846' WHERE "spree_taxons"."id" = 30[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:56:47.234675' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:56:47.216563"], ["id", 30]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:56:47.237806' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 30) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 155], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "evon_ankunding@hilpert.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "8134cb14fc0bdb24fade08fecf2211bd26d652118baec0170c0b0ee13ec702df5dd8bcd92451d095228bc03ae8f2edd708532aef78bfc87ec8628da8b01c5927"], ["password_salt", "4j5byouE4Rc7Jay2sv8g"], ["email", "evon_ankunding@hilpert.name"], ["login", "evon_ankunding@hilpert.name"], ["authentication_token", "xxxx15389242078891xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:56:47.331707"], ["updated_at", "2018-10-07 14:56:47.331707"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 155], ["user_id", 185]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:56:47 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:56:47.360919"], ["last_sign_in_at", "2018-10-07 14:56:47.360919"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:56:47.361911"], ["id", 185]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "ENh8BGfigIP0G3Zqkd30lg1538924207503"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:56:47.522412"], ["spree_api_key", "4965474e1d1d895331fd1c545dc893f51de77913b6337552"], ["id", 185]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 497ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:57:23.084384"], ["updated_at", "2018-10-07 14:57:23.084384"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (3.9ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:57:23.247458"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 172], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 172], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 172], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 172], ["updated_at", "2018-10-07 14:57:23.280063"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:57:23.285027"], ["updated_at", "2018-10-07 14:57:23.285027"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 172], ["country_id", 172], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-8901"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-8901') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-8901"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 8901"], ["description", "Magni nobis voluptates eos qui. Voluptatem ducimus aut odit et cupiditate natus mollitia. Et dolore magni nulla deleniti aliquam aut sit doloremque.\nEum ut et voluptatem est. Fugiat atque sit commodi quos maiores modi aspernatur. Voluptas perferendis repudiandae ut accusantium voluptates aut et. Et earum voluptatibus pariatur et debitis dolores.\nRem totam nostrum ut et nesciunt et quia nihil. Nobis adipisci ex labore quisquam laborum et aut molestiae. Expedita voluptates blanditiis libero amet eaque et maxime."], ["available_on", "2017-10-07 14:57:23.188357"], ["slug", "product-1-8901"], ["shipping_category_id", 219], ["created_at", "2018-10-07 14:57:23.310080"], ["updated_at", "2018-10-07 14:57:23.310080"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 199], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 199], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:57:23.314983"], ["created_at", "2018-10-07 14:57:23.314983"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 197], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 197], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 199], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 197], ["stock_location_id", 174], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 174], ["variant_id", 197], ["created_at", "2018-10-07 14:57:23.377650"], ["updated_at", "2018-10-07 14:57:23.377650"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:23.380035"], ["id", 197]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 199], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 199], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 199], ["sluggable_type", "Spree::Product"], ["slug", "product-1-8901"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-8901"], ["sluggable_id", 199], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:57:23.409819"]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 199]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:23.443305' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:23.455101' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:23.381685"], ["id", 199]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:23.462463' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:23.464091' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-8901"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-8901"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-8901-09da3fb9-93b4-4e04-a269-bb1a2dfbe094"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Product #1 - 8901"], ["available_on", "2017-10-07 14:57:23.188357"], ["slug", "product-1-8901-09da3fb9-93b4-4e04-a269-bb1a2dfbe094"], ["shipping_category_id", 219], ["created_at", "2018-10-07 14:57:23.485507"], ["updated_at", "2018-10-07 14:57:23.485507"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 200], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 200], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:57:23.488273"], ["created_at", "2018-10-07 14:57:23.488273"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 198], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 198], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 198], ["stock_location_id", 174], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 174], ["variant_id", 198], ["created_at", "2018-10-07 14:57:23.504462"], ["updated_at", "2018-10-07 14:57:23.504462"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:23.506793"], ["id", 198]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 200], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 200], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 200], ["sluggable_type", "Spree::Product"], ["slug", "product-1-8901-09da3fb9-93b4-4e04-a269-bb1a2dfbe094"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-8901-09da3fb9-93b4-4e04-a269-bb1a2dfbe094"], ["sluggable_id", 200], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:57:23.516746"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 200]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:23.521169' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:23.522518' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:23.508240"], ["id", 200]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:23.525736' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:23.527013' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 200], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 198], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 198], ["id", 185], ["stock_location_id", 174], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:57:23.542922"], ["id", 185]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:23.545562"], ["id", 198]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:23.549186"], ["id", 200]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 200]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:23.553867' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:23.555235' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 200], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:57:23.623982"], ["updated_at", "2018-10-07 14:57:23.623982"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 31], ["product_id", 200], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 31], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 200], ["taxon_id", 31], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 31], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 31], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 31], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:57:23.648873"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 31 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:23.656441' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 31) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:23.637237"], ["id", 200]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:23.666146' WHERE "spree_taxons"."id" = 31[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:23.669694' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:23.637555"], ["id", 31]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:23.674220' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 31) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:57:23.704813"], ["updated_at", "2018-10-07 14:57:23.704813"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:57:23.729064"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 173], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 173], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 173], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 173], ["updated_at", "2018-10-07 14:57:23.739114"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:57:23.742401"], ["updated_at", "2018-10-07 14:57:23.742401"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 173], ["country_id", 173], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-9053"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-9053') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-9053"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 9053"], ["description", "Omnis accusantium ipsa eveniet ut quibusdam impedit error et. Dignissimos repellat iure culpa id. Deleniti vel accusamus sunt repellendus recusandae necessitatibus minus. Omnis aperiam et ratione quia sit sequi alias."], ["available_on", "2017-10-07 14:57:23.719539"], ["slug", "product-2-9053"], ["shipping_category_id", 220], ["created_at", "2018-10-07 14:57:23.759476"], ["updated_at", "2018-10-07 14:57:23.759476"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 201], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 201], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:57:23.764673"], ["created_at", "2018-10-07 14:57:23.764673"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 199], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 199], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 199], ["stock_location_id", 175], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 175], ["variant_id", 199], ["created_at", "2018-10-07 14:57:23.785006"], ["updated_at", "2018-10-07 14:57:23.785006"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:23.787653"], ["id", 199]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 201], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (1.1ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 201], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 201], ["sluggable_type", "Spree::Product"], ["slug", "product-2-9053"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-9053"], ["sluggable_id", 201], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:57:23.800447"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 201]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:23.805230' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:23.806922' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:23.789415"], ["id", 201]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:23.810338' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:23.811504' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 201], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 175], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 199], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 199], ["id", 186], ["stock_location_id", 175], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:57:23.847976"], ["id", 186]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:23.850308"], ["id", 199]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:23.853610"], ["id", 201]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 201]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:23.857621' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:23.858858' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 201], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:57:23.869268"], ["updated_at", "2018-10-07 14:57:23.869268"]]
  [1m[36mSpree::Classification Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 32], ["product_id", 201], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.4ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 32], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 201], ["taxon_id", 32], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 32], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 32], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 32], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:57:23.883331"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 32 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:23.888390' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 32) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:23.877233"], ["id", 201]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:23.893414' WHERE "spree_taxons"."id" = 32[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:23.896261' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:23.877593"], ["id", 32]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:23.899530' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 32) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 201], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:57:23.908699"], ["updated_at", "2018-10-07 14:57:23.908699"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:57:23.924699"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 174], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 174], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 174], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 174], ["updated_at", "2018-10-07 14:57:23.932834"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:57:23.936650"], ["updated_at", "2018-10-07 14:57:23.936650"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 174], ["country_id", 174], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-769"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-769') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-769"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 769"], ["description", "Enim adipisci reiciendis soluta earum. Illo sunt ipsam odio placeat blanditiis. Voluptatem nihil quia omnis illo. Rerum ipsa aperiam totam accusamus ea velit quidem.\nNostrum et voluptatum sint deserunt dolorum reprehenderit maxime est. Dolorum culpa eos sit quod officiis velit. Voluptas tempore maxime enim saepe perspiciatis nesciunt eligendi.\nQuia omnis amet est ex et sint accusamus in. Labore ullam rerum et quia voluptatibus. Natus dolorem et ut laboriosam aspernatur et. Doloremque aut animi voluptatibus nam voluptatem aut nihil."], ["available_on", "2017-10-07 14:57:23.917799"], ["slug", "product-3-769"], ["shipping_category_id", 221], ["created_at", "2018-10-07 14:57:23.950079"], ["updated_at", "2018-10-07 14:57:23.950079"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 202], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 202], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:57:23.954089"], ["created_at", "2018-10-07 14:57:23.954089"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 200], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 200], ["stock_location_id", 176], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 176], ["variant_id", 200], ["created_at", "2018-10-07 14:57:23.969470"], ["updated_at", "2018-10-07 14:57:23.969470"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:23.971566"], ["id", 200]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 202], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 202], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 202], ["sluggable_type", "Spree::Product"], ["slug", "product-3-769"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-769"], ["sluggable_id", 202], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:57:23.981002"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 202]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:23.985079' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:23.986404' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:23.973095"], ["id", 202]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:23.989593' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:23.990912' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 202], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 176], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 200], ["id", 187], ["stock_location_id", 176], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:57:24.002860"], ["id", 187]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:24.005138"], ["id", 200]]
  [1m[36mSpree::Product Load (0.2ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:24.008262"], ["id", 202]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 202]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:24.012026' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:24.013254' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 202], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:57:24.023342"], ["updated_at", "2018-10-07 14:57:24.023342"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 33], ["product_id", 202], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 33], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 202], ["taxon_id", 33], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.3ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 33], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 33], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 33], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:57:24.037302"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 33 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:24.041945' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 33) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:24.031657"], ["id", 202]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:24.046774' WHERE "spree_taxons"."id" = 33[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:24.049516' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:24.031961"], ["id", 33]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:24.052584' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 33) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 202]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 156], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "juliet_wiza@priceconsidine.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "01358285e0ad88f713441e8db6d506c20c3e284c9044ab3bebfd7723975ae23b818c6f6735ae21ea977e08f1a69ac35d2bd9f018bf18d2e1645a27f0d1d5e3c6"], ["password_salt", "xJ_dhzLDzuhi2emCGWdw"], ["email", "juliet_wiza@priceconsidine.biz"], ["login", "juliet_wiza@priceconsidine.biz"], ["authentication_token", "xxxx15389242441351xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:57:24.147599"], ["updated_at", "2018-10-07 14:57:24.147599"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 156], ["user_id", 186]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:57:24 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:57:24.177782"], ["last_sign_in_at", "2018-10-07 14:57:24.177782"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:57:24.178919"], ["id", 186]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "Y4zOGwrjerBAzIlWzbkjYA1538924244306"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:57:24.325323"], ["spree_api_key", "75330d40a8d7727b4cd5c6b424167f175eae622cb163ffa9"], ["id", 186]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 487ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:57:37.156979"], ["updated_at", "2018-10-07 14:57:37.156979"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:57:37.325769"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 175], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 175], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 175], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 175], ["updated_at", "2018-10-07 14:57:37.352172"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:57:37.357790"], ["updated_at", "2018-10-07 14:57:37.357790"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 175], ["country_id", 175], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-4359"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-4359') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-4359"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 4359"], ["description", "Cumque porro vero ullam ut vel nam quis aut. Eum iusto provident tempore ducimus beatae illum. Dolores incidunt non debitis odio ex soluta laboriosam."], ["available_on", "2017-10-07 14:57:37.252268"], ["slug", "product-1-4359"], ["shipping_category_id", 222], ["created_at", "2018-10-07 14:57:37.381791"], ["updated_at", "2018-10-07 14:57:37.381791"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 203], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 203], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:57:37.386631"], ["created_at", "2018-10-07 14:57:37.386631"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 201], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 201], ["stock_location_id", 177], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 177], ["variant_id", 201], ["created_at", "2018-10-07 14:57:37.429894"], ["updated_at", "2018-10-07 14:57:37.429894"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.432385"], ["id", 201]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 203], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 203], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 203], ["sluggable_type", "Spree::Product"], ["slug", "product-1-4359"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-4359"], ["sluggable_id", 203], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:57:37.457436"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 203]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.484166' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:37.488033' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.433996"], ["id", 203]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.495788' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:37.497404' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-4359"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-4359"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 222], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-4359-35ea0d71-4c0f-4315-a7d1-bbb71622ad0c"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Product #1 - 4359"], ["available_on", "2017-10-07 14:57:37.252268"], ["slug", "product-1-4359-35ea0d71-4c0f-4315-a7d1-bbb71622ad0c"], ["shipping_category_id", 222], ["created_at", "2018-10-07 14:57:37.515337"], ["updated_at", "2018-10-07 14:57:37.515337"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 204], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 204], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:57:37.517879"], ["created_at", "2018-10-07 14:57:37.517879"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 202], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 202], ["stock_location_id", 177], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 177], ["variant_id", 202], ["created_at", "2018-10-07 14:57:37.532690"], ["updated_at", "2018-10-07 14:57:37.532690"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.534755"], ["id", 202]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 204], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 204], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 204], ["sluggable_type", "Spree::Product"], ["slug", "product-1-4359-35ea0d71-4c0f-4315-a7d1-bbb71622ad0c"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-4359-35ea0d71-4c0f-4315-a7d1-bbb71622ad0c"], ["sluggable_id", 204], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:57:37.543795"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 204]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.547714' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:37.549045' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.536200"], ["id", 204]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.552097' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:37.553369' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 204], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 202], ["id", 189], ["stock_location_id", 177], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:57:37.566656"], ["id", 189]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.569139"], ["id", 202]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.572547"], ["id", 204]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 204]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.576551' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:37.577883' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 204], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:57:37.622490"], ["updated_at", "2018-10-07 14:57:37.622490"]]
  [1m[36mSpree::Classification Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 34], ["product_id", 204], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 34], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 204], ["taxon_id", 34], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 34], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 34], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 34], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:57:37.639423"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 34 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.644922' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 34) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.631992"], ["id", 204]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.651617' WHERE "spree_taxons"."id" = 34[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:37.654467' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.632304"], ["id", 34]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.657734' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 34) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:57:37.681147"], ["updated_at", "2018-10-07 14:57:37.681147"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:57:37.697817"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 176], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 176], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 176], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 176], ["updated_at", "2018-10-07 14:57:37.705395"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:57:37.708650"], ["updated_at", "2018-10-07 14:57:37.708650"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 176], ["country_id", 176], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-8776"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-8776') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-8776"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 8776"], ["description", "Omnis illum ipsa officiis deserunt qui ipsam. Sint eos molestiae non amet eligendi mollitia facere accusamus. Animi quas voluptatem corporis perspiciatis. Sit est dolores error officiis cum.\nNobis praesentium eum quia doloremque dolor tempore voluptatem. Et qui aliquam voluptatibus ut. Aliquid ut voluptatum iusto nam eligendi. Illum quasi quibusdam maiores similique voluptas fugit molestias.\nQuae similique et est porro itaque laboriosam. Aut tempora et et nihil iure. Perferendis voluptate culpa natus ut cum illum doloribus et.\nVoluptate est at nobis quo. Autem qui debitis corrupti neque ipsa. Aut sapiente quisquam quibusdam assumenda deserunt ipsum animi."], ["available_on", "2017-10-07 14:57:37.690879"], ["slug", "product-2-8776"], ["shipping_category_id", 223], ["created_at", "2018-10-07 14:57:37.721897"], ["updated_at", "2018-10-07 14:57:37.721897"]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 205], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 205], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:57:37.725923"], ["created_at", "2018-10-07 14:57:37.725923"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 203], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 203], ["stock_location_id", 178], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 178], ["variant_id", 203], ["created_at", "2018-10-07 14:57:37.741459"], ["updated_at", "2018-10-07 14:57:37.741459"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.743536"], ["id", 203]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 205], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 205], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 205], ["sluggable_type", "Spree::Product"], ["slug", "product-2-8776"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-8776"], ["sluggable_id", 205], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:57:37.752874"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 205]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.756911' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:37.758222' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.745023"], ["id", 205]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.761309' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:37.762558' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 205], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 203], ["id", 190], ["stock_location_id", 178], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:57:37.780789"], ["id", 190]]
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.783071"], ["id", 203]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.788107"], ["id", 205]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 205]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.792305' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:37.793701' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (2.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 205], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:57:37.806299"], ["updated_at", "2018-10-07 14:57:37.806299"]]
  [1m[36mSpree::Classification Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 35], ["product_id", 205], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 35], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 205], ["taxon_id", 35], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 35], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 35], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 35], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:57:37.821162"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 35 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.826025' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 35) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.815089"], ["id", 205]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.830928' WHERE "spree_taxons"."id" = 35[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:37.833725' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.815476"], ["id", 35]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.837034' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 35) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 205], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:57:37.846072"], ["updated_at", "2018-10-07 14:57:37.846072"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:57:37.861362"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 177], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 177], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 177], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 177], ["updated_at", "2018-10-07 14:57:37.868579"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:57:37.872443"], ["updated_at", "2018-10-07 14:57:37.872443"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 177], ["country_id", 177], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-5365"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-5365') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-5365"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 5365"], ["description", "Aliquam non aut asperiores quasi suscipit ut magni consectetur. Consequatur aperiam quia nam possimus et neque odit. Deleniti non eaque aut facere. Minima cum hic ab necessitatibus sunt quasi sed ut."], ["available_on", "2017-10-07 14:57:37.854395"], ["slug", "product-3-5365"], ["shipping_category_id", 224], ["created_at", "2018-10-07 14:57:37.886298"], ["updated_at", "2018-10-07 14:57:37.886298"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 206], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 206], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:57:37.890321"], ["created_at", "2018-10-07 14:57:37.890321"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 204], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 204], ["stock_location_id", 179], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 179], ["variant_id", 204], ["created_at", "2018-10-07 14:57:37.905821"], ["updated_at", "2018-10-07 14:57:37.905821"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.907987"], ["id", 204]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 206], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 206], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 206], ["sluggable_type", "Spree::Product"], ["slug", "product-3-5365"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-5365"], ["sluggable_id", 206], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:57:37.917768"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 206]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.922494' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:37.923887' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.909542"], ["id", 206]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.927123' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:37.928438' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 206], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 204], ["id", 191], ["stock_location_id", 179], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:57:37.940321"], ["id", 191]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.942645"], ["id", 204]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.945917"], ["id", 206]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 206]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.949747' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:37.951039' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 206], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:57:37.961328"], ["updated_at", "2018-10-07 14:57:37.961328"]]
  [1m[36mSpree::Classification Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 36], ["product_id", 206], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 36], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 206], ["taxon_id", 36], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.3ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 36], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 36], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 36], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:57:37.975449"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 36 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.980388' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 36) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.969692"], ["id", 206]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.985244' WHERE "spree_taxons"."id" = 36[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:57:37.988232' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:57:37.970017"], ["id", 36]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:57:37.991457' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 36) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 206]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 157], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "dean_streich@schmeler.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "25b40f28a738f0a7940071c7187910b344b1534a6653f222e395a0df997e8241fd1ba319120bfa42656f2d056fbc7357ad444704f3ad8a501b271e59cdac71c6"], ["password_salt", "UUqzRPfzV7op9V944nsK"], ["email", "dean_streich@schmeler.ca"], ["login", "dean_streich@schmeler.ca"], ["authentication_token", "xxxx15389242582541xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:57:38.085632"], ["updated_at", "2018-10-07 14:57:38.085632"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 157], ["user_id", 187]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:57:38 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:57:38.115931"], ["last_sign_in_at", "2018-10-07 14:57:38.115931"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:57:38.116971"], ["id", 187]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "-XrunIyPSMa-0EpJ82y0-Q1538924258254"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:57:38.274067"], ["spree_api_key", "488fcbc8262f6145bfe1c642b9b9fa44add6499c1e324833"], ["id", 187]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 509ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:58:13.603097"], ["updated_at", "2018-10-07 14:58:13.603097"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-7172"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-7172') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 225], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-7172"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Product #1 - 7172"], ["available_on", "2017-10-07 14:58:13.710030"], ["slug", "product-1-7172"], ["shipping_category_id", 225], ["created_at", "2018-10-07 14:58:13.742974"], ["updated_at", "2018-10-07 14:58:13.742974"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 207], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 207], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:58:13.746185"], ["created_at", "2018-10-07 14:58:13.746185"]]
  [1m[35mSQL (5.2ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 205], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 207], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.6ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 207], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 207], ["sluggable_type", "Spree::Product"], ["slug", "product-1-7172"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-7172"], ["sluggable_id", 207], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:58:13.818255"]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 207]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:58:13.850087' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:58:13.854353' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:58:13.751467"], ["id", 207]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:58:13.862551' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:58:13.864124' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.1ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 207], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:58:13.883500"], ["updated_at", "2018-10-07 14:58:13.883500"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:58:13.910496"], ["updated_at", "2018-10-07 14:58:13.910496"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 158], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "garrett_shields@rippin.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "a34a81ca8ac5a5f0c7eec7112abc4b1f750bc720d1f28242ce7ae2d700550d1ed67a5c8993e7f5b859bf4c8c1e003cd3791efa4830ab43c1825a28b5866fddf7"], ["password_salt", "sgtWhJZ5_YJ8vs5ZLtD3"], ["email", "garrett_shields@rippin.com"], ["login", "garrett_shields@rippin.com"], ["authentication_token", "xxxx15389242935941xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:58:14.010497"], ["updated_at", "2018-10-07 14:58:14.010497"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 158], ["user_id", 188]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:58:14 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:58:14.039974"], ["last_sign_in_at", "2018-10-07 14:58:14.039974"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:58:14.040994"], ["id", 188]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "VMgIoDmC3F1lIb96TUUMAw1538924294167"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:58:14.187283"], ["spree_api_key", "f88f8c4d3396e1163000608f2ed9e0402f6ff3b934d146cf"], ["id", 188]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 490ms (ActiveRecord: 7.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 14:58:42.676207"], ["updated_at", "2018-10-07 14:58:42.676207"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_1"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_1"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_1"], ["numcode", 840], ["updated_at", "2018-10-07 14:58:42.840672"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 178], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_1"], ["country_id", 178], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_1"], ["country_id", 178], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_1"], ["abbr", "STATE_ABBR_1"], ["country_id", 178], ["updated_at", "2018-10-07 14:58:42.866054"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:58:42.870767"], ["updated_at", "2018-10-07 14:58:42.870767"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 178], ["country_id", 178], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-847"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-847') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-847"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #1 - 847"], ["description", "Odio ut necessitatibus dolor cupiditate. Est cum soluta rerum vel quas amet qui. Voluptatem earum repellendus molestiae ratione quia id. Numquam totam sit illo officia esse illum qui rem. Expedita nihil ullam nobis magni non amet vel.\nOmnis ut rerum inventore tempora in numquam aspernatur molestiae. Molestiae dignissimos doloribus eos laudantium officiis maxime. Voluptatem consequatur quo incidunt tempora minus vero voluptate libero. Nostrum voluptatem molestiae nihil cupiditate voluptas.\nDolore non ullam doloribus et cum mollitia. Officia qui est cumque et ut. Laudantium aut sit ratione mollitia cupiditate et autem. Sit rerum fugiat temporibus hic et molestias nobis. Quis odit debitis repudiandae voluptatem ut sapiente."], ["available_on", "2017-10-07 14:58:42.770807"], ["slug", "product-1-847"], ["shipping_category_id", 228], ["created_at", "2018-10-07 14:58:42.895741"], ["updated_at", "2018-10-07 14:58:42.895741"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-1"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 208], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-1"], ["is_master", "t"], ["product_id", 208], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:58:42.900407"], ["created_at", "2018-10-07 14:58:42.900407"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 206], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 208], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 206], ["stock_location_id", 180], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 180], ["variant_id", 206], ["created_at", "2018-10-07 14:58:42.943673"], ["updated_at", "2018-10-07 14:58:42.943673"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:58:42.946194"], ["id", 206]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 208], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 208], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 208], ["sluggable_type", "Spree::Product"], ["slug", "product-1-847"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-847"], ["sluggable_id", 208], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:58:42.973829"]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 208]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:58:43.002285' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:58:43.006927' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:58:42.947729"], ["id", 208]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:58:43.015786' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:58:43.017624' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-847"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-847"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 228], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-847-7695f5ea-faa8-4b24-9066-6a264835c3d0"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Product #1 - 847"], ["available_on", "2017-10-07 14:58:42.770807"], ["slug", "product-1-847-7695f5ea-faa8-4b24-9066-6a264835c3d0"], ["shipping_category_id", 228], ["created_at", "2018-10-07 14:58:43.036460"], ["updated_at", "2018-10-07 14:58:43.036460"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 209], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 209], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:58:43.038977"], ["created_at", "2018-10-07 14:58:43.038977"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 207], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 209], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 207], ["stock_location_id", 180], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 180], ["variant_id", 207], ["created_at", "2018-10-07 14:58:43.053663"], ["updated_at", "2018-10-07 14:58:43.053663"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:58:43.055705"], ["id", 207]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 209], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 209], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 209], ["sluggable_type", "Spree::Product"], ["slug", "product-1-847-7695f5ea-faa8-4b24-9066-6a264835c3d0"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-847-7695f5ea-faa8-4b24-9066-6a264835c3d0"], ["sluggable_id", 209], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:58:43.064534"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 209]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:58:43.068502' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:58:43.069863' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:58:43.057132"], ["id", 209]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:58:43.072917' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:58:43.074168' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 209], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 180], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 207], ["id", 193], ["stock_location_id", 180], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:58:43.087099"], ["id", 193]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:58:43.089531"], ["id", 207]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 209], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:58:43.092980"], ["id", 209]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 209]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:58:43.096920' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:58:43.098154' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 209], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:58:43.142784"], ["updated_at", "2018-10-07 14:58:43.142784"]]
  [1m[36mSpree::Classification Exists (12.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 37], ["product_id", 209], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 37], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 209], ["taxon_id", 37], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 37], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 37], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 37], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:58:43.173482"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 37 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:58:43.179862' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 37) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:58:43.165356"], ["id", 209]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:58:43.186712' WHERE "spree_taxons"."id" = 37[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:58:43.189576' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:58:43.165713"], ["id", 37]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:58:43.192839' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 37) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL ORDER BY "spree_products"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.8ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL ORDER BY "spree_products"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 14:59:22.133945"], ["updated_at", "2018-10-07 14:59:22.133945"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_2"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_2"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_2"], ["numcode", 840], ["updated_at", "2018-10-07 14:59:22.155464"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (1.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 179], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_2"], ["country_id", 179], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_2"], ["country_id", 179], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_2"], ["abbr", "STATE_ABBR_2"], ["country_id", 179], ["updated_at", "2018-10-07 14:59:22.170203"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:59:22.172653"], ["updated_at", "2018-10-07 14:59:22.172653"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 179], ["country_id", 179], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-3130"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-3130') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-3130"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #2 - 3130"], ["description", "Quae aut molestiae natus ducimus enim repudiandae magni quibusdam. Consectetur enim atque accusantium nesciunt nihil. Consequatur officia quibusdam voluptatem voluptatem et autem dolores. Assumenda ullam doloremque dicta voluptatum error. Qui eos fugit non et omnis id est.\nCumque itaque distinctio necessitatibus aut tempore quae et numquam. Iste animi ducimus ipsum numquam illo fugit. Est fuga perspiciatis dolor et. Et porro nulla quia similique."], ["available_on", "2017-10-07 14:59:22.148397"], ["slug", "product-2-3130"], ["shipping_category_id", 229], ["created_at", "2018-10-07 14:59:22.185427"], ["updated_at", "2018-10-07 14:59:22.185427"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-2"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 210], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-2"], ["is_master", "t"], ["product_id", 210], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:59:22.189615"], ["created_at", "2018-10-07 14:59:22.189615"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 208], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 208], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 210], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 208], ["stock_location_id", 181], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 181], ["variant_id", 208], ["created_at", "2018-10-07 14:59:22.204380"], ["updated_at", "2018-10-07 14:59:22.204380"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:59:22.206441"], ["id", 208]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 210], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 210], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 210], ["sluggable_type", "Spree::Product"], ["slug", "product-2-3130"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-2-3130"], ["sluggable_id", 210], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:59:22.221030"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 210]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:59:22.225298' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:59:22.226568' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:59:22.207858"], ["id", 210]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:59:22.229676' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:59:22.230919' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 210], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 208], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 208], ["id", 194], ["stock_location_id", 181], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:59:22.274732"], ["id", 194]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:59:22.277140"], ["id", 208]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 210], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:59:22.280512"], ["id", 210]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 210]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:59:22.284591' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:59:22.285981' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (3.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 210], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:59:22.299544"], ["updated_at", "2018-10-07 14:59:22.299544"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 38], ["product_id", 210], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 38], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 210], ["taxon_id", 38], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 38], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 38], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 38], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:59:22.317584"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 38 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:59:22.322465' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 38) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:59:22.308017"], ["id", 210]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:59:22.327277' WHERE "spree_taxons"."id" = 38[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:59:22.330137' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:59:22.308390"], ["id", 38]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:59:22.333434' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 38) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 210], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 14:59:22.346782"], ["updated_at", "2018-10-07 14:59:22.346782"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stock_locations"[0m
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."name") = LOWER($1) LIMIT $2[0m  [["name", "NAME_3"], ["LIMIT", 1]]
  [1m[36mSpree::Country Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_countries" WHERE LOWER("spree_countries"."iso_name") = LOWER($1) LIMIT $2[0m  [["iso_name", "ISO_NAME_3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_countries" ("iso_name", "iso", "iso3", "name", "numcode", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["iso_name", "ISO_NAME_3"], ["iso", "US"], ["iso3", "USA"], ["name", "NAME_3"], ["numcode", 840], ["updated_at", "2018-10-07 14:59:22.361465"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::State Load (0.3ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 180], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."name") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["name", "STATE_NAME_3"], ["country_id", 180], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE LOWER("spree_states"."abbr") = LOWER($1) AND "spree_states"."country_id" = $2 LIMIT $3[0m  [["abbr", "STATE_ABBR_3"], ["country_id", 180], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_states" ("name", "abbr", "country_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "STATE_NAME_3"], ["abbr", "STATE_ABBR_3"], ["country_id", 180], ["updated_at", "2018-10-07 14:59:22.368938"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at", "address1", "city", "state_id", "country_id", "zipcode", "phone", "backorderable_default") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "NY Warehouse"], ["created_at", "2018-10-07 14:59:22.372247"], ["updated_at", "2018-10-07 14:59:22.372247"], ["address1", "1600 Pennsylvania Ave NW"], ["city", "Washington"], ["state_id", 180], ["country_id", 180], ["zipcode", "20500"], ["phone", "(202) 456-1111"], ["backorderable_default", "t"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-3-2332"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-3-2332') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-3-2332"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Product #3 - 2332"], ["description", "Ipsum corporis aut occaecati et. Sed consequuntur sint qui quia aliquid provident temporibus. Officiis ex optio rerum asperiores. Eos mollitia nihil aut dicta dolores rerum.\nRerum dolore possimus esse accusamus quia ad officiis. Fuga quae reprehenderit sed voluptatibus. Accusamus iste explicabo culpa eos qui asperiores. Dicta aut eligendi et rem a.\nConsequatur cupiditate tempora qui sint autem veniam mollitia voluptatibus. Consequatur consequatur ullam distinctio deserunt et. Corporis amet aut sed laborum libero error vel tempore.\nConsequatur est ut est et nostrum. Aut ut repellendus est non. Beatae impedit cum sunt aut optio veniam eius.\nEsse corporis necessitatibus est mollitia minima voluptas. Impedit dolores id molestiae rem animi repellat et eum. Tempore qui asperiores maxime autem qui. Vitae soluta voluptatem eos eum vel omnis et. Accusamus voluptates maxime nulla vero voluptatem fuga voluptatem."], ["available_on", "2017-10-07 14:59:22.354499"], ["slug", "product-3-2332"], ["shipping_category_id", 230], ["created_at", "2018-10-07 14:59:22.385926"], ["updated_at", "2018-10-07 14:59:22.385926"]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "SKU-3"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 211], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "SKU-3"], ["is_master", "t"], ["product_id", 211], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 14:59:22.389955"], ["created_at", "2018-10-07 14:59:22.389955"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 209], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 209], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 211], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 209], ["stock_location_id", 182], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 182], ["variant_id", 209], ["created_at", "2018-10-07 14:59:22.405300"], ["updated_at", "2018-10-07 14:59:22.405300"], ["backorderable", "t"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:59:22.407358"], ["id", 209]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 211], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.4ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 211], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 211], ["sluggable_type", "Spree::Product"], ["slug", "product-3-2332"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-3-2332"], ["sluggable_id", 211], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 14:59:22.416613"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 211]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:59:22.420808' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:59:22.422171' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:59:22.408794"], ["id", 211]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:59:22.425179' WHERE 1=0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:59:22.426372' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 211], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 182], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 209], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 209], ["id", 195], ["stock_location_id", 182], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 2], ["updated_at", "2018-10-07 14:59:22.438328"], ["id", 195]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = $1 WHERE "spree_variants"."id" = $2[0m  [["updated_at", "2018-10-07 14:59:22.440737"], ["id", 209]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 211], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:59:22.444031"], ["id", 211]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 211]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:59:22.447721' WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:59:22.448963' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxons"."name" = $2 LIMIT $3[0m  [["product_id", 211], ["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IS NULL LIMIT $2[0m  [["name", "new_taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "new-taxonomy"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "new_taxonomy"], ["permalink", "new-taxonomy"], ["lft", 1], ["rgt", 2], ["created_at", "2018-10-07 14:59:22.458939"], ["updated_at", "2018-10-07 14:59:22.458939"]]
  [1m[36mSpree::Classification Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 39], ["product_id", 211], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 39], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 211], ["taxon_id", 39], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.3ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 39], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 39], ["sluggable_type", "Spree::Taxon"], ["slug", "new-taxonomy"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "new-taxonomy"], ["sluggable_id", 39], ["sluggable_type", "Spree::Taxon"], ["created_at", "2018-10-07 14:59:22.473151"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 39 ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:59:22.478203' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 39) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 14:59:22.467281"], ["id", 211]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:59:22.483274' WHERE "spree_taxons"."id" = 39[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) ORDER BY "spree_taxons"."lft" ASC[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 14:59:22.486173' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IS NULL ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = $1 WHERE "spree_taxons"."id" = $2[0m  [["updated_at", "2018-10-07 14:59:22.467584"], ["id", 39]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 14:59:22.489322' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 39) ORDER BY "spree_taxons"."lft" ASC)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 211]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 159], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "hosea@nader.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "167fa49e56acd10af5ee8b0550f9cc15d6f1761d66ec1f32eb858a8306e5cc19ce58811a0a95e94374f27daf9837b498c3c3122c925ffacbd8ad3ce78e2518df"], ["password_salt", "zUm1xTBvQRTYRTgZjco5"], ["email", "hosea@nader.ca"], ["login", "hosea@nader.ca"], ["authentication_token", "xxxx15389243629721xxxxxxxxxxxxx"], ["created_at", "2018-10-07 14:59:22.583771"], ["updated_at", "2018-10-07 14:59:22.583771"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 159], ["user_id", 189]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 16:59:22 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 14:59:22.611657"], ["last_sign_in_at", "2018-10-07 14:59:22.611657"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 14:59:22.612564"], ["id", 189]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "t6PNxUQAdQ4SfG_uKCGKEg1538924362742"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 14:59:22.762838"], ["spree_api_key", "a5aeab892f76c8f904784d2e9ebedc13397c171cfbdcd467"], ["id", 189]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 492ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:02:11.233173"], ["updated_at", "2018-10-07 15:02:11.233173"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 15:02:11.247381"], ["updated_at", "2018-10-07 15:02:11.247381"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 15:02:11.288166"], ["updated_at", "2018-10-07 15:02:11.288166"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 160], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "sylvia.gleichner@blockhilpert.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "d104b82f8a0d710c1235d4b4e6ded489c58cba852bbed5d452e0b2cc01d3cca5ed55a8b899630fb21c12c7692a7f5609793c35c804cc20d0989b445fc0208525"], ["password_salt", "rpGUV-zwpWmXfmUC2xMZ"], ["email", "sylvia.gleichner@blockhilpert.ca"], ["login", "sylvia.gleichner@blockhilpert.ca"], ["authentication_token", "xxxx15389245312071xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:02:11.415507"], ["updated_at", "2018-10-07 15:02:11.415507"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 160], ["user_id", 190]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:02:11 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:02:11.443865"], ["last_sign_in_at", "2018-10-07 15:02:11.443865"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:02:11.444871"], ["id", 190]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "B56y3CnPgpU2LsvZeWQcNg1538924531570"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:02:11.589555"], ["spree_api_key", "7ddcdc3b8d036b84251f6fc0d1146502ac4b100f784130ba"], ["id", 190]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 489ms (ActiveRecord: 7.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:03:28.508928"], ["updated_at", "2018-10-07 15:03:28.508928"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-6809"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-6809') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-6809"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 15:03:28.630430"], ["updated_at", "2018-10-07 15:03:28.630430"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 15:03:28.648056"], ["updated_at", "2018-10-07 15:03:28.648056"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 161], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "malcom_turcotte@cartwrightkoepp.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "dd26c7cc15e48340ba0c0ed95df211e226c837dd929dfe0484d3f34a4169140cfa84f55dac5e20bbe76c82599b162aa10c2b3b51199a309cfa35637a06d08290"], ["password_salt", "xEqjK6nzfHEF5-UmPw8w"], ["email", "malcom_turcotte@cartwrightkoepp.name"], ["login", "malcom_turcotte@cartwrightkoepp.name"], ["authentication_token", "xxxx1538924608621xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:03:28.758459"], ["updated_at", "2018-10-07 15:03:28.758459"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 161], ["user_id", 191]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:03:28 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:03:28.785615"], ["last_sign_in_at", "2018-10-07 15:03:28.785615"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:03:28.786558"], ["id", 191]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "f5gjurLQnDeBb1m3xFCjow1538924608913"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:03:28.932894"], ["spree_api_key", "81ae95dec6de07094e82b23ae7992295aa0b6de0c9440633"], ["id", 191]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 482ms (ActiveRecord: 7.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:08:05.265287"], ["updated_at", "2018-10-07 15:08:05.265287"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 15:08:05.288260"], ["updated_at", "2018-10-07 15:08:05.288260"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-4020"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-4020') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-4020"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 15:08:05.404677"], ["updated_at", "2018-10-07 15:08:05.404677"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #4"], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #4"], ["created_at", "2018-10-07 15:08:05.427168"], ["updated_at", "2018-10-07 15:08:05.427168"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 162], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "ha@smitham.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "195768c7d24c1b648c8da426e7f9428dbbe1aa11200e2e8dc0fa6208717121aa41cd520b59c73e879ad98485ed08ad402a533cc9d0f2ec2d1165f48eba6645e2"], ["password_salt", "CKH-Uzd4ornnsat7aM2L"], ["email", "ha@smitham.co.uk"], ["login", "ha@smitham.co.uk"], ["authentication_token", "xxxx1538924885321xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:08:05.527124"], ["updated_at", "2018-10-07 15:08:05.527124"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 162], ["user_id", 192]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:08:05 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:08:05.554874"], ["last_sign_in_at", "2018-10-07 15:08:05.554874"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:08:05.555782"], ["id", 192]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "oDLxU9etpkMbsKNoLIQ-Mg1538924885681"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:08:05.700271"], ["spree_api_key", "919d17fbacb094a3cfb75c339726febb6e716b8284d44dc3"], ["id", 192]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 483ms (ActiveRecord: 7.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:08:23.284997"], ["updated_at", "2018-10-07 15:08:23.284997"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #2"], ["created_at", "2018-10-07 15:08:23.308467"], ["updated_at", "2018-10-07 15:08:23.308467"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-2-2517"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-2-2517') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-2-2517"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #3"], ["created_at", "2018-10-07 15:08:23.423941"], ["updated_at", "2018-10-07 15:08:23.423941"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #4"], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #4"], ["created_at", "2018-10-07 15:08:23.445886"], ["updated_at", "2018-10-07 15:08:23.445886"]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 163], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "rea@windler.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "fc4b68d29749811874868967f854157cb96f8f59d5fa3a7faaab1271364034581ef20b94d6100e001603e8a97dc7d9334c6aec475367ee0b312a4a41c2a3d235"], ["password_salt", "jyX6jwx9WmJ6qdtyMd-a"], ["email", "rea@windler.us"], ["login", "rea@windler.us"], ["authentication_token", "xxxx15389249031651xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:08:23.545151"], ["updated_at", "2018-10-07 15:08:23.545151"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 163], ["user_id", 193]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:08:23 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:08:23.572665"], ["last_sign_in_at", "2018-10-07 15:08:23.572665"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:08:23.573709"], ["id", 193]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "_DNCZzt-WgnTBvTcPjKcFA1538924903701"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:08:23.719716"], ["spree_api_key", "d6ae162e1082202bdbda477d07bb0825165bde9d1d6a6630"], ["id", 193]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 507ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:08:50.112212"], ["updated_at", "2018-10-07 15:08:50.112212"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 164], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "devin.sawayn@jaskolski.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "134c408d25e053c9ad29cb998031937e0da7b72f36cd86d5431c26d7fba779afb6b61309555d62e973b95ac68bc0075014f5e64390451a531fcdfdfe992010b6"], ["password_salt", "kEgvFqKce-6GEixv4-sP"], ["email", "devin.sawayn@jaskolski.biz"], ["login", "devin.sawayn@jaskolski.biz"], ["authentication_token", "xxxx15389249304381xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:08:50.235115"], ["updated_at", "2018-10-07 15:08:50.235115"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 164], ["user_id", 194]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:08:50 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:08:50.276500"], ["last_sign_in_at", "2018-10-07 15:08:50.276500"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:08:50.277425"], ["id", 194]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "vBG2KRUOLP6VE4S9tpzjuQ1538924930404"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:08:50.423093"], ["spree_api_key", "30f7f3eaae77e7af22cb1c5990b0303010536531b3fafd37"], ["id", 194]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 482ms (ActiveRecord: 6.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:15:53.625502"], ["updated_at", "2018-10-07 15:15:53.625502"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 165], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "darryl_ankunding@spencerbreitenberg.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "7f1cbba25723d7d14de069b01857888d2cede1c77698a3f6896965223dedf7f0cc82210b454d2b8afa7d1ba99c70a44b2b15a2401d68410555522274579cc66b"], ["password_salt", "_UAsTHtUt6mNsuFabrH2"], ["email", "darryl_ankunding@spencerbreitenberg.ca"], ["login", "darryl_ankunding@spencerbreitenberg.ca"], ["authentication_token", "xxxx15389253538001xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:15:53.737326"], ["updated_at", "2018-10-07 15:15:53.737326"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 165], ["user_id", 195]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:15:53 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:15:53.772675"], ["last_sign_in_at", "2018-10-07 15:15:53.772675"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:15:53.773774"], ["id", 195]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "X5z9e83dBFucntXFrx1T9w1538925353920"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:15:53.940457"], ["spree_api_key", "d462d7aa146c61cc8b205edbf26485149ed31d4b60357346"], ["id", 195]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 484ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:16:34.441715"], ["updated_at", "2018-10-07 15:16:34.441715"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 166], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "deidra@cummings.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "cebe10a6a6a84513a067ee16752cc3cf1cdcd66ae94f02cb3fdaecd32fe4c7a80b81e38d1f43ca25680f873451cde355c1961f2334f6e917f3b6ec76bfd9a8ba"], ["password_salt", "315qSGysggRts-8XdWSM"], ["email", "deidra@cummings.com"], ["login", "deidra@cummings.com"], ["authentication_token", "xxxx15389253942931xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:16:34.553882"], ["updated_at", "2018-10-07 15:16:34.553882"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 166], ["user_id", 196]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:16:34 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:16:34.590225"], ["last_sign_in_at", "2018-10-07 15:16:34.590225"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:16:34.591244"], ["id", 196]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "jYwgpUdhqmPLC9mTz183RA1538925394732"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:16:34.751865"], ["spree_api_key", "0cedbf5da1c747936584dfb6c597f2daf716e18198d35f8f"], ["id", 196]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 484ms (ActiveRecord: 6.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:17:04.741371"], ["updated_at", "2018-10-07 15:17:04.741371"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 167], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "ester@wehnerpowlowski.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "23fe5ad9b6a83675faaf453ef733ce9ee788f6cfaa0746b8c56826283d91bf33341ab2c060966e85fbf0402f43f31f6bfcde09f38e92db1a588aa840eb14fc25"], ["password_salt", "jM5EzsZgBYcgRDtKNXTT"], ["email", "ester@wehnerpowlowski.us"], ["login", "ester@wehnerpowlowski.us"], ["authentication_token", "xxxx15389254246961xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:17:04.862613"], ["updated_at", "2018-10-07 15:17:04.862613"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 167], ["user_id", 197]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:17:04 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:17:04.890874"], ["last_sign_in_at", "2018-10-07 15:17:04.890874"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:17:04.891871"], ["id", 197]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "R8B_Rp21XZsP8moVKen3cg1538925425033"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:17:05.051258"], ["spree_api_key", "10ff1fc24f241cbba493dbcab45f99fb3355a43236daa8c3"], ["id", 197]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 482ms (ActiveRecord: 6.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:17:50.845339"], ["updated_at", "2018-10-07 15:17:50.845339"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 168], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "maryanne@kerluke.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "67132ba6ece4898fae368a94ab7f6caaaaec5ac60827a8589d68b8f85fee63f15b2d3b5ec39672df9b707d2de8af3851d2485eb35d282dda21cbc091d23752f3"], ["password_salt", "oEXbZUuGMrfCyqMC81xe"], ["email", "maryanne@kerluke.us"], ["login", "maryanne@kerluke.us"], ["authentication_token", "xxxx15389254701701xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:17:50.963856"], ["updated_at", "2018-10-07 15:17:50.963856"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 168], ["user_id", 198]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:17:50 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:17:51.004155"], ["last_sign_in_at", "2018-10-07 15:17:51.004155"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:17:51.005031"], ["id", 198]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "DepS1vaEFw4LOF3z9ElGFA1538925471130"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:17:51.148927"], ["spree_api_key", "49d82108f0d6f328cb177b375fab021d3d30f245c50f55a7"], ["id", 198]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 480ms (ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:18:13.127838"], ["updated_at", "2018-10-07 15:18:13.127838"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 169], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "nobuko@murraygoodwin.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "650e34ed51c99a93484a976bcfa5f4c908841dbe117e9d6ad9d90d1b85865560fc8c7e6e59c7e874781092fab0e8f2a501110b3e055af3b46bc92e9d67e4655d"], ["password_salt", "NhxMpkvnq1Ue63hGUgez"], ["email", "nobuko@murraygoodwin.com"], ["login", "nobuko@murraygoodwin.com"], ["authentication_token", "xxxx15389254937971xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:18:13.249523"], ["updated_at", "2018-10-07 15:18:13.249523"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 169], ["user_id", 199]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:18:13 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:18:13.277940"], ["last_sign_in_at", "2018-10-07 15:18:13.277940"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:18:13.278901"], ["id", 199]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "fK0drrEmtOzSZBeNhRy44w1538925493426"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:18:13.447669"], ["spree_api_key", "e8ff37aa9335f6e144a32f25f9d0dbff89fd5e074067e6e4"], ["id", 199]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 503ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:18:52.372867"], ["updated_at", "2018-10-07 15:18:52.372867"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 170], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "denise@donnelly.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "de0516247a6e1b2b966416aead967a2acf27f4ffdb2871b57193f6b0d080114d30cbb5c0530c702fb04823a582f9aa32f1c9151154baa8908ce47c767ff2ebc6"], ["password_salt", "wNusWvakyDAsimiZevbd"], ["email", "denise@donnelly.info"], ["login", "denise@donnelly.info"], ["authentication_token", "xxxx15389255328351xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:18:52.494886"], ["updated_at", "2018-10-07 15:18:52.494886"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 170], ["user_id", 200]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:18:52 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:18:52.523339"], ["last_sign_in_at", "2018-10-07 15:18:52.523339"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:18:52.524341"], ["id", 200]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "s9BTnN_wSNAV_ZbenlrG9A1538925532684"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:18:52.705652"], ["spree_api_key", "c379d332f5647182775108f6998ef4589e42327e34f53995"], ["id", 200]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 489ms (ActiveRecord: 8.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:19:34.837497"], ["updated_at", "2018-10-07 15:19:34.837497"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 171], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "rudy.fritsch@lehner.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "f9cc2e001a08ee7552261062eb2aae27b63c3be2b77f5fe72f2df99345701222d8f3ceff068c427c4bd9b27048e0c7300444fb47b6009e1ad7544da21e1065fe"], ["password_salt", "-cmJaJC9FUBHB_8aBfXs"], ["email", "rudy.fritsch@lehner.info"], ["login", "rudy.fritsch@lehner.info"], ["authentication_token", "xxxx15389255749881xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:19:34.954977"], ["updated_at", "2018-10-07 15:19:34.954977"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 171], ["user_id", 201]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:19:34 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:19:34.996270"], ["last_sign_in_at", "2018-10-07 15:19:34.996270"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:19:34.997175"], ["id", 201]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "-394fgtsMXHD6NQELTBAFw1538925575121"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:19:35.140914"], ["spree_api_key", "24d4297742c2ea6cc042e27598d3c0f2287290ce5d852626"], ["id", 201]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 482ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:20:19.631073"], ["updated_at", "2018-10-07 15:20:19.631073"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 172], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "margareta_boyle@stokes.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "4833e04b17b5f9c19ff955a8b511841d5ad9821e5e9c09659e6507fdd424acbac7b0fd6f4262189428300c6aaddbf46f60c5236e60ebaf757499cbfce3ff74c2"], ["password_salt", "ZMqtvsCTeqM8pzieFNmT"], ["email", "margareta_boyle@stokes.com"], ["login", "margareta_boyle@stokes.com"], ["authentication_token", "xxxx15389256194741xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:20:19.754939"], ["updated_at", "2018-10-07 15:20:19.754939"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 172], ["user_id", 202]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:20:19 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:20:19.782729"], ["last_sign_in_at", "2018-10-07 15:20:19.782729"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:20:19.783732"], ["id", 202]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "WoknK3HiQBLilYdVbK3rhA1538925619927"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:20:19.946206"], ["spree_api_key", "e5878563360e0f51f256884416960900201c040c2b711048"], ["id", 202]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 483ms (ActiveRecord: 6.9ms)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:21:18.765135"], ["updated_at", "2018-10-07 15:21:18.765135"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 173], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "nancey@nienowwindler.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "5f45b531dc899f1d42237af97a4c16cec5f2e813e37909ec284b70da3e92f1cd558ab7d1fc67210525e92602698bfb797fecb3768664ce273c31e5291845e33a"], ["password_salt", "yPtMQ6aYPsTFiX_hLHmv"], ["email", "nancey@nienowwindler.co.uk"], ["login", "nancey@nienowwindler.co.uk"], ["authentication_token", "xxxx15389256918641xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:21:31.568980"], ["updated_at", "2018-10-07 15:21:31.568980"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 173], ["user_id", 203]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:21:31 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:21:31.604192"], ["last_sign_in_at", "2018-10-07 15:21:31.604192"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:21:31.605275"], ["id", 203]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "OlEMCUHXG77BIMg2surn_g1538925691803"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:21:31.836620"], ["spree_api_key", "7ed036f90f6bccd125ee3af9544f040992dabfb780a9ca45"], ["id", 203]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 537ms (ActiveRecord: 6.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:21:40.022064"], ["updated_at", "2018-10-07 15:21:40.022064"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-6471"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-6471') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-6471"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 174], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "adela_auer@schmeler.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "5b3531677537d7a60d210498f17c018f596d6e0ed1fe11ba92cb6f89c38e77e9408c66c87e733fc998f79311990b802184a1fd070d580da6dbacb77fd6fdfd98"], ["password_salt", "xh5mEL-YHRQzHWdhFkNP"], ["email", "adela_auer@schmeler.co.uk"], ["login", "adela_auer@schmeler.co.uk"], ["authentication_token", "xxxx15389257039791xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:21:43.386571"], ["updated_at", "2018-10-07 15:21:43.386571"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 174], ["user_id", 204]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:21:43 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:21:43.415116"], ["last_sign_in_at", "2018-10-07 15:21:43.415116"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:21:43.416058"], ["id", 204]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "3kgdvCtHZVfXrC6VFsijxw1538925703540"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:21:43.559170"], ["spree_api_key", "a0d48ccd6da8768fbb1bd6337ee9a7dbe9ecc87951ee769c"], ["id", 204]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 491ms (ActiveRecord: 7.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:22:18.701641"], ["updated_at", "2018-10-07 15:22:18.701641"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-9175"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-9175') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-9175"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (1.0ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 175], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "lakeisha.rau@willmshahn.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "6882c467107a9c9587611a0542302c79ecc580eadf52784271baf1aa505ef71b4722eff6369ac4ddf01fafdab483b26d7c28925a34b6dd67df70bd32cd4b0be0"], ["password_salt", "zUssMzUVs_x4_KLVCKk3"], ["email", "lakeisha.rau@willmshahn.us"], ["login", "lakeisha.rau@willmshahn.us"], ["authentication_token", "xxxx15389257406431xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:22:20.538014"], ["updated_at", "2018-10-07 15:22:20.538014"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 175], ["user_id", 205]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:22:20 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:22:20.566841"], ["last_sign_in_at", "2018-10-07 15:22:20.566841"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:22:20.567701"], ["id", 205]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "BLhmDX9jKMkbvaoceh7EOA1538925740690"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:22:20.709121"], ["spree_api_key", "de194fe4ca9ce643ab2fefca5605412322b967a96f836a86"], ["id", 205]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 485ms (ActiveRecord: 7.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:22:37.100544"], ["updated_at", "2018-10-07 15:22:37.100544"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-916"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-916') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-916"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 176], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "granville_predovic@donnelly.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "3fbeaf451b610e971e2babf0c66bf31356025e0f30fc13cef385c3f54f25e8f4c169c89199137ae9a2e3a0d5b5274fa7cd7310bf4567b020ba9c5760c8d57528"], ["password_salt", "rDY_TG28ZxGEAsjuy_Ho"], ["email", "granville_predovic@donnelly.info"], ["login", "granville_predovic@donnelly.info"], ["authentication_token", "xxxx15389257624551xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:22:42.250892"], ["updated_at", "2018-10-07 15:22:42.250892"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 176], ["user_id", 206]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:22:42 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:22:42.279287"], ["last_sign_in_at", "2018-10-07 15:22:42.279287"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:22:42.280279"], ["id", 206]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "i_q-PtMWYNQFtIpfFs6Ctg1538925762408"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:22:42.427744"], ["spree_api_key", "3318e91485e621df7948759bc5694707574c1a0bb8c2af20"], ["id", 206]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 502ms (ActiveRecord: 7.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:22:49.495227"], ["updated_at", "2018-10-07 15:22:49.495227"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-7698"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-7698') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-7698"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 177], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "holly.beer@erdmanwalter.info"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "6f74bbeab8b867ea983a45c8fbf309cd953f9b70296490bf844dff0ed6216affba0c2502f9d35ced2af6c625c721ab617b9951730fd8a4c35b273a64f8f6e5da"], ["password_salt", "pvsry6GxsPNs928xrrk2"], ["email", "holly.beer@erdmanwalter.info"], ["login", "holly.beer@erdmanwalter.info"], ["authentication_token", "xxxx15389257735311xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:22:53.840781"], ["updated_at", "2018-10-07 15:22:53.840781"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 177], ["user_id", 207]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:22:53 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:22:53.870585"], ["last_sign_in_at", "2018-10-07 15:22:53.870585"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:22:53.871515"], ["id", 207]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "ma6zAxlWuoYwQpYgg8CMMg1538925773998"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:22:54.017291"], ["spree_api_key", "a9ff6640c141dca5cf9d34c7cc011908eae4018a522fe762"], ["id", 207]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 487ms (ActiveRecord: 7.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:23:57.856764"], ["updated_at", "2018-10-07 15:23:57.856764"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = $1 LIMIT $2[0m  [["slug", "product-1-6154"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'product-1-6154') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 259], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "product-1-6154"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Product #1 - 6154"], ["available_on", "2017-10-07 15:23:57.864401"], ["slug", "product-1-6154"], ["shipping_category_id", 259], ["created_at", "2018-10-07 15:23:57.983070"], ["updated_at", "2018-10-07 15:23:57.983070"]]
  [1m[36mSpree::Variant Load (1.1ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 212], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 212], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2018-10-07 15:23:57.986495"], ["created_at", "2018-10-07 15:23:57.986495"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 210], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 210], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 212], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 212], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.5ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs"."id" DESC LIMIT $3[0m  [["sluggable_id", 212], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 212], ["sluggable_type", "Spree::Product"], ["slug", "product-1-6154"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "product-1-6154"], ["sluggable_id", 212], ["sluggable_type", "Spree::Product"], ["created_at", "2018-10-07 15:23:58.046540"]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 212]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 15:23:58.075861' WHERE 1=0[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 15:23:58.080773' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = $1 WHERE "spree_products"."id" = $2[0m  [["updated_at", "2018-10-07 15:23:57.991944"], ["id", 212]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2018-10-07 15:23:58.089589' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2018-10-07 15:23:58.091159' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::StockItem Load (1.1ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_variants" ON "spree_stock_items"."variant_id" = "spree_variants"."id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC LIMIT $2[0m  [["product_id", 212], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 178], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "paula@hyatt.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "01dd24ec867eaedeb8169e8f1e2bfccd5f670de9a3d3a93e508e87ba84456163f226abd1b735ee31d6949f918572c1b10e269946bc6153dc8f9c289e8ceff314"], ["password_salt", "ZfVs9M15dpfzTqUkxpfY"], ["email", "paula@hyatt.co.uk"], ["login", "paula@hyatt.co.uk"], ["authentication_token", "xxxx15389258389671xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:23:58.194502"], ["updated_at", "2018-10-07 15:23:58.194502"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 178], ["user_id", 208]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:23:58 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:23:58.223591"], ["last_sign_in_at", "2018-10-07 15:23:58.223591"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:23:58.224582"], ["id", 208]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "UUOVlSkBynn6prCnfdVzGQ1538925838352"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:23:58.371648"], ["spree_api_key", "b53c8e20e1ec594b76d2faec04eac84bd4b6844384a9aee7"], ["id", 208]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 504ms (ActiveRecord: 7.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:25:21.507661"], ["updated_at", "2018-10-07 15:25:21.507661"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 179], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "kirstie@wuckertrutherford.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "86387db0e58a1d80b88487d86f526bfb2b5e9e740492736e6c32f2cb78eaff37c173874bd14d7ec7ec3e81a4c83cde8aa15c32de5d235186dfdd1e24e81cb911"], ["password_salt", "x_YfgFczAADnjczvEscZ"], ["email", "kirstie@wuckertrutherford.ca"], ["login", "kirstie@wuckertrutherford.ca"], ["authentication_token", "xxxx1538925921841xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:25:21.649659"], ["updated_at", "2018-10-07 15:25:21.649659"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 179], ["user_id", 209]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:25:21 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:25:21.677997"], ["last_sign_in_at", "2018-10-07 15:25:21.677997"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:25:21.678994"], ["id", 209]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "5wDdYPH1SZDdrGHCKcaZtw1538925921806"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:25:21.825687"], ["spree_api_key", "f52e4cff87fc3af008c023c389bc45708a228d4b9cbaae08"], ["id", 209]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 490ms (ActiveRecord: 6.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:25:50.455972"], ["updated_at", "2018-10-07 15:25:50.455972"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 180], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "devorah_schuppe@schulist.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "0e951e0d03254c014f5981c877fc48edf3fbe3705b88e0c9274828eab21fcf7e11d1b468d4e84f90fcf1812cc133aaa9596877c2a9dec3acbc033e005a64c564"], ["password_salt", "crR6zeZUs6xZAG6Z6hCs"], ["email", "devorah_schuppe@schulist.us"], ["login", "devorah_schuppe@schulist.us"], ["authentication_token", "xxxx15389259503651xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:25:50.585419"], ["updated_at", "2018-10-07 15:25:50.585419"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 180], ["user_id", 210]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:25:50 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:25:50.626543"], ["last_sign_in_at", "2018-10-07 15:25:50.626543"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:25:50.627499"], ["id", 210]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "NDxysSRxnptd1bTpYkdhcw1538925950754"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:25:50.773406"], ["spree_api_key", "2803194a57c194366cba92e633416f4b5daca5b9bc44ce7c"], ["id", 210]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 492ms (ActiveRecord: 6.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:26:21.956960"], ["updated_at", "2018-10-07 15:26:21.956960"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 181], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "willia_raynor@borer.biz"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "f01f0676ab569b627d5f72c2b7c68113210fcaa5f0ea933dd2b4c675f57408bdaa4f977e8ab1e22da22817615a8f5092b9aaf4a2c89919676d05d34599c04adc"], ["password_salt", "nEc_UWyaRxsXVRkpHP7J"], ["email", "willia_raynor@borer.biz"], ["login", "willia_raynor@borer.biz"], ["authentication_token", "xxxx1538925982111xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:26:22.080915"], ["updated_at", "2018-10-07 15:26:22.080915"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 181], ["user_id", 211]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:26:22 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:26:22.123174"], ["last_sign_in_at", "2018-10-07 15:26:22.123174"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:26:22.124060"], ["id", 211]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "mrbO2kqWrQEM8VOpMP9t9w1538925982251"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:26:22.270731"], ["spree_api_key", "e851113d5db6e77ccbe9017bfc60c41f96279fc60291ddfd"], ["id", 211]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 494ms (ActiveRecord: 6.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:26:47.874968"], ["updated_at", "2018-10-07 15:26:47.874968"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 182], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "lynnette.mertz@paucek.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "58a5ec635d56bc238c01e6cfef31448efa13dbde6f58ac72ab2dafc92a3fe84d13e89f41d0c17cfe49adda6fff0748024af3612d5832ca86e5b3ba2b6ee0434b"], ["password_salt", "aWmysQWTUSZydSHjSs28"], ["email", "lynnette.mertz@paucek.name"], ["login", "lynnette.mertz@paucek.name"], ["authentication_token", "xxxx15389260073471xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:26:47.993148"], ["updated_at", "2018-10-07 15:26:47.993148"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 182], ["user_id", 212]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:26:48 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:26:48.034954"], ["last_sign_in_at", "2018-10-07 15:26:48.034954"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:26:48.035869"], ["id", 212]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "yen1VMm-f5d1SWGLislWCQ1538926008163"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:26:48.181341"], ["spree_api_key", "3df7c218bfc6d3075ed00561d7dc6d4b70d95ec9a2b01b0c"], ["id", 212]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 485ms (ActiveRecord: 6.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:27:32.519987"], ["updated_at", "2018-10-07 15:27:32.519987"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 183], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "bea.altenwerth@rempelmckenzie.us"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "e90f3557878a7112ccfaa8a44e0bda255a12f1e63f9a35f27a88f8abcb42416efed84a90d33901ecb6b03917e92545ab99ce474a463b4ccb2179d63ea962d378"], ["password_salt", "8xyb7Ax8heZ-KqX2_wmQ"], ["email", "bea.altenwerth@rempelmckenzie.us"], ["login", "bea.altenwerth@rempelmckenzie.us"], ["authentication_token", "xxxx15389260523101xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:27:32.671036"], ["updated_at", "2018-10-07 15:27:32.671036"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 183], ["user_id", 213]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:27:32 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:27:32.700742"], ["last_sign_in_at", "2018-10-07 15:27:32.700742"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:27:32.701711"], ["id", 213]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "hShfeKg2FG2y29CN-uO5kA1538926052841"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:27:32.858992"], ["spree_api_key", "229309ec42284ed166cfc1fd016513f3490b926d88819dc6"], ["id", 213]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 483ms (ActiveRecord: 6.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:27:54.537794"], ["updated_at", "2018-10-07 15:27:54.537794"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 184], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "bonnie.stark@williamsonpaucek.ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "95d60f1ed21e387528870792afeef6907d7dfdcc7210c8e4f94067af81032ec7a950c878c1b49f9d2552cb743df108abf4f31db0abfd634aebfef837544d8d4b"], ["password_salt", "sAv8YdMHf8hQ6kXWnUf-"], ["email", "bonnie.stark@williamsonpaucek.ca"], ["login", "bonnie.stark@williamsonpaucek.ca"], ["authentication_token", "xxxx1538926074141xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:27:54.654287"], ["updated_at", "2018-10-07 15:27:54.654287"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 184], ["user_id", 214]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:27:54 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:27:54.682635"], ["last_sign_in_at", "2018-10-07 15:27:54.682635"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:27:54.683629"], ["id", 214]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "Abg2VR5rKTqknLyc9SiqyA1538926074822"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:27:54.840968"], ["spree_api_key", "6f837b226ee4b366b64df0d63ee0cc9126828abeafb00b1c"], ["id", 214]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 482ms (ActiveRecord: 6.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "ShippingCategory #1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ShippingCategory #1"], ["created_at", "2018-10-07 15:29:10.504569"], ["updated_at", "2018-10-07 15:29:10.504569"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 185], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "kathline@hansen.name"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "8b367c940344545ca6f7fae19068d3b4dfad5b5cd8403446918dc780aede88740155fd89b197f02b51eae18f95774369e1fa241331cd5a5ecaac63082b5c3658"], ["password_salt", "P7xAnXy3UEs_guhy2m_k"], ["email", "kathline@hansen.name"], ["login", "kathline@hansen.name"], ["authentication_token", "xxxx15389261503641xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:29:10.626312"], ["updated_at", "2018-10-07 15:29:10.626312"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 185], ["user_id", 215]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:29:10 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:29:10.667934"], ["last_sign_in_at", "2018-10-07 15:29:10.667934"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:29:10.668878"], ["id", 215]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "BrtcuPIlqUUhg4LdybQKVA1538926150793"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:29:10.811269"], ["spree_api_key", "f9be8228003cf4a52c19bffcd427cda02e56fcdb7041f1d6"], ["id", 215]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 484ms (ActiveRecord: 6.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) AND ("spree_roles"."id" != $2) LIMIT $3[0m  [["name", "admin"], ["id", 186], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "daren_wintheiser@friesen.co.uk"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "authentication_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["encrypted_password", "c20ccee2c7018e0d2a9bc099c4b12cb5195f0ed2847261de80001a2c1781d688cfa6c08a5b2e4bd33737d0d33759f6c175b358fe0401999fdd8838ffe0d78ec8"], ["password_salt", "ag8kUzQGkDJBoCA71J3D"], ["email", "daren_wintheiser@friesen.co.uk"], ["login", "daren_wintheiser@friesen.co.uk"], ["authentication_token", "xxxx15389262306761xxxxxxxxxxxxx"], ["created_at", "2018-10-07 15:30:30.383596"], ["updated_at", "2018-10-07 15:30:30.383596"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 186], ["user_id", 216]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/admin/products/upload" for 127.0.0.1 at 2018-10-07 17:30:30 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-10-07 15:30:30.412003"], ["last_sign_in_at", "2018-10-07 15:30:30.412003"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-10-07 15:30:30.413024"], ["id", 216]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Spree::Admin::ProductsController#upload as HTML
  Parameters: {"file_path"=>"/some/path/to/file"}
  [1m[36mSpree::Order Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "c4icPrrsNbeTl4Iqwa1cCg1538926230584"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2018-10-07 15:30:30.607122"], ["spree_api_key", "0e087d1cc665d7a47b6f16b88edeaf3d5cbb3f04ef870cc2"], ["id", 216]]
  [1m[35m (3.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for Spree::Admin::ProductsController#upload, rendering head :no_content
Completed 204 No Content in 555ms (ActiveRecord: 13.1ms)
  [1m[35m (4.4ms)[0m  [1m[31mROLLBACK[0m
